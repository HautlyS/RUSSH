const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/window-_52BmA96.js","assets/vue-vendor-DDhLe2KT.js","assets/ui-vendor-B_QD22ki.js","assets/DashboardView-Dy_FWyqM.js","assets/RotatingText.vue_vue_type_script_setup_true_lang-BWApyQVQ.js","assets/animation-vendor-B1HzE2Z-.js","assets/ConnectionsView-KZ5OM5g6.js","assets/ElectricBorder.vue_vue_type_script_setup_true_lang-KO2pd-Tg.js","assets/NewConnectionView-BNoWWNH7.js","assets/ConnectionForm.vue_vue_type_script_setup_true_lang-phZPIJLH.js","assets/EditConnectionView-JcR8f1K9.js","assets/TerminalView-CdE3--dd.js","assets/xterm-vendor-86Ol6Mvu.js","assets/terminalThemes-B5Ggu4W8.js","assets/Lightning-C3IqH1GN.js","assets/Lightning-BzPC7s00.css","assets/TerminalView-CaBUrFle.css","assets/FilesView-G6GBWqdJ.js","assets/SettingsView-Dly9MkQe.js","assets/P2PView-CLubDVn4.js","assets/P2PTerminalView-dcp0toIm.js","assets/P2PTerminalView-_79YMVJM.css","assets/StreamingView-CVbLoVdl.js"])))=>i.map(i=>d[i]);
import{x as Rn,k as ue,w as Mt,c as G,o as pt,a as vt,y as dn,d as ft,z as sn,A as mi,B as H,D as ye,E as R,F as Me,G as We,H as ct,e as U,m as Qu,I as St,r as ar,J as ae,K as X,b as Ne,g as xt,f as _t,L as he,M as sr,N as Di,O as wi,P as yi,Q as Ht,R as lr,T as eo,S as to,j as no,q as ro,U as io,V as uo,W as oo,X as ao}from"./vue-vendor-DDhLe2KT.js";import{invoke as nt}from"@tauri-apps/api/core";import{M as so,T as Ei,S as lo,a as cr,C as bi,W as co,b as fo,B as Ar,c as ln,d as cn,e as ho,P as fr,f as po,Z as Ci,L as Fi,U as Ai,g as vo,h as go,F as mo,i as Do,j as wo,k as yo,l as Eo,K as bo,A as _r,X as Co,I as Fo,m as Ao,n as _o,o as Bo}from"./ui-vendor-B_QD22ki.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();const xo={globalEnabled:!0,reducedMotion:!1,gpuAcceleration:!0,clickSpark:{enabled:!0,color:"#27FF64",sparkCount:8,sparkSize:10,sparkRadius:20,duration:400},noise:{enabled:!0,alpha:5,refreshInterval:3,mixBlendMode:"overlay"},decryptedText:{enabled:!0,speed:50,maxIterations:10,sequential:!0},electricBorder:{enabled:!0,color:"#27FF64",speed:.8,chaos:.3,thickness:2},magnet:{enabled:!0,padding:80,magnetStrength:4},lightning:{enabled:!1,hue:230,intensity:.3,speed:.5,locations:[]},gradualBlur:{enabled:!0,strength:2,height:"4rem"},rotatingText:{enabled:!0,rotationInterval:3e3,staggerDuration:.03},elasticSlider:{enabled:!0},flowingMenu:{enabled:!0},stepper:{enabled:!0}},un={general:{startMinimized:!1,minimizeToTray:!0,checkUpdates:!0,autoConnect:!1,language:"en"},terminal:{fontFamily:"JetBrains Mono, Menlo, Monaco, monospace",fontSize:14,lineHeight:1.2,cursorStyle:"block",cursorBlink:!0,scrollback:1e4,copyOnSelect:!1,rightClickPaste:!0,bellSound:!1,theme:"dark"},appearance:{theme:"system",accentColor:"#3b82f6",terminalTheme:"dracula",sidebarPosition:"left",compactMode:!1,compactSidebar:!1,showStatusBar:!0},keyboard:{shortcuts:{newConnection:"Ctrl+N",newTab:"Ctrl+T",closeTab:"Ctrl+W",nextTab:"Ctrl+Tab",prevTab:"Ctrl+Shift+Tab",commandPalette:"Ctrl+K",settings:"Ctrl+,",toggleSidebar:"Ctrl+B"},enableGlobalShortcuts:!1},notifications:{enabled:!0,sound:!1,connectionEvents:!0,transferComplete:!0,errors:!0},visualEffects:xo},zn=Rn("settings",()=>{const e=ue(structuredClone(un)),t=ue(!1),n=ue(!1);async function r(){t.value=!0;try{const h=await nt("settings_load");h&&(e.value=c(un,h)),n.value=!1}catch(h){console.error("Failed to load settings:",h)}finally{t.value=!1}}async function i(){try{await nt("settings_save",{settings:e.value}),n.value=!1}catch(h){console.error("Failed to save settings:",h)}}function u(h){e.value={...e.value,...h,general:{...e.value.general,...h.general},terminal:{...e.value.terminal,...h.terminal},appearance:{...e.value.appearance,...h.appearance},keyboard:{...e.value.keyboard,...h.keyboard},notifications:{...e.value.notifications,...h.notifications},visualEffects:{...e.value.visualEffects,...h.visualEffects}},n.value=!0}function o(h,v,s){e.value[h][v]=s,n.value=!0}function a(){e.value=structuredClone(un),n.value=!0,i()}function f(h){e.value[h]=structuredClone(un[h]),n.value=!0,i()}async function l(){return JSON.stringify(e.value,null,2)}async function d(h){try{const v=JSON.parse(h);e.value=c(un,v),n.value=!0,await i()}catch{throw new Error("Invalid settings format")}}function c(h,v){return{general:{...h.general,...v.general},terminal:{...h.terminal,...v.terminal},appearance:{...h.appearance,...v.appearance},keyboard:{...h.keyboard,...v.keyboard,shortcuts:{...h.keyboard.shortcuts,...v.keyboard?.shortcuts}},notifications:{...h.notifications,...v.notifications},visualEffects:{...h.visualEffects,...v.visualEffects,clickSpark:{...h.visualEffects.clickSpark,...v.visualEffects?.clickSpark},noise:{...h.visualEffects.noise,...v.visualEffects?.noise},decryptedText:{...h.visualEffects.decryptedText,...v.visualEffects?.decryptedText},electricBorder:{...h.visualEffects.electricBorder,...v.visualEffects?.electricBorder},magnet:{...h.visualEffects.magnet,...v.visualEffects?.magnet},lightning:{...h.visualEffects.lightning,...v.visualEffects?.lightning},gradualBlur:{...h.visualEffects.gradualBlur,...v.visualEffects?.gradualBlur},rotatingText:{...h.visualEffects.rotatingText,...v.visualEffects?.rotatingText},elasticSlider:{...h.visualEffects.elasticSlider,...v.visualEffects?.elasticSlider},flowingMenu:{...h.visualEffects.flowingMenu,...v.visualEffects?.flowingMenu},stepper:{...h.visualEffects.stepper,...v.visualEffects?.stepper}}}}let p=null;return Mt(e,()=>{p&&clearTimeout(p),p=setTimeout(()=>{n.value&&i()},1e3)},{deep:!0}),{settings:e,isLoading:t,isDirty:n,loadSettings:r,saveSettings:i,updateSettings:u,updateSetting:o,resetToDefaults:a,resetCategory:f,exportSettings:l,importSettings:d}}),en=Rn("connections",()=>{const e=ue([]),t=ue(new Map),n=ue(null),r=ue(!1),i=ue(null),u=G(()=>[...e.value].sort((D,F)=>D.folder!==F.folder?(D.folder||"").localeCompare(F.folder||""):D.name.localeCompare(F.name))),o=G(()=>e.value.filter(D=>{const F=t.value.get(D.id);return F&&F.status==="connected"})),a=G(()=>{const D=new Set;return e.value.forEach(F=>{F.folder&&D.add(F.folder)}),Array.from(D).sort()}),f=G(()=>e.value.filter(D=>D.tags.includes("favorite"))),l=G(()=>[...e.value].filter(D=>D.lastConnected).sort((D,F)=>{const A=new Date(D.lastConnected||0);return new Date(F.lastConnected||0).getTime()-A.getTime()}).slice(0,5));async function d(){r.value=!0,i.value=null;try{e.value=await nt("profile_list")}catch(D){i.value=String(D),console.error("Failed to load profiles:",D)}finally{r.value=!1}}async function c(D){const F=await nt("profile_create",{profile:D});return await d(),F}async function p(D){await nt("profile_update",{profile:D}),await d()}async function h(D){await nt("profile_delete",{profileId:D}),e.value=e.value.filter(F=>F.id!==D)}async function v(D,F){const A=e.value.find(_=>_.id===D);if(!A)throw new Error("Profile not found");t.value.set(D,{sessionId:"",profileId:D,status:"connecting",stats:w()});try{const _=await nt("ssh_connect",{request:{host:A.host,port:A.port,username:A.username,authType:A.authType,password:F,keyPath:A.keyPath}});t.value.set(D,{sessionId:_.sessionId,profileId:D,status:"connected",connectedAt:new Date,stats:w()});const M={...A,lastConnected:new Date().toISOString(),useCount:A.useCount+1};return await p(M),_.sessionId}catch(_){throw t.value.set(D,{sessionId:"",profileId:D,status:"error",error:String(_),stats:w()}),_}}async function s(D){const F=t.value.get(D);F&&(await nt("ssh_disconnect",{sessionId:F.sessionId}),t.value.delete(D))}function g(D){return t.value.get(D)}function E(D){for(const F of t.value.values())if(F.sessionId===D)return F}function C(D){n.value=D}function w(){return{uptime:0,bytesSent:0,bytesReceived:0,commandsExecuted:0}}const y=G(()=>t.value);async function m(D,F){const A=e.value.find(_=>_.id===D);A&&await p({...A,folder:F})}return{profiles:e,activeConnections:t,connectionStates:y,selectedProfileId:n,isLoading:r,error:i,sortedProfiles:u,connectedProfiles:o,folders:a,favoriteProfiles:f,recentProfiles:l,loadProfiles:d,createProfile:c,updateProfile:p,deleteProfile:h,connect:v,disconnect:s,getConnection:g,getConnectionBySessionId:E,selectProfile:C,moveToFolder:m}});function _i(){const e=zn(),t=ue("dark");let n=null,r=null;const i=G(()=>e.settings.appearance.theme),u=G(()=>{const p=e.settings.appearance.theme;return p==="system"?t.value:p}),o=G(()=>u.value==="dark");function a(){const p=document.documentElement;o.value?p.classList.add("dark"):p.classList.remove("dark"),f(e.settings.appearance.accentColor)}function f(p){const h=document.documentElement,v=p.replace("#",""),s=parseInt(v.substring(0,2),16),g=parseInt(v.substring(2,4),16),E=parseInt(v.substring(4,6),16);h.style.setProperty("--accent-500",`${s} ${g} ${E}`),h.style.setProperty("--accent-400",`${Math.min(s+30,255)} ${Math.min(g+30,255)} ${Math.min(E+30,255)}`),h.style.setProperty("--accent-600",`${Math.max(s-30,0)} ${Math.max(g-30,0)} ${Math.max(E-30,0)}`)}function l(){n=window.matchMedia("(prefers-color-scheme: dark)"),t.value=n.matches?"dark":"light",r=p=>{t.value=p.matches?"dark":"light"},n.addEventListener("change",r)}function d(p){e.updateSetting("appearance","theme",p)}function c(){const p=o.value?"light":"dark";d(p)}return Mt(u,a),Mt(()=>e.settings.appearance.accentColor,f),pt(()=>{l(),a()}),vt(()=>{n&&r&&n.removeEventListener("change",r)}),{theme:i,effectiveTheme:u,isDark:o,systemTheme:t,setTheme:d,toggleTheme:c}}const No=Rn("terminals",()=>{const e=ue([]),t=ue(null),n=G(()=>e.value.find(h=>h.id===t.value)),r=G(()=>{const h=new Map;return e.value.forEach(v=>{const s=h.get(v.sessionId)||[];s.push(v),h.set(v.sessionId,s)}),h});function i(h,v,s){const g=crypto.randomUUID();return e.value.forEach(E=>E.isActive=!1),e.value.push({id:g,sessionId:h,profileId:v,title:s,isActive:!0}),t.value=g,g}function u(h){const v=e.value.findIndex(g=>g.id===h);if(v===-1)return;if(e.value[v].terminal?.dispose(),e.value.splice(v,1),t.value===h){const g=Math.max(0,v-1);t.value=e.value[g]?.id||null,e.value[g]&&(e.value[g].isActive=!0)}}function o(h){e.value.filter(s=>s.sessionId===h).forEach(s=>u(s.id))}function a(h){e.value.forEach(v=>v.isActive=v.id===h),t.value=h}function f(h,v){const s=e.value.find(g=>g.id===h);s&&(s.title=v)}function l(h,v){const s=e.value.find(g=>g.id===h);s&&(s.terminal=v)}function d(h){return e.value.find(s=>s.id===h)?.terminal}function c(){if(e.value.length<=1)return;const v=(e.value.findIndex(s=>s.id===t.value)+1)%e.value.length;a(e.value[v].id)}function p(){if(e.value.length<=1)return;const v=(e.value.findIndex(s=>s.id===t.value)-1+e.value.length)%e.value.length;a(e.value[v].id)}return{tabs:e,activeTabId:t,activeTab:n,tabsBySession:r,createTab:i,closeTab:u,closeTabsBySession:o,setActiveTab:a,updateTabTitle:f,setTerminalInstance:l,getTerminalInstance:d,nextTab:c,previousTab:p}});function Mo(){const e=dn(),t=zn(),n=No(),r={newConnection:()=>e.push("/connections/new"),newTab:()=>{document.dispatchEvent(new CustomEvent("new-terminal-tab"))},closeTab:()=>{n.activeTabId&&n.closeTab(n.activeTabId)},nextTab:()=>n.nextTab(),prevTab:()=>n.previousTab(),commandPalette:()=>{document.dispatchEvent(new CustomEvent("open-command-palette"))},settings:()=>e.push("/settings"),toggleSidebar:()=>{document.dispatchEvent(new CustomEvent("toggle-sidebar"))}};function i(f){const l=f.target,d=l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement||l.isContentEditable,c=(f.ctrlKey||f.metaKey)&&f.key==="k";if(d&&!c)return;const p=t.settings.keyboard.shortcuts,h=u(f);for(const[v,s]of Object.entries(p))if(o(s)===h){f.preventDefault(),f.stopPropagation(),r[v]?.();return}}function u(f){const l=[];(f.ctrlKey||f.metaKey)&&l.push("ctrl"),f.shiftKey&&l.push("shift"),f.altKey&&l.push("alt");let d=f.key.toLowerCase();return d===" "&&(d="space"),d==="escape"&&(d="esc"),l.push(d),l.sort().join("+")}function o(f){return f.toLowerCase().replace(/cmd/g,"ctrl").replace(/command/g,"ctrl").replace(/\s+/g,"").split("+").sort().join("+")}function a(f){const l=navigator.platform.toUpperCase().indexOf("MAC")>=0;return f.split("+").map(d=>{const c=d.trim().toLowerCase();return c==="ctrl"?l?"⌘":"Ctrl":c==="shift"?l?"⇧":"Shift":c==="alt"?l?"⌥":"Alt":c==="tab"?"⇥":c==="esc"?"Esc":c.charAt(0).toUpperCase()+c.slice(1)}).join(l?"":"+")}return pt(()=>{window.addEventListener("keydown",i)}),vt(()=>{window.removeEventListener("keydown",i)}),{getShortcutString:u,normalizeShortcut:o,formatShortcut:a}}const So="modulepreload",To=function(e){return"/"+e},Br={},tt=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(f=>{if(f=To(f),f in Br)return;Br[f]=!0;const l=f.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${d}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":So,l||(c.as="script"),c.crossOrigin="",c.href=f,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((p,h)=>{c.addEventListener("load",p),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&u(a.reason);return t().catch(u)})};function Bi(){const e=ue("unknown"),t=ue(!1),n=ue(!1),r=ue(0),i=G(()=>e.value==="ios"||e.value==="android"),u=G(()=>e.value==="windows"||e.value==="macos"||e.value==="linux"),o=G(()=>e.value==="macos"),a=G(()=>e.value==="windows"),f=G(()=>e.value==="linux"),l=G(()=>e.value==="ios"),d=G(()=>e.value==="android");async function c(){if(t.value=typeof window<"u"&&"__TAURI__"in window,t.value)try{await tt(()=>import("./window-_52BmA96.js"),__vite__mapDeps([0,1,2])),p()}catch{p()}else p()}function p(){const y=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(y)?e.value="ios":/android/.test(y)?e.value="android":/mac/.test(y)?e.value="macos":/win/.test(y)?e.value="windows":/linux/.test(y)?e.value="linux":e.value="unknown"}async function h(y="light"){if(i.value){if(t.value)try{const{invoke:m}=await tt(async()=>{const{invoke:D}=await import("@tauri-apps/api/core");return{invoke:D}},[]);await m("haptic_feedback",{type:y});return}catch{}if("vibrate"in navigator){const m={light:[10],medium:[20],heavy:[30],success:[10,50,10],warning:[20,50,20],error:[30,50,30,50,30]};navigator.vibrate(m[y])}}}function v(){return o.value?"⌘":"Ctrl"}function s(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function g(){const y=getComputedStyle(document.documentElement);return{top:parseInt(y.getPropertyValue("env(safe-area-inset-top)")||"0"),right:parseInt(y.getPropertyValue("env(safe-area-inset-right)")||"0"),bottom:parseInt(y.getPropertyValue("env(safe-area-inset-bottom)")||"0"),left:parseInt(y.getPropertyValue("env(safe-area-inset-left)")||"0")}}function E(y){n.value=!0,r.value=y.detail?.keyboardHeight||300}function C(){n.value=!1,r.value=0}function w(){if(window.visualViewport){const y=window.innerHeight-window.visualViewport.height;n.value=y>150,r.value=y>150?y:0}}return pt(()=>{c(),window.addEventListener("keyboardDidShow",E),window.addEventListener("keyboardDidHide",C),window.visualViewport?.addEventListener("resize",w)}),vt(()=>{window.removeEventListener("keyboardDidShow",E),window.removeEventListener("keyboardDidHide",C),window.visualViewport?.removeEventListener("resize",w)}),{platform:e,isTauri:t,isMobile:i,isDesktop:u,isMac:o,isWindows:a,isLinux:f,isIOS:l,isAndroid:d,isKeyboardVisible:n,keyboardHeight:r,hapticFeedback:h,getModifierKey:v,isTouchDevice:s,getSafeAreaInsets:g}}function dr(){const e=zn(),t=ue(!1);let n=null;const r=()=>{typeof window<"u"&&(n=window.matchMedia("(prefers-reduced-motion: reduce)"),t.value=n.matches)},i=_=>{t.value=_.matches};pt(()=>{r(),n?.addEventListener("change",i)}),vt(()=>{n?.removeEventListener("change",i)});const u=G(()=>e.settings.visualEffects),o=G(()=>u.value.globalEnabled&&!u.value.reducedMotion&&!t.value),a=G(()=>o.value&&u.value.clickSpark.enabled),f=G(()=>o.value&&u.value.noise.enabled),l=G(()=>o.value&&u.value.decryptedText.enabled),d=G(()=>o.value&&u.value.electricBorder.enabled),c=G(()=>o.value&&u.value.magnet.enabled),p=G(()=>o.value&&u.value.lightning.enabled),h=G(()=>o.value&&u.value.gradualBlur.enabled),v=G(()=>o.value&&u.value.rotatingText.enabled),s=G(()=>o.value&&u.value.elasticSlider.enabled),g=G(()=>o.value&&u.value.flowingMenu.enabled),E=G(()=>o.value&&u.value.stepper.enabled),C=_=>G(()=>p.value&&u.value.lightning.locations.includes(_)),w=_=>{e.updateSettings({visualEffects:{...u.value,..._}})},y=_=>{const M=u.value[_];typeof M=="object"&&"enabled"in M&&w({[_]:{...M,enabled:!M.enabled}})},m=()=>{w({globalEnabled:!u.value.globalEnabled})},D=_=>{w({reducedMotion:_})},F=(_,M)=>e.settings.appearance.theme==="dark"||e.settings.appearance.theme==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?M:_,A=G(()=>e.settings.appearance.accentColor);return{visualEffects:u,prefersReducedMotion:t,effectsEnabled:o,accentColor:A,isClickSparkEnabled:a,isNoiseEnabled:f,isDecryptedTextEnabled:l,isElectricBorderEnabled:d,isMagnetEnabled:c,isLightningEnabled:p,isGradualBlurEnabled:h,isRotatingTextEnabled:v,isElasticSliderEnabled:s,isFlowingMenuEnabled:g,isStepperEnabled:E,isLightningEnabledFor:C,updateVisualEffects:w,toggleEffect:y,toggleGlobalEffects:m,setReducedMotion:D,getThemeAwareColor:F}}const hr=Rn("notifications",()=>{const e=ue([]),t=100,n=G(()=>e.value.filter(s=>!s.read).length),r=G(()=>e.value.slice(0,10)),i=G(()=>e.value.filter(s=>!s.read));function u(s,g,E,C){const w={id:crypto.randomUUID(),type:s,title:g,message:E,timestamp:new Date,read:!1,action:C?.action,autoClose:C?.autoClose??!0,duration:C?.duration??5e3};return e.value.unshift(w),e.value.length>t&&(e.value=e.value.slice(0,t)),w.autoClose&&setTimeout(()=>{o(w.id)},w.duration),w.id}function o(s){const g=e.value.find(E=>E.id===s);g&&!g.read&&(g.read=!0)}function a(){e.value.forEach(s=>s.read=!0)}function f(s){const g=e.value.findIndex(E=>E.id===s);g!==-1&&e.value.splice(g,1)}function l(){e.value=[]}function d(){e.value=e.value.filter(s=>!s.read)}function c(s,g,E){return u("success",s,g,{action:E})}function p(s,g,E){return u("error",s,g,{action:E,autoClose:!1})}function h(s,g,E){return u("warning",s,g,{action:E})}function v(s,g,E){return u("info",s,g,{action:E})}return{notifications:e,unreadCount:n,recentNotifications:r,unreadNotifications:i,addNotification:u,markAsRead:o,markAllAsRead:a,removeNotification:f,clearAll:l,clearRead:d,success:c,error:p,warning:h,info:v}}),Io={class:"sr-only"},ko={"aria-hidden":"true"},Oo=ft({__name:"DecryptedText",props:{text:{default:""},speed:{default:50},maxIterations:{default:10},sequential:{type:Boolean,default:!1},revealDirection:{default:"start"},useOriginalCharsOnly:{type:Boolean,default:!1},characters:{default:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+"},className:{default:""},encryptedClassName:{default:""},parentClassName:{default:""},animateOn:{default:"hover"}},emits:["animationComplete"],setup(e,{emit:t}){const n=e,r=t,i=sn("containerRef"),u=ue(n.text),o=ue(!1),a=ue(!1),f=ue(new Set),l=ue(!1);let d=null,c=null;Mt([()=>o.value,()=>n.text,()=>n.speed,()=>n.maxIterations,()=>n.sequential,()=>n.revealDirection,()=>n.characters,()=>n.useOriginalCharsOnly],()=>{let v=0;const s=C=>{const w=n.text.length;switch(n.revealDirection){case"start":return C.size;case"end":return w-1-C.size;case"center":{const y=Math.floor(w/2),m=Math.floor(C.size/2),D=C.size%2===0?y+m:y-m-1;if(D>=0&&D<w&&!C.has(D))return D;for(let F=0;F<w;F++)if(!C.has(F))return F;return 0}default:return C.size}},g=n.useOriginalCharsOnly?Array.from(new Set(n.text.split(""))).filter(C=>C!==" "):n.characters.split(""),E=(C,w)=>{if(n.useOriginalCharsOnly){const y=C.split("").map((F,A)=>({char:F,isSpace:F===" ",index:A,isRevealed:w.has(A)})),m=y.filter(F=>!F.isSpace&&!F.isRevealed).map(F=>F.char);for(let F=m.length-1;F>0;F--){const A=Math.floor(Math.random()*(F+1));[m[F],m[A]]=[m[A],m[F]]}let D=0;return y.map(F=>F.isSpace?" ":F.isRevealed?C[F.index]:m[D++]).join("")}else return C.split("").map((y,m)=>y===" "?" ":w.has(m)?C[m]:g[Math.floor(Math.random()*g.length)]).join("")};d&&(clearInterval(d),d=null),o.value?(a.value=!0,d=setInterval(()=>{if(n.sequential)if(f.value.size<n.text.length){const C=s(f.value),w=new Set(f.value);w.add(C),f.value=w,u.value=E(n.text,w)}else clearInterval(d),d=null,a.value=!1,r("animationComplete");else u.value=E(n.text,f.value),v++,v>=n.maxIterations&&(clearInterval(d),d=null,a.value=!1,u.value=n.text,r("animationComplete"))},n.speed)):(u.value=n.text,f.value=new Set,a.value=!1)});const p=()=>{n.animateOn==="hover"&&(o.value=!0)},h=()=>{n.animateOn==="hover"&&(o.value=!1)};return pt(async()=>{if(n.animateOn==="view"){await mi();const v=g=>{g.forEach(E=>{E.isIntersecting&&!l.value&&(o.value=!0,l.value=!0)})},s={root:null,rootMargin:"0px",threshold:.1};c=new IntersectionObserver(v,s),i.value&&c.observe(i.value)}}),vt(()=>{d&&clearInterval(d),c&&i.value&&c.unobserve(i.value)}),(v,s)=>(U(),H("span",{ref_key:"containerRef",ref:i,class:ye(`inline-block whitespace-pre-wrap ${n.parentClassName}`),onMouseenter:p,onMouseleave:h},[R("span",Io,Me(u.value),1),R("span",ko,[(U(!0),H(We,null,ct(u.value.split(""),(g,E)=>(U(),H("span",{key:E,class:ye(f.value.has(E)||!a.value||!o.value?n.className:n.encryptedClassName)},Me(g),3))),128))])],34))}}),xr=ft({inheritAttrs:!1,__name:"Magnet",props:{padding:{default:100},disabled:{type:Boolean,default:!1},magnetStrength:{default:2},activeTransition:{default:"transform 0.3s ease-out"},inactiveTransition:{default:"transform 0.5s ease-in-out"},wrapperClassName:{default:""},innerClassName:{default:""}},setup(e){const t=e,n=sn("magnetRef"),r=ue(!1),i=ue({x:0,y:0}),u=G(()=>r.value?t.activeTransition:t.inactiveTransition),o=a=>{if(!n.value||t.disabled)return;const{left:f,top:l,width:d,height:c}=n.value.getBoundingClientRect(),p=f+d/2,h=l+c/2,v=Math.abs(p-a.clientX),s=Math.abs(h-a.clientY);if(v<d/2+t.padding&&s<c/2+t.padding){r.value=!0;const g=(a.clientX-p)/t.magnetStrength,E=(a.clientY-h)/t.magnetStrength;i.value={x:g,y:E}}else r.value=!1,i.value={x:0,y:0}};return pt(()=>{window.addEventListener("mousemove",o)}),vt(()=>{window.removeEventListener("mousemove",o)}),Mt(()=>t.disabled,a=>{a&&(i.value={x:0,y:0},r.value=!1)}),(a,f)=>(U(),H("div",Qu({ref_key:"magnetRef",ref:n,class:e.wrapperClassName,style:{position:"relative",display:"inline-block"}},a.$attrs),[R("div",{class:ye(e.innerClassName),style:St({transform:`translate3d(${i.value.x}px, ${i.value.y}px, 0)`,transition:u.value,willChange:"transform"})},[ar(a.$slots,"default")],6)],16))}}),Po={class:"h-14 bg-gray-950/80 backdrop-blur-glass border-b border-white/5 flex items-center px-4 drag-region relative z-50"},Ro={class:"flex items-center gap-3 ml-3"},zo={class:"relative"},$o={class:"w-8 h-8 bg-gradient-to-br from-green-400 to-emerald-600 rounded-lg flex items-center justify-center shadow-lg shadow-green-500/20"},Lo={key:1,class:"font-bold text-lg tracking-tight hidden sm:block"},Uo={class:"flex-1 max-w-lg mx-4"},qo={class:"hidden sm:flex items-center gap-1"},Vo={class:"px-1.5 py-0.5 bg-white/5 border border-white/10 rounded text-xs text-gray-500"},Wo={class:"flex items-center gap-1"},Zo={class:"font-medium"},Ho={key:0,class:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] px-1 bg-red-500 text-white text-xs font-medium rounded-full flex items-center justify-center"},jo={key:0,class:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] px-1 bg-red-500 text-white text-xs font-medium rounded-full flex items-center justify-center"},Nr=ft({__name:"AppHeader",emits:["toggle-sidebar"],setup(e){const t=hr(),n=en(),{isDecryptedTextEnabled:r,isMagnetEnabled:i,visualEffects:u}=dr(),{isMobile:o,isTouchDevice:a}=Bi(),f=G(()=>t.unreadCount),l=G(()=>n.connectedProfiles.length),d=G(()=>i.value&&!o.value&&!a());function c(){document.dispatchEvent(new CustomEvent("open-command-palette"))}function p(){document.dispatchEvent(new CustomEvent("toggle-notifications"))}return(h,v)=>{const s=sr("router-link");return U(),H("header",Po,[v[4]||(v[4]=R("div",{class:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-green-500/20 to-transparent"},null,-1)),R("button",{onClick:v[0]||(v[0]=g=>h.$emit("toggle-sidebar")),class:"btn-icon no-drag","aria-label":"Toggle sidebar"},[ae(X(so),{class:"w-5 h-5"})]),R("div",Ro,[R("div",zo,[R("div",$o,[ae(X(Ei),{class:"w-4 h-4 text-black"})]),ae(X(lo),{class:"absolute -top-1 -right-1 w-3 h-3 text-green-400 animate-pulse"})]),X(r)?(U(),Ne(Oo,{key:0,text:"RUSSH",speed:X(u).decryptedText.speed,"animate-on":"view","class-name":"font-bold text-lg tracking-tight text-white hidden sm:block","encrypted-class-name":"text-green-500/50"},null,8,["speed"])):(U(),H("span",Lo,"RUSSH"))]),R("div",Uo,[R("button",{onClick:c,class:"w-full flex items-center gap-3 px-4 py-2 glass-card hover:bg-white/[0.06] text-gray-400 text-sm no-drag group"},[ae(X(cr),{class:"w-4 h-4 group-hover:text-green-400 transition-colors"}),v[2]||(v[2]=R("span",{class:"hidden sm:inline flex-1 text-left"},"Search connections, commands...",-1)),R("div",qo,[R("kbd",Vo,[ae(X(bi),{class:"w-3 h-3 inline"})]),v[1]||(v[1]=R("kbd",{class:"px-1.5 py-0.5 bg-white/5 border border-white/10 rounded text-xs text-gray-500"},"K",-1))])])]),R("div",Wo,[R("div",{class:ye(["hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm mr-2",l.value>0?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-white/5 text-gray-500 border border-white/5"])},[(U(),Ne(xt(l.value>0?X(co):X(fo)),{class:"w-4 h-4"})),R("span",Zo,Me(l.value),1),v[3]||(v[3]=R("span",{class:"text-xs opacity-70"},"active",-1))],2),d.value?(U(),Ne(xr,{key:0,padding:40,"magnet-strength":2},{default:_t(()=>[R("button",{onClick:p,class:"btn-icon no-drag relative","aria-label":"Notifications"},[ae(X(Ar),{class:"w-5 h-5"}),f.value>0?(U(),H("span",Ho,Me(f.value>9?"9+":f.value),1)):he("",!0)])]),_:1})):(U(),H("button",{key:1,onClick:p,class:"btn-icon no-drag relative","aria-label":"Notifications"},[ae(X(Ar),{class:"w-5 h-5"}),f.value>0?(U(),H("span",jo,Me(f.value>9?"9+":f.value),1)):he("",!0)])),d.value?(U(),Ne(xr,{key:2,padding:40,"magnet-strength":2},{default:_t(()=>[ae(s,{to:"/settings",class:"btn-icon no-drag","aria-label":"Settings"},{default:_t(()=>[ae(X(ln),{class:"w-5 h-5"})]),_:1})]),_:1})):(U(),Ne(s,{key:3,to:"/settings",class:"btn-icon no-drag","aria-label":"Settings"},{default:_t(()=>[ae(X(ln),{class:"w-5 h-5"})]),_:1}))])])}}});function Ko(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Go(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Cn;const d0="__TAURI_TO_IPC_KEY__";function Yo(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function hn(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}class h0{get rid(){return Ko(this,Cn,"f")}constructor(t){Cn.set(this,void 0),Go(this,Cn,t)}async close(){return hn("plugin:resources|close",{rid:this.rid})}}Cn=new WeakMap;var Mr;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(Mr||(Mr={}));async function xi(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await hn("plugin:event|unlisten",{event:e,eventId:t})}async function Ni(e,t,n){var r;const i=typeof n?.target=="string"?{kind:"AnyLabel",label:n.target}:(r=n?.target)!==null&&r!==void 0?r:{kind:"Any"};return hn("plugin:event|listen",{event:e,target:i,handler:Yo(t)}).then(u=>async()=>xi(e,u))}async function p0(e,t,n){return Ni(e,r=>{xi(e,r.id),t(r)},n)}async function v0(e,t){await hn("plugin:event|emit",{event:e,payload:t})}async function g0(e,t,n){await hn("plugin:event|emit_to",{target:typeof e=="string"?{kind:"AnyLabel",label:e}:e,event:t,payload:n})}const Sr={UNKNOWN_ERROR:"UNKNOWN_ERROR"};function Kn(e){return typeof e=="string"?{code:Sr.UNKNOWN_ERROR,message:e,recoverable:!1}:e&&typeof e=="object"&&"code"in e?e:{code:Sr.UNKNOWN_ERROR,message:String(e),recoverable:!1}}function Jo(){const e=hr(),t=ue(null),n=ue([]),r=ue(!1),i=ue(null),u=ue(!1);let o=null;async function a(){u.value=!0;try{t.value=await nt("p2p_get_node_info"),r.value=t.value.isOnline,o=await Ni("p2p-status",s=>{r.value=s.payload.isOnline})}catch(s){console.error("Failed to initialize P2P:",s)}finally{u.value=!1}}async function f(s){try{const g=await nt("p2p_connect",{peerId:s});return n.value.push(g),e.success("P2P Connected",`Connected to peer ${s.slice(0,8)}...`),g}catch(g){const E=Kn(g);throw e.error("P2P Connection Failed",E.message),g}}async function l(s){try{await nt("p2p_disconnect",{peerId:s}),n.value=n.value.filter(g=>g.peerId!==s),e.info("P2P Disconnected",`Disconnected from peer ${s.slice(0,8)}...`)}catch(g){const E=Kn(g);throw e.error("P2P Disconnect Failed",E.message),g}}async function d(){try{n.value=await nt("p2p_list_peers")}catch(s){console.error("Failed to refresh peers:",s)}}async function c(){try{return i.value=await nt("p2p_generate_qr"),i.value}catch(s){const g=Kn(s);throw e.error("QR Generation Failed",g.message),s}}async function p(){t.value&&(await navigator.clipboard.writeText(t.value.nodeId),e.success("Copied","Node ID copied to clipboard"))}function h(s){const g=s.latencyMs??1/0;return g<50?"excellent":g<100?"good":g<200?"fair":"poor"}function v(){o?.()}return vt(v),{nodeInfo:t,peers:n,isOnline:r,qrCodeData:i,isLoading:u,initialize:a,connectToPeer:f,disconnectPeer:l,refreshPeers:d,generateQRCode:c,copyNodeId:p,getConnectionQuality:h}}const Xo={class:"relative flex-shrink-0"},Qo={key:0,class:"flex-1 min-w-0"},ea={class:"text-xs text-gray-500 truncate"},Gn=ft({__name:"ConnectionItem",props:{profile:{},collapsed:{type:Boolean}},setup(e){const t=e,n=dn(),r=en(),i=G(()=>r.getConnection(t.profile.id)),u=G(()=>i.value?.status==="connected"),o=G(()=>i.value?.status==="connecting");async function a(){if(u.value)n.push(`/terminal/${i.value?.sessionId}`);else try{const l=await r.connect(t.profile.id);n.push(`/terminal/${l}`)}catch{}}function f(l){l.preventDefault()}return(l,d)=>(U(),H("div",{onClick:a,onContextmenu:f,class:ye(["group flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer transition-all",u.value?"bg-green-500/10 hover:bg-green-500/15 border border-green-500/20":"hover:bg-white/5 border border-transparent"])},[R("div",Xo,[R("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center",style:St({backgroundColor:(e.profile.color||"#6b7280")+"20"})},[ae(X(cn),{class:"w-4 h-4",style:St({color:e.profile.color||"#6b7280"})},null,8,["style"])],4),R("div",{class:ye(["absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border-2 border-gray-950",u.value?"bg-green-500":o.value?"bg-yellow-500 animate-pulse":"bg-gray-600"])},null,2)]),e.collapsed?he("",!0):(U(),H("div",Qo,[R("div",{class:ye(["text-sm font-medium truncate transition-colors",u.value?"text-green-400":"text-gray-300 group-hover:text-white"])},Me(e.profile.name),3),R("div",ea,Me(e.profile.username)+"@"+Me(e.profile.host),1)])),e.collapsed?he("",!0):(U(),H("button",{key:1,onClick:d[0]||(d[0]=Di(()=>{},["stop"])),class:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-white/10 rounded-lg transition-all"},[ae(X(ho),{class:"w-4 h-4 text-gray-400"})]))],34))}});function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n.apply(null,arguments)}var Mi={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function ta(e,t){if(Bn(e,t))return e[t];throw typeof e[t]=="function"&&ra(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function na(e,t,n){if(Bn(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Bn(e,t){return!ia(e)&&!Array.isArray(e)?!1:Nn(ua,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ra(e,t){return e==null||typeof e[t]!="function"||Nn(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Nn(oa,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ia(e){return typeof e=="object"&&e&&e.constructor===Object}var ua={length:!0,name:!0},oa={toString:!0,valueOf:!0,toLocaleString:!0};class aa{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return ta(this.wrappedObject,t)}set(t,n){return na(this.wrappedObject,t,n),this}has(t){return Bn(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return sa(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var n of this.keys())t(this.get(n),n,this)}delete(t){Bn(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function sa(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function pe(e){return typeof e=="number"}function Ie(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function la(e){return typeof e=="bigint"}function Si(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Ti(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Ii(e){return e&&e.constructor.prototype.isUnit===!0||!1}function gt(e){return typeof e=="string"}var ze=Array.isArray;function Re(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function xn(e){return Array.isArray(e)||Re(e)}function ca(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function fa(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function da(e){return e&&e.constructor.prototype.isRange===!0||!1}function pr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function ha(e){return typeof e=="boolean"}function pa(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function va(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ga(e){return typeof e=="function"}function ma(e){return e instanceof Date}function Da(e){return e instanceof RegExp}function vr(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Si(e)&&!Ti(e))}function wa(e){return e?e instanceof Map||e instanceof aa||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function ya(e){return e===null}function Ea(e){return e===void 0}function ba(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ca(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fa(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Aa(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function _a(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ba(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function xa(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Na(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ma(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Sa(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ta(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ia(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ka(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oa(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pa(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ra(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function za(e){return e&&e.constructor.prototype.isChain===!0||!1}function Nt(e){var t=typeof e;return t==="object"?e===null?"null":Ie(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Te(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Te(n)});if(e instanceof Date)return new Date(e.valueOf());if(Ie(e))return e;if(vr(e))return $a(e,Te);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function $a(e,t){var n={};for(var r in e)Nn(e,r)&&(n[r]=t(e[r]));return n}function Yt(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!Yt(e[r],t[r]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Yt(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function Nn(e,t){return e&&Object.hasOwnProperty.call(e,t)}function La(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],u=e[i];u!==void 0&&(n[i]=u)}return n}var Ua=["Matrix","Array"],qa=["number","BigNumber","bigint","Fraction"],It=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Mi)};_n(It,Mi,{MATRIX_OPTIONS:Ua,NUMBER_OPTIONS:qa});function Tr(){return!0}function at(){return!1}function qt(){}const Ir="Argument is not a typed-function.";function ki(){function e(b){return typeof b=="object"&&b!==null&&b.constructor===Object}const t=[{name:"number",test:function(b){return typeof b=="number"}},{name:"string",test:function(b){return typeof b=="string"}},{name:"boolean",test:function(b){return typeof b=="boolean"}},{name:"Function",test:function(b){return typeof b=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(b){return b instanceof Date}},{name:"RegExp",test:function(b){return b instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(b){return b===null}},{name:"undefined",test:function(b){return b===void 0}}],n={name:"any",test:Tr,isAny:!0};let r,i,u=0,o={createCount:0};function a(b){const B=r.get(b);if(B)return B;let N='Unknown type "'+b+'"';const S=b.toLowerCase();let P;for(P of i)if(P.toLowerCase()===S){N+='. Did you mean "'+P+'" ?';break}throw new TypeError(N)}function f(b){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=B?a(B).index:i.length,S=[];for(let T=0;T<b.length;++T){if(!b[T]||typeof b[T].name!="string"||typeof b[T].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const q=b[T].name;if(r.has(q))throw new TypeError('Duplicate type name "'+q+'"');S.push(q),r.set(q,{name:q,test:b[T].test,isAny:b[T].isAny,index:N+T,conversionsTo:[]})}const P=i.slice(N);i=i.slice(0,N).concat(S).concat(P);for(let T=N+S.length;T<i.length;++T)r.get(i[T]).index=T}function l(){r=new Map,i=[],u=0,f([n],!1)}l(),f(t);function d(){let b;for(b of i)r.get(b).conversionsTo=[];u=0}function c(b){const B=i.filter(N=>{const S=r.get(N);return!S.isAny&&S.test(b)});return B.length?B:["any"]}function p(b){return b&&typeof b=="function"&&"_typedFunctionData"in b}function h(b,B,N){if(!p(b))throw new TypeError(Ir);const S=N&&N.exact,P=Array.isArray(B)?B.join(","):B,T=y(P),q=g(T);if(!S||q in b.signatures){const re=b._typedFunctionData.signatureMap.get(q);if(re)return re}const $=T.length;let Z;if(S){Z=[];let re;for(re in b.signatures)Z.push(b._typedFunctionData.signatureMap.get(re))}else Z=b._typedFunctionData.signatures;for(let re=0;re<$;++re){const de=T[re],Oe=[];let Je;for(Je of Z){const He=A(Je.params,re);if(!(!He||de.restParam&&!He.restParam)){if(!He.hasAny){const ut=w(He);if(de.types.some(ot=>!ut.has(ot.name)))continue}Oe.push(Je)}}if(Z=Oe,Z.length===0)break}let O;for(O of Z)if(O.params.length<=$)return O;throw new TypeError("Signature not found (signature: "+(b.name||"unnamed")+"("+g(T,", ")+"))")}function v(b,B,N){return h(b,B,N).implementation}function s(b,B){const N=a(B);if(N.test(b))return b;const S=N.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+B+" defined.");for(let P=0;P<S.length;P++)if(a(S[P].from).test(b))return S[P].convert(b);throw new Error("Cannot convert "+b+" to "+B)}function g(b){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return b.map(N=>N.name).join(B)}function E(b){const B=b.indexOf("...")===0,S=(B?b.length>3?b.slice(3):"any":b).split("|").map($=>a($.trim()));let P=!1,T=B?"...":"";return{types:S.map(function($){return P=$.isAny||P,T+=$.name+"|",{name:$.name,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:null,conversionIndex:-1}}),name:T.slice(0,-1),hasAny:P,hasConversion:!1,restParam:B}}function C(b){const B=b.types.map(q=>q.name),N=te(B);let S=b.hasAny,P=b.name;const T=N.map(function(q){const $=a(q.from);return S=$.isAny||S,P+="|"+q.from,{name:q.from,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:q,conversionIndex:q.index}});return{types:b.types.concat(T),name:P,hasAny:S,hasConversion:T.length>0,restParam:b.restParam}}function w(b){return b.typeSet||(b.typeSet=new Set,b.types.forEach(B=>b.typeSet.add(B.name))),b.typeSet}function y(b){const B=[];if(typeof b!="string")throw new TypeError("Signatures must be strings");const N=b.trim();if(N==="")return B;const S=N.split(",");for(let P=0;P<S.length;++P){const T=E(S[P].trim());if(T.restParam&&P!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[P]+'": only allowed for the last parameter');if(T.types.length===0)return null;B.push(T)}return B}function m(b){const B=De(b);return B?B.restParam:!1}function D(b){if(!b||b.types.length===0)return Tr;if(b.types.length===1)return a(b.types[0].name).test;if(b.types.length===2){const B=a(b.types[0].name).test,N=a(b.types[1].name).test;return function(P){return B(P)||N(P)}}else{const B=b.types.map(function(N){return a(N.name).test});return function(S){for(let P=0;P<B.length;P++)if(B[P](S))return!0;return!1}}}function F(b){let B,N,S;if(m(b)){B=Ge(b).map(D);const P=B.length,T=D(De(b)),q=function($){for(let Z=P;Z<$.length;Z++)if(!T($[Z]))return!1;return!0};return function(Z){for(let O=0;O<B.length;O++)if(!B[O](Z[O]))return!1;return q(Z)&&Z.length>=P+1}}else return b.length===0?function(T){return T.length===0}:b.length===1?(N=D(b[0]),function(T){return N(T[0])&&T.length===1}):b.length===2?(N=D(b[0]),S=D(b[1]),function(T){return N(T[0])&&S(T[1])&&T.length===2}):(B=b.map(D),function(T){for(let q=0;q<B.length;q++)if(!B[q](T[q]))return!1;return T.length===B.length})}function A(b,B){return B<b.length?b[B]:m(b)?De(b):null}function _(b,B){const N=A(b,B);return N?w(N):new Set}function M(b){return b.conversion===null||b.conversion===void 0}function k(b,B){const N=new Set;return b.forEach(S=>{const P=_(S.params,B);let T;for(T of P)N.add(T)}),N.has("any")?["any"]:Array.from(N)}function z(b,B,N){let S,P;const T=b||"unnamed";let q=N,$;for($=0;$<B.length;$++){const de=[];if(q.forEach(Oe=>{const Je=A(Oe.params,$),He=D(Je);($<Oe.params.length||m(Oe.params))&&He(B[$])&&de.push(Oe)}),de.length===0){if(P=k(q,$),P.length>0){const Oe=c(B[$]);return S=new TypeError("Unexpected type of argument in function "+T+" (expected: "+P.join(" or ")+", actual: "+Oe.join(" | ")+", index: "+$+")"),S.data={category:"wrongType",fn:T,index:$,actual:Oe,expected:P},S}}else q=de}const Z=q.map(function(de){return m(de.params)?1/0:de.params.length});if(B.length<Math.min.apply(null,Z))return P=k(q,$),S=new TypeError("Too few arguments in function "+T+" (expected: "+P.join(" or ")+", index: "+B.length+")"),S.data={category:"tooFewArgs",fn:T,index:B.length,expected:P},S;const O=Math.max.apply(null,Z);if(B.length>O)return S=new TypeError("Too many arguments in function "+T+" (expected: "+O+", actual: "+B.length+")"),S.data={category:"tooManyArgs",fn:T,index:B.length,expectedLength:O},S;const re=[];for(let de=0;de<B.length;++de)re.push(c(B[de]).join("|"));return S=new TypeError('Arguments of type "'+re.join(", ")+'" do not match any of the defined signatures of function '+T+"."),S.data={category:"mismatch",actual:re},S}function j(b){let B=i.length+1;for(let N=0;N<b.types.length;N++)B=Math.min(B,b.types[N].typeIndex);return B}function Y(b){let B=u+1;for(let N=0;N<b.types.length;N++)M(b.types[N])||(B=Math.min(B,b.types[N].conversionIndex));return B}function W(b,B){if(b.hasAny){if(!B.hasAny)return .1}else if(B.hasAny)return-.1;if(b.restParam){if(!B.restParam)return .01}else if(B.restParam)return-.01;const N=j(b)-j(B);if(N<0)return-.001;if(N>0)return .001;const S=Y(b),P=Y(B);if(b.hasConversion){if(!B.hasConversion)return(1+S)*1e-6}else if(B.hasConversion)return-(1+P)*1e-6;const T=S-P;return T<0?-1e-7:T>0?1e-7:0}function L(b,B){const N=b.params,S=B.params,P=De(N),T=De(S),q=m(N),$=m(S);if(q&&P.hasAny){if(!$||!T.hasAny)return 1e7}else if($&&T.hasAny)return-1e7;let Z=0,O=0,re;for(re of N)re.hasAny&&++Z,re.hasConversion&&++O;let de=0,Oe=0;for(re of S)re.hasAny&&++de,re.hasConversion&&++Oe;if(Z!==de)return(Z-de)*1e6;if(q&&P.hasConversion){if(!$||!T.hasConversion)return 1e5}else if($&&T.hasConversion)return-1e5;if(O!==Oe)return(O-Oe)*1e4;if(q){if(!$)return 1e3}else if($)return-1e3;const Je=(N.length-S.length)*(q?-100:100);if(Je!==0)return Je;const He=[];let ut=0;for(let Ut=0;Ut<N.length;++Ut){const gn=W(N[Ut],S[Ut]);He.push(gn),ut+=gn}if(ut!==0)return(ut<0?-10:10)+ut;let ot,Lt=9;const jn=Lt/(He.length+1);for(ot of He){if(ot!==0)return(ot<0?-Lt:Lt)+ot;Lt-=jn}return 0}function te(b){if(b.length===0)return[];const B=b.map(a);if(b.length===1)return B[0].conversionsTo;const N=new Set(b),S=new Set;for(let T=0;T<B.length;++T)for(const q of B[T].conversionsTo)N.has(q.from)||S.add(q.from);const P=[];for(const T of S){let q=u+1,$=null;for(let Z=0;Z<B.length;++Z)for(const O of B[Z].conversionsTo)O.from===T&&O.index<q&&(q=O.index,$=O);P.push($)}return P}function Q(b,B){let N=B,S="";if(b.some(T=>T.hasConversion)){const T=m(b),q=b.map(ne);S=q.map($=>$.name).join(";"),N=function(){const Z=[],O=T?arguments.length-1:arguments.length;for(let re=0;re<O;re++)Z[re]=q[re](arguments[re]);return T&&(Z[O]=arguments[O].map(q[O])),B.apply(this,Z)}}let P=N;if(m(b)){const T=b.length-1;P=function(){return N.apply(this,ge(arguments,0,T).concat([ge(arguments,T)]))}}return S&&Object.defineProperty(P,"name",{value:S}),P}function ne(b){let B,N,S,P;const T=[],q=[];let $="";b.types.forEach(function(O){O.conversion&&($+=O.conversion.from+"~>"+O.conversion.to+",",T.push(a(O.conversion.from).test),q.push(O.conversion.convert))}),$?$=$.slice(0,-1):$="pass";let Z=O=>O;switch(q.length){case 0:break;case 1:B=T[0],S=q[0],Z=function(re){return B(re)?S(re):re};break;case 2:B=T[0],N=T[1],S=q[0],P=q[1],Z=function(re){return B(re)?S(re):N(re)?P(re):re};break;default:Z=function(re){for(let de=0;de<q.length;de++)if(T[de](re))return q[de](re);return re}}return Object.defineProperty(Z,"name",{value:$}),Z}function oe(b){function B(N,S,P){if(S<N.length){const T=N[S];let q=[];if(T.restParam){const $=T.types.filter(M);$.length<T.types.length&&q.push({types:$,name:"..."+$.map(Z=>Z.name).join("|"),hasAny:$.some(Z=>Z.isAny),hasConversion:!1,restParam:!0}),q.push(T)}else q=T.types.map(function($){return{types:[$],name:$.name,hasAny:$.isAny,hasConversion:$.conversion,restParam:!1}});return Ve(q,function($){return B(N,S+1,P.concat([$]))})}else return[P]}return B(b,0,[])}function ce(b,B){const N=Math.max(b.length,B.length);for(let $=0;$<N;$++){const Z=_(b,$),O=_(B,$);let re=!1,de;for(de of O)if(Z.has(de)){re=!0;break}if(!re)return!1}const S=b.length,P=B.length,T=m(b),q=m(B);return T?q?S===P:P>=S:q?S>=P:S===P}function fe(b){return b.map(B=>yt(B)?it(B.referToSelf.callback):wt(B)?Le(B.referTo.references,B.referTo.callback):B)}function me(b,B,N){const S=[];let P;for(P of b){let T=N[P];if(typeof T!="number")throw new TypeError('No definition for referenced signature "'+P+'"');if(T=B[T],typeof T!="function")return!1;S.push(T)}return S}function ke(b,B,N){const S=fe(b),P=new Array(S.length).fill(!1);let T=!0;for(;T;){T=!1;let q=!0;for(let $=0;$<S.length;++$){if(P[$])continue;const Z=S[$];if(yt(Z))S[$]=Z.referToSelf.callback(N),S[$].referToSelf=Z.referToSelf,P[$]=!0,q=!1;else if(wt(Z)){const O=me(Z.referTo.references,S,B);O?(S[$]=Z.referTo.callback.apply(this,O),S[$].referTo=Z.referTo,P[$]=!0,q=!1):T=!0}}if(q&&T)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function Se(b){const B=/\bthis(\(|\.signatures\b)/;Object.keys(b).forEach(N=>{const S=b[N];if(B.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Be(b,B){if(o.createCount++,Object.keys(B).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Se(B);const N=[],S=[],P={},T=[];let q;for(q in B){if(!Object.prototype.hasOwnProperty.call(B,q))continue;const ve=y(q);if(!ve)continue;N.forEach(function(rn){if(ce(rn,ve))throw new TypeError('Conflicting signatures "'+g(rn)+'" and "'+g(ve)+'".')}),N.push(ve);const Xe=S.length;S.push(B[q]);const Ju=ve.map(C);let mn;for(mn of oe(Ju)){const rn=g(mn);T.push({params:mn,name:rn,fn:Xe}),mn.every(Xu=>!Xu.hasConversion)&&(P[rn]=Xe)}}T.sort(L);const $=ke(S,P,nn);let Z;for(Z in P)Object.prototype.hasOwnProperty.call(P,Z)&&(P[Z]=$[P[Z]]);const O=[],re=new Map;for(Z of T)re.has(Z.name)||(Z.fn=$[Z.fn],O.push(Z),re.set(Z.name,Z));const de=O[0]&&O[0].params.length<=2&&!m(O[0].params),Oe=O[1]&&O[1].params.length<=2&&!m(O[1].params),Je=O[2]&&O[2].params.length<=2&&!m(O[2].params),He=O[3]&&O[3].params.length<=2&&!m(O[3].params),ut=O[4]&&O[4].params.length<=2&&!m(O[4].params),ot=O[5]&&O[5].params.length<=2&&!m(O[5].params),Lt=de&&Oe&&Je&&He&&ut&&ot;for(let ve=0;ve<O.length;++ve)O[ve].test=F(O[ve].params);const jn=de?D(O[0].params[0]):at,Ut=Oe?D(O[1].params[0]):at,gn=Je?D(O[2].params[0]):at,Au=He?D(O[3].params[0]):at,_u=ut?D(O[4].params[0]):at,Bu=ot?D(O[5].params[0]):at,xu=de?D(O[0].params[1]):at,Nu=Oe?D(O[1].params[1]):at,Mu=Je?D(O[2].params[1]):at,Su=He?D(O[3].params[1]):at,Tu=ut?D(O[4].params[1]):at,Iu=ot?D(O[5].params[1]):at;for(let ve=0;ve<O.length;++ve)O[ve].implementation=Q(O[ve].params,O[ve].fn);const ku=de?O[0].implementation:qt,Ou=Oe?O[1].implementation:qt,Pu=Je?O[2].implementation:qt,Ru=He?O[3].implementation:qt,zu=ut?O[4].implementation:qt,$u=ot?O[5].implementation:qt,Lu=de?O[0].params.length:-1,Uu=Oe?O[1].params.length:-1,qu=Je?O[2].params.length:-1,Vu=He?O[3].params.length:-1,Wu=ut?O[4].params.length:-1,Zu=ot?O[5].params.length:-1,Hu=Lt?6:0,ju=O.length,Ku=O.map(ve=>ve.test),Gu=O.map(ve=>ve.implementation),Yu=function(){for(let Xe=Hu;Xe<ju;Xe++)if(Ku[Xe](arguments))return Gu[Xe].apply(this,arguments);return o.onMismatch(b,arguments,O)};function nn(ve,Xe){return arguments.length===Lu&&jn(ve)&&xu(Xe)?ku.apply(this,arguments):arguments.length===Uu&&Ut(ve)&&Nu(Xe)?Ou.apply(this,arguments):arguments.length===qu&&gn(ve)&&Mu(Xe)?Pu.apply(this,arguments):arguments.length===Vu&&Au(ve)&&Su(Xe)?Ru.apply(this,arguments):arguments.length===Wu&&_u(ve)&&Tu(Xe)?zu.apply(this,arguments):arguments.length===Zu&&Bu(ve)&&Iu(Xe)?$u.apply(this,arguments):Yu.apply(this,arguments)}try{Object.defineProperty(nn,"name",{value:b})}catch{}return nn.signatures=P,nn._typedFunctionData={signatures:O,signatureMap:re},nn}function be(b,B,N){throw z(b,B,N)}function Ge(b){return ge(b,0,b.length-1)}function De(b){return b[b.length-1]}function ge(b,B,N){return Array.prototype.slice.call(b,B,N)}function rt(b,B){for(let N=0;N<b.length;N++)if(B(b[N]))return b[N]}function Ve(b,B){return Array.prototype.concat.apply([],b.map(B))}function we(){const b=Ge(arguments).map(N=>g(y(N))),B=De(arguments);if(typeof B!="function")throw new TypeError("Callback function expected as last argument");return Le(b,B)}function Le(b,B){return{referTo:{references:b,callback:B}}}function it(b){if(typeof b!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:b}}}function wt(b){return b&&typeof b.referTo=="object"&&Array.isArray(b.referTo.references)&&typeof b.referTo.callback=="function"}function yt(b){return b&&typeof b.referToSelf=="object"&&typeof b.referToSelf.callback=="function"}function zt(b,B){if(!b)return B;if(B&&B!==b){const N=new Error("Function names do not match (expected: "+b+", actual: "+B+")");throw N.data={actual:B,expected:b},N}return b}function $t(b){let B;for(const N in b)Object.prototype.hasOwnProperty.call(b,N)&&(p(b[N])||typeof b[N].signature=="string")&&(B=zt(B,b[N].name));return B}function Hn(b,B){let N;for(N in B)if(Object.prototype.hasOwnProperty.call(B,N)){if(N in b&&B[N]!==b[N]){const S=new Error('Signature "'+N+'" is defined twice');throw S.data={signature:N,sourceFunction:B[N],destFunction:b[N]},S}b[N]=B[N]}}const Fu=o;o=function(b){const B=typeof b=="string",N=B?1:0;let S=B?b:"";const P={};for(let T=N;T<arguments.length;++T){const q=arguments[T];let $={},Z;if(typeof q=="function"?(Z=q.name,typeof q.signature=="string"?$[q.signature]=q:p(q)&&($=q.signatures)):e(q)&&($=q,B||(Z=$t(q))),Object.keys($).length===0){const O=new TypeError("Argument to 'typed' at index "+T+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw O.data={index:T,argument:q},O}B||(S=zt(S,Z)),Hn(P,$)}return Be(S||"",P)},o.create=ki,o.createCount=Fu.createCount,o.onMismatch=be,o.throwMismatchError=be,o.createError=z,o.clear=l,o.clearConversions=d,o.addTypes=f,o._findType=a,o.referTo=we,o.referToSelf=it,o.convert=s,o.findSignature=h,o.find=v,o.isTypedFunction=p,o.warnAgainstDeprecatedThis=!0,o.addType=function(b,B){let N="any";B!==!1&&r.has("Object")&&(N="Object"),o.addTypes([b],N)};function Fr(b){if(!b||typeof b.from!="string"||typeof b.to!="string"||typeof b.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(b.to===b.from)throw new SyntaxError('Illegal to define conversion from "'+b.from+'" to itself.')}return o.addConversion=function(b){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Fr(b);const N=a(b.to),S=N.conversionsTo.find(P=>P.from===b.from);if(S)if(B&&B.override)o.removeConversion({from:S.from,to:b.to,convert:S.convert});else throw new Error('There is already a conversion from "'+b.from+'" to "'+N.name+'"');N.conversionsTo.push({from:b.from,to:N.name,convert:b.convert,index:u++})},o.addConversions=function(b,B){b.forEach(N=>o.addConversion(N,B))},o.removeConversion=function(b){Fr(b);const B=a(b.to),N=rt(B.conversionsTo,P=>P.from===b.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+b.from+" to "+b.to);if(N.convert!==b.convert)throw new Error("Conversion to remove does not match existing conversion");const S=B.conversionsTo.indexOf(N);B.conversionsTo.splice(S,1)},o.resolve=function(b,B){if(!p(b))throw new TypeError(Ir);const N=b._typedFunctionData.signatures;for(let S=0;S<N.length;++S)if(N[S].test(B))return N[S];return null},o}const Mn=ki();function le(e,t,n,r){function i(u){var o=La(u,t.map(Za));return Va(e,t,u),n(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Va(e,t,n){var r=t.filter(u=>!Wa(u)).every(u=>n[u]!==void 0);if(!r){var i=t.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Wa(e){return e&&e[0]==="?"}function Za(e){return e&&e[0]==="?"?e.slice(1):e}function Fe(e){return typeof e=="boolean"?!0:Number.isFinite(e)?e===Math.round(e):!1}function Yn(e,t,n){var r={2:"0b",8:"0o",16:"0x"},i=r[t],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Fe(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Fe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),u="i".concat(n)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(u)}function er(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:i}=Oi(t);switch(n){case"fixed":return Pi(e,r);case"exponential":return Ri(e,r);case"engineering":return Ha(e,r);case"bin":return Yn(e,2,i);case"oct":return Yn(e,8,i);case"hex":return Yn(e,16,i);case"auto":return ja(e,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Oi(e){var t="auto",n,r;if(e!==void 0)if(pe(e))n=e;else if(Ie(e))n=e.toNumber();else if(vr(e))e.precision!==void 0&&(n=kr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(r=kr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:n,wordSize:r}}function pn(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),u=r.indexOf(".");i+=u!==-1?u-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return o.length===0&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function Ha(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var n=pn(e),r=$n(n,t),i=r.exponent,u=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(pe(t))for(;t>u.length||i-o+1>u.length;)u.push(0);else for(var a=Math.abs(i-o)-(u.length-1),f=0;f<a;f++)u.push(0);for(var l=Math.abs(i-o),d=1;l>0;)d++,l--;var c=u.slice(d).join(""),p=pe(t)&&c.length||c.match(/[1-9]/)?"."+c:"",h=u.slice(0,d).join("")+p+"e"+(i>=0?"+":"")+o.toString();return r.sign+h}function Pi(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var n=pn(e),r=typeof t=="number"?$n(n,n.exponent+1+t):n,i=r.coefficients,u=r.exponent+1,o=u+(t||0);return i.length<o&&(i=i.concat(Gt(o-i.length))),u<0&&(i=Gt(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),r.sign+i.join("")}function Ri(e,t){if(isNaN(e)||!Number.isFinite(Number(e)))return String(e);var n=pn(e),r=t?$n(n,t):n,i=r.coefficients,u=r.exponent;i.length<t&&(i=i.concat(Gt(t-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function ja(e,t,n){if(isNaN(e)||!Number.isFinite(e))return String(e);var r=Or(n?.lowerExp,-3),i=Or(n?.upperExp,5),u=pn(e),o=t?$n(u,t):u;if(o.exponent<r||o.exponent>=i)return Ri(e,t);var a=o.coefficients,f=o.exponent;a.length<t&&(a=a.concat(Gt(t-a.length))),a=a.concat(Gt(f-a.length+1+(a.length<t?t-a.length:0))),a=Gt(-f).concat(a);var l=f>0?f:0;return l<a.length-1&&a.splice(l+1,0,"."),o.sign+a.join("")}function $n(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t){var i=r.splice(t,r.length-t);if(i[0]>=5){var u=t-1;for(r[u]++;r[u]===10;)r.pop(),u===0&&(r.unshift(0),n.exponent++,u++),u--,r[u]++}}return n}function Gt(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Ka(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Jt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!Number.isFinite(e)||!Number.isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(n*Math.max(Math.abs(e),Math.abs(t)),r)}function kr(e,t){if(pe(e))return e;if(Ie(e))return e.toNumber();t()}function Or(e,t){return pe(e)?e:Ie(e)?e.toNumber():t}var zi=function(){return zi=Mn.create,Mn},Ga=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ya=le("typed",Ga,function(t){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:u}=t,o=zi();return o.clear(),o.addTypes([{name:"number",test:pe},{name:"Complex",test:Si},{name:"BigNumber",test:Ie},{name:"bigint",test:la},{name:"Fraction",test:Ti},{name:"Unit",test:Ii},{name:"identifier",test:a=>gt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:gt},{name:"Chain",test:za},{name:"Array",test:ze},{name:"Matrix",test:Re},{name:"DenseMatrix",test:ca},{name:"SparseMatrix",test:fa},{name:"Range",test:da},{name:"Index",test:pr},{name:"boolean",test:ha},{name:"ResultSet",test:pa},{name:"Help",test:va},{name:"function",test:ga},{name:"Date",test:ma},{name:"RegExp",test:Da},{name:"null",test:ya},{name:"undefined",test:Ea},{name:"AccessorNode",test:ba},{name:"ArrayNode",test:Ca},{name:"AssignmentNode",test:Fa},{name:"BlockNode",test:Aa},{name:"ConditionalNode",test:_a},{name:"ConstantNode",test:Ba},{name:"FunctionNode",test:Na},{name:"FunctionAssignmentNode",test:xa},{name:"IndexNode",test:Ma},{name:"Node",test:Sa},{name:"ObjectNode",test:Ta},{name:"OperatorNode",test:Ia},{name:"ParenthesisNode",test:ka},{name:"RangeNode",test:Oa},{name:"RelationalNode",test:Pa},{name:"SymbolNode",test:Ra},{name:"Map",test:wa},{name:"Object",test:vr}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(n||Dn(f),Ka(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new n(f)}},{from:"number",to:"Complex",convert:function(f){return r||wn(f),new r(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return r||wn(f),new r(f.toNumber(),0)}},{from:"bigint",to:"number",convert:function(f){if(f>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+f+")");return Number(f)}},{from:"bigint",to:"BigNumber",convert:function(f){return n||Dn(f),new n(f.toString())}},{from:"bigint",to:"Fraction",convert:function(f){return u||yn(f),new u(f)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return r||wn(f),new r(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){u||yn(f);var l=new u(f);if(l.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(f){var l=Number(f);if(isNaN(l))throw new Error('Cannot convert "'+f+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(f){n||Dn(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(f){try{return BigInt(f)}catch{throw new Error('Cannot convert "'+f+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(f){u||yn(f);try{return new u(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){r||wn(f);try{return new r(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return n||Dn(f),new n(+f)}},{from:"boolean",to:"bigint",convert:function(f){return BigInt(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return u||yn(f),new u(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return i||Ja(),new i(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),o.onMismatch=(a,f,l)=>{var d=o.createError(a,f,l);if(["wrongType","mismatch"].includes(d.data.category)&&f.length===1&&xn(f[0])&&l.some(p=>!p.params.includes(","))){var c=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw c.data=d.data,c}throw d},o.onMismatch=(a,f,l)=>{var d=o.createError(a,f,l);if(["wrongType","mismatch"].includes(d.data.category)&&f.length===1&&xn(f[0])&&l.some(p=>!p.params.includes(","))){var c=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw c.data=d.data,c}throw d},o});function Dn(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function wn(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Ja(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function yn(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var jt=9e15,kt=1e9,tr="0123456789abcdef",Sn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",nr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-jt,maxE:jt,crypto:!1},$i,bt,ie=!0,Ln="[DecimalError] ",Tt=Ln+"Invalid argument: ",Li=Ln+"Precision limit exceeded",Ui=Ln+"crypto unavailable",qi="[object Decimal]",Ke=Math.floor,$e=Math.pow,Xa=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Qa=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,es=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Vi=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ht=1e7,ee=7,ts=9007199254740991,ns=Sn.length-1,rr=Tn.length-1,I={toStringTag:qi};I.absoluteValue=I.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),J(e)};I.ceil=function(){return J(new this.constructor(this),this.e+1,2)};I.clampedTo=I.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Tt+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};I.comparedTo=I.cmp=function(e){var t,n,r,i,u=this,o=u.d,a=(e=new u.constructor(e)).d,f=u.s,l=e.s;if(!o||!a)return!f||!l?NaN:f!==l?f:o===a?0:!o^f<0?1:-1;if(!o[0]||!a[0])return o[0]?f:a[0]?-l:0;if(f!==l)return f;if(u.e!==e.e)return u.e>e.e^f<0?1:-1;for(r=o.length,i=a.length,t=0,n=r<i?r:i;t<n;++t)if(o[t]!==a[t])return o[t]>a[t]^f<0?1:-1;return r===i?0:r>i^f<0?1:-1};I.cosine=I.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+ee,r.rounding=1,n=rs(r,Ki(r,n)),r.precision=e,r.rounding=t,J(bt==2||bt==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};I.cubeRoot=I.cbrt=function(){var e,t,n,r,i,u,o,a,f,l,d=this,c=d.constructor;if(!d.isFinite()||d.isZero())return new c(d);for(ie=!1,u=d.s*$e(d.s*d,1/3),!u||Math.abs(u)==1/0?(n=Ze(d.d),e=d.e,(u=(e-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=$e(n,1/3),e=Ke((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?n="5e"+e:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new c(n),r.s=d.s):r=new c(u.toString()),o=(e=c.precision)+3;;)if(a=r,f=a.times(a).times(a),l=f.plus(d),r=Ee(l.plus(d).times(a),l.plus(f),o+2,1),Ze(a.d).slice(0,o)===(n=Ze(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(J(a,e+1,0),a.times(a).times(a).eq(d))){r=a;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(J(r,e+1,1),t=!r.times(r).times(r).eq(d));break}return ie=!0,J(r,e,c.rounding,t)};I.decimalPlaces=I.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-Ke(this.e/ee))*ee,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};I.dividedBy=I.div=function(e){return Ee(this,new this.constructor(e))};I.dividedToIntegerBy=I.divToInt=function(e){var t=this,n=t.constructor;return J(Ee(t,new n(e),0,1,1),n.precision,n.rounding)};I.equals=I.eq=function(e){return this.cmp(e)===0};I.floor=function(){return J(new this.constructor(this),this.e+1,3)};I.greaterThan=I.gt=function(e){return this.cmp(e)>0};I.greaterThanOrEqualTo=I.gte=function(e){var t=this.cmp(e);return t==1||t===0};I.hyperbolicCosine=I.cosh=function(){var e,t,n,r,i,u=this,o=u.constructor,a=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(u.e,u.sd())+4,o.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/qn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=Xt(o,1,u.times(t),new o(1),!0);for(var f,l=e,d=new o(8);l--;)f=u.times(u),u=a.minus(f.times(d.minus(f.times(d))));return J(u,o.precision=n,o.rounding=r,!0)};I.hyperbolicSine=I.sinh=function(){var e,t,n,r,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,n=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,r=i.d.length,r<3)i=Xt(u,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/qn(5,e)),i=Xt(u,2,i,i,!0);for(var o,a=new u(5),f=new u(16),l=new u(20);e--;)o=i.times(i),i=i.times(a.plus(o.times(f.times(o).plus(l))))}return u.precision=t,u.rounding=n,J(i,t,n,!0)};I.hyperbolicTangent=I.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Ee(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};I.inverseCosine=I.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return n!==-1?n===0?e.isNeg()?mt(t,r,i):new t(0):new t(NaN):e.isZero()?mt(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))};I.inverseHyperbolicCosine=I.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,ie=!1,n=n.times(n).minus(1).sqrt().plus(n),ie=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};I.inverseHyperbolicSine=I.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,ie=!1,n=n.times(n).plus(1).sqrt().plus(n),ie=!0,r.precision=e,r.rounding=t,n.ln())};I.inverseHyperbolicTangent=I.atanh=function(){var e,t,n,r,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?J(new u(i),e,t,!0):(u.precision=n=r-i.e,i=Ee(i.plus(1),new u(1).minus(i),n+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};I.inverseSine=I.asin=function(){var e,t,n,r,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),n=u.precision,r=u.rounding,t!==-1?t===0?(e=mt(u,n+4,r).times(.5),e.s=i.s,e):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=r,i.times(2)))};I.inverseTangent=I.atan=function(){var e,t,n,r,i,u,o,a,f,l=this,d=l.constructor,c=d.precision,p=d.rounding;if(l.isFinite()){if(l.isZero())return new d(l);if(l.abs().eq(1)&&c+4<=rr)return o=mt(d,c+4,p).times(.25),o.s=l.s,o}else{if(!l.s)return new d(NaN);if(c+4<=rr)return o=mt(d,c+4,p).times(.5),o.s=l.s,o}for(d.precision=a=c+10,d.rounding=1,n=Math.min(28,a/ee+2|0),e=n;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(ie=!1,t=Math.ceil(a/ee),r=1,f=l.times(l),o=new d(l),i=l;e!==-1;)if(i=i.times(f),u=o.minus(i.div(r+=2)),i=i.times(f),o=u.plus(i.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===u.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),ie=!0,J(o,d.precision=c,d.rounding=p,!0)};I.isFinite=function(){return!!this.d};I.isInteger=I.isInt=function(){return!!this.d&&Ke(this.e/ee)>this.d.length-2};I.isNaN=function(){return!this.s};I.isNegative=I.isNeg=function(){return this.s<0};I.isPositive=I.isPos=function(){return this.s>0};I.isZero=function(){return!!this.d&&this.d[0]===0};I.lessThan=I.lt=function(e){return this.cmp(e)<0};I.lessThanOrEqualTo=I.lte=function(e){return this.cmp(e)<1};I.logarithm=I.log=function(e){var t,n,r,i,u,o,a,f,l=this,d=l.constructor,c=d.precision,p=d.rounding,h=5;if(e==null)e=new d(10),t=!0;else{if(e=new d(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new d(NaN);t=e.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new d(n&&!n[0]?-1/0:l.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)u=!0;else{for(i=n[0];i%10===0;)i/=10;u=i!==1}if(ie=!1,a=c+h,o=Bt(l,a),r=t?In(d,a+10):Bt(e,a),f=Ee(o,r,a,1),fn(f.d,i=c,p))do if(a+=10,o=Bt(l,a),r=t?In(d,a+10):Bt(e,a),f=Ee(o,r,a,1),!u){+Ze(f.d).slice(i+1,i+15)+1==1e14&&(f=J(f,c+1,0));break}while(fn(f.d,i+=10,p));return ie=!0,J(f,c,p)};I.minus=I.sub=function(e){var t,n,r,i,u,o,a,f,l,d,c,p,h=this,v=h.constructor;if(e=new v(e),!h.d||!e.d)return!h.s||!e.s?e=new v(NaN):h.d?e.s=-e.s:e=new v(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(l=h.d,p=e.d,a=v.precision,f=v.rounding,!l[0]||!p[0]){if(p[0])e.s=-e.s;else if(l[0])e=new v(h);else return new v(f===3?-0:0);return ie?J(e,a,f):e}if(n=Ke(e.e/ee),d=Ke(h.e/ee),l=l.slice(),u=d-n,u){for(c=u<0,c?(t=l,u=-u,o=p.length):(t=p,n=d,o=l.length),r=Math.max(Math.ceil(a/ee),o)+2,u>r&&(u=r,t.length=1),t.reverse(),r=u;r--;)t.push(0);t.reverse()}else{for(r=l.length,o=p.length,c=r<o,c&&(o=r),r=0;r<o;r++)if(l[r]!=p[r]){c=l[r]<p[r];break}u=0}for(c&&(t=l,l=p,p=t,e.s=-e.s),o=l.length,r=p.length-o;r>0;--r)l[o++]=0;for(r=p.length;r>u;){if(l[--r]<p[r]){for(i=r;i&&l[--i]===0;)l[i]=ht-1;--l[i],l[r]+=ht}l[r]-=p[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=Un(l,n),ie?J(e,a,f):e):new v(f===3?-0:0)};I.modulo=I.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?J(new r(n),r.precision,r.rounding):(ie=!1,r.modulo==9?(t=Ee(n,e.abs(),0,3,1),t.s*=e.s):t=Ee(n,e,0,r.modulo,1),t=t.times(e),ie=!0,n.minus(t))};I.naturalExponential=I.exp=function(){return ir(this)};I.naturalLogarithm=I.ln=function(){return Bt(this)};I.negated=I.neg=function(){var e=new this.constructor(this);return e.s=-e.s,J(e)};I.plus=I.add=function(e){var t,n,r,i,u,o,a,f,l,d,c=this,p=c.constructor;if(e=new p(e),!c.d||!e.d)return!c.s||!e.s?e=new p(NaN):c.d||(e=new p(e.d||c.s===e.s?c:NaN)),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(l=c.d,d=e.d,a=p.precision,f=p.rounding,!l[0]||!d[0])return d[0]||(e=new p(c)),ie?J(e,a,f):e;if(u=Ke(c.e/ee),r=Ke(e.e/ee),l=l.slice(),i=u-r,i){for(i<0?(n=l,i=-i,o=d.length):(n=d,r=u,o=l.length),u=Math.ceil(a/ee),o=u>o?u+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=d.length,o-i<0&&(i=o,n=d,d=l,l=n),t=0;i;)t=(l[--i]=l[i]+d[i]+t)/ht|0,l[i]%=ht;for(t&&(l.unshift(t),++r),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=Un(l,r),ie?J(e,a,f):e};I.precision=I.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Tt+e);return n.d?(t=Wi(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};I.round=function(){var e=this,t=e.constructor;return J(new t(e),e.e+1,t.rounding)};I.sine=I.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+ee,r.rounding=1,n=us(r,Ki(r,n)),r.precision=e,r.rounding=t,J(bt>2?n.neg():n,e,t,!0)):new r(NaN)};I.squareRoot=I.sqrt=function(){var e,t,n,r,i,u,o=this,a=o.d,f=o.e,l=o.s,d=o.constructor;if(l!==1||!a||!a[0])return new d(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(ie=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=Ze(a),(t.length+f)%2==0&&(t+="0"),l=Math.sqrt(t),f=Ke((f+1)/2)-(f<0||f%2),l==1/0?t="5e"+f:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+f),r=new d(t)):r=new d(l.toString()),n=(f=d.precision)+3;;)if(u=r,r=u.plus(Ee(o,u,n+2,1)).times(.5),Ze(u.d).slice(0,n)===(t=Ze(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(J(u,f+1,0),u.times(u).eq(o))){r=u;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(J(r,f+1,1),e=!r.times(r).eq(o));break}return ie=!0,J(r,f,d.rounding,e)};I.tangent=I.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=Ee(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,J(bt==2||bt==4?n.neg():n,e,t,!0)):new r(NaN)};I.times=I.mul=function(e){var t,n,r,i,u,o,a,f,l,d=this,c=d.constructor,p=d.d,h=(e=new c(e)).d;if(e.s*=d.s,!p||!p[0]||!h||!h[0])return new c(!e.s||p&&!p[0]&&!h||h&&!h[0]&&!p?NaN:!p||!h?e.s/0:e.s*0);for(n=Ke(d.e/ee)+Ke(e.e/ee),f=p.length,l=h.length,f<l&&(u=p,p=h,h=u,o=f,f=l,l=o),u=[],o=f+l,r=o;r--;)u.push(0);for(r=l;--r>=0;){for(t=0,i=f+r;i>r;)a=u[i]+h[r]*p[i-r-1]+t,u[i--]=a%ht|0,t=a/ht|0;u[i]=(u[i]+t)%ht|0}for(;!u[--o];)u.pop();return t?++n:u.shift(),e.d=u,e.e=Un(u,n),ie?J(e,c.precision,c.rounding):e};I.toBinary=function(e,t){return gr(this,2,e,t)};I.toDecimalPlaces=I.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(et(e,0,kt),t===void 0?t=r.rounding:et(t,0,8),J(n,e+n.e+1,t))};I.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Dt(r,!0):(et(e,0,kt),t===void 0?t=i.rounding:et(t,0,8),r=J(new i(r),e+1,t),n=Dt(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};I.toFixed=function(e,t){var n,r,i=this,u=i.constructor;return e===void 0?n=Dt(i):(et(e,0,kt),t===void 0?t=u.rounding:et(t,0,8),r=J(new u(i),e+i.e+1,t),n=Dt(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};I.toFraction=function(e){var t,n,r,i,u,o,a,f,l,d,c,p,h=this,v=h.d,s=h.constructor;if(!v)return new s(h);if(l=n=new s(1),r=f=new s(0),t=new s(r),u=t.e=Wi(v)-h.e-1,o=u%ee,t.d[0]=$e(10,o<0?ee+o:o),e==null)e=u>0?t:l;else{if(a=new s(e),!a.isInt()||a.lt(l))throw Error(Tt+a);e=a.gt(t)?u>0?t:l:a}for(ie=!1,a=new s(Ze(v)),d=s.precision,s.precision=u=v.length*ee*2;c=Ee(a,t,0,1,1),i=n.plus(c.times(r)),i.cmp(e)!=1;)n=r,r=i,i=l,l=f.plus(c.times(i)),f=i,i=t,t=a.minus(c.times(i)),a=i;return i=Ee(e.minus(n),r,0,1,1),f=f.plus(i.times(l)),n=n.plus(i.times(r)),f.s=l.s=h.s,p=Ee(l,r,u,1).minus(h).abs().cmp(Ee(f,n,u,1).minus(h).abs())<1?[l,r]:[f,n],s.precision=d,ie=!0,p};I.toHexadecimal=I.toHex=function(e,t){return gr(this,16,e,t)};I.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:et(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ie=!1,n=Ee(n,e,0,t,1).times(e),ie=!0,J(n)):(e.s=n.s,n=e),n};I.toNumber=function(){return+this};I.toOctal=function(e,t){return gr(this,8,e,t)};I.toPower=I.pow=function(e){var t,n,r,i,u,o,a=this,f=a.constructor,l=+(e=new f(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new f($e(+a,l));if(a=new f(a),a.eq(1))return a;if(r=f.precision,u=f.rounding,e.eq(1))return J(a,r,u);if(t=Ke(e.e/ee),t>=e.d.length-1&&(n=l<0?-l:l)<=ts)return i=Zi(f,a,n,r),e.s<0?new f(1).div(i):J(i,r,u);if(o=a.s,o<0){if(t<e.d.length-1)return new f(NaN);if(e.d[t]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return n=$e(+a,l),t=n==0||!isFinite(n)?Ke(l*(Math.log("0."+Ze(a.d))/Math.LN10+a.e+1)):new f(n+"").e,t>f.maxE+1||t<f.minE-1?new f(t>0?o/0:0):(ie=!1,f.rounding=a.s=1,n=Math.min(12,(t+"").length),i=ir(e.times(Bt(a,r+n)),r),i.d&&(i=J(i,r+5,1),fn(i.d,r,u)&&(t=r+10,i=J(ir(e.times(Bt(a,t+n)),t),t+5,1),+Ze(i.d).slice(r+1,r+15)+1==1e14&&(i=J(i,r+1,0)))),i.s=o,ie=!0,f.rounding=u,J(i,r,u))};I.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Dt(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(et(e,1,kt),t===void 0?t=i.rounding:et(t,0,8),r=J(new i(r),e,t),n=Dt(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};I.toSignificantDigits=I.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(et(e,1,kt),t===void 0?t=r.rounding:et(t,0,8)),J(new r(n),e,t)};I.toString=function(){var e=this,t=e.constructor,n=Dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};I.truncated=I.trunc=function(){return J(new this.constructor(this),this.e+1,1)};I.valueOf=I.toJSON=function(){var e=this,t=e.constructor,n=Dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Ze(e){var t,n,r,i=e.length-1,u="",o=e[0];if(i>0){for(u+=o,t=1;t<i;t++)r=e[t]+"",n=ee-r.length,n&&(u+=At(n)),u+=r;o=e[t],r=o+"",n=ee-r.length,n&&(u+=At(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function et(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Tt+e)}function fn(e,t,n,r){var i,u,o,a;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=ee,i=0):(i=Math.ceil((t+1)/ee),t%=ee),u=$e(10,ee-t),a=e[i]%u|0,r==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):o=(n<4&&a+1==u||n>3&&a+1==u/2)&&(e[i+1]/u/100|0)==$e(10,t-2)-1||(a==u/2||a==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(r||n<4)&&a==9999||!r&&n>3&&a==4999):o=((r||n<4)&&a+1==u||!r&&n>3&&a+1==u/2)&&(e[i+1]/u/1e3|0)==$e(10,t-3)-1,o}function Fn(e,t,n){for(var r,i=[0],u,o=0,a=e.length;o<a;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=tr.indexOf(e.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function rs(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/qn(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=Xt(e,1,t.times(i),new e(1));for(var u=n;u--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var Ee=function(){function e(r,i,u){var o,a=0,f=r.length;for(r=r.slice();f--;)o=r[f]*i+a,r[f]=o%u|0,a=o/u|0;return a&&r.unshift(a),r}function t(r,i,u,o){var a,f;if(u!=o)f=u>o?1:-1;else for(a=f=0;a<u;a++)if(r[a]!=i[a]){f=r[a]>i[a]?1:-1;break}return f}function n(r,i,u,o){for(var a=0;u--;)r[u]-=a,a=r[u]<i[u]?1:0,r[u]=a*o+r[u]-i[u];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,u,o,a,f){var l,d,c,p,h,v,s,g,E,C,w,y,m,D,F,A,_,M,k,z,j=r.constructor,Y=r.s==i.s?1:-1,W=r.d,L=i.d;if(!W||!W[0]||!L||!L[0])return new j(!r.s||!i.s||(W?L&&W[0]==L[0]:!L)?NaN:W&&W[0]==0||!L?Y*0:Y/0);for(f?(h=1,d=r.e-i.e):(f=ht,h=ee,d=Ke(r.e/h)-Ke(i.e/h)),k=L.length,_=W.length,E=new j(Y),C=E.d=[],c=0;L[c]==(W[c]||0);c++);if(L[c]>(W[c]||0)&&d--,u==null?(D=u=j.precision,o=j.rounding):a?D=u+(r.e-i.e)+1:D=u,D<0)C.push(1),v=!0;else{if(D=D/h+2|0,c=0,k==1){for(p=0,L=L[0],D++;(c<_||p)&&D--;c++)F=p*f+(W[c]||0),C[c]=F/L|0,p=F%L|0;v=p||c<_}else{for(p=f/(L[0]+1)|0,p>1&&(L=e(L,p,f),W=e(W,p,f),k=L.length,_=W.length),A=k,w=W.slice(0,k),y=w.length;y<k;)w[y++]=0;z=L.slice(),z.unshift(0),M=L[0],L[1]>=f/2&&++M;do p=0,l=t(L,w,k,y),l<0?(m=w[0],k!=y&&(m=m*f+(w[1]||0)),p=m/M|0,p>1?(p>=f&&(p=f-1),s=e(L,p,f),g=s.length,y=w.length,l=t(s,w,g,y),l==1&&(p--,n(s,k<g?z:L,g,f))):(p==0&&(l=p=1),s=L.slice()),g=s.length,g<y&&s.unshift(0),n(w,s,y,f),l==-1&&(y=w.length,l=t(L,w,k,y),l<1&&(p++,n(w,k<y?z:L,y,f))),y=w.length):l===0&&(p++,w=[0]),C[c++]=p,l&&w[0]?w[y++]=W[A]||0:(w=[W[A]],y=1);while((A++<_||w[0]!==void 0)&&D--);v=w[0]!==void 0}C[0]||C.shift()}if(h==1)E.e=d,$i=v;else{for(c=1,p=C[0];p>=10;p/=10)c++;E.e=c+d*h-1,J(E,a?u+E.e+1:u,o,v)}return E}}();function J(e,t,n,r){var i,u,o,a,f,l,d,c,p,h=e.constructor;e:if(t!=null){if(c=e.d,!c)return e;for(i=1,a=c[0];a>=10;a/=10)i++;if(u=t-i,u<0)u+=ee,o=t,d=c[p=0],f=d/$e(10,i-o-1)%10|0;else if(p=Math.ceil((u+1)/ee),a=c.length,p>=a)if(r){for(;a++<=p;)c.push(0);d=f=0,i=1,u%=ee,o=u-ee+1}else break e;else{for(d=a=c[p],i=1;a>=10;a/=10)i++;u%=ee,o=u-ee+i,f=o<0?0:d/$e(10,i-o-1)%10|0}if(r=r||t<0||c[p+1]!==void 0||(o<0?d:d%$e(10,i-o-1)),l=n<4?(f||r)&&(n==0||n==(e.s<0?3:2)):f>5||f==5&&(n==4||r||n==6&&(u>0?o>0?d/$e(10,i-o):0:c[p-1])%10&1||n==(e.s<0?8:7)),t<1||!c[0])return c.length=0,l?(t-=e.e+1,c[0]=$e(10,(ee-t%ee)%ee),e.e=-t||0):c[0]=e.e=0,e;if(u==0?(c.length=p,a=1,p--):(c.length=p+1,a=$e(10,ee-u),c[p]=o>0?(d/$e(10,i-o)%$e(10,o)|0)*a:0),l)for(;;)if(p==0){for(u=1,o=c[0];o>=10;o/=10)u++;for(o=c[0]+=a,a=1;o>=10;o/=10)a++;u!=a&&(e.e++,c[0]==ht&&(c[0]=1));break}else{if(c[p]+=a,c[p]!=ht)break;c[p--]=0,a=1}for(u=c.length;c[--u]===0;)c.pop()}return ie&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function Dt(e,t,n){if(!e.isFinite())return ji(e);var r,i=e.e,u=Ze(e.d),o=u.length;return t?(n&&(r=n-o)>0?u=u.charAt(0)+"."+u.slice(1)+At(r):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+At(-i-1)+u,n&&(r=n-o)>0&&(u+=At(r))):i>=o?(u+=At(i+1-o),n&&(r=n-i-1)>0&&(u=u+"."+At(r))):((r=i+1)<o&&(u=u.slice(0,r)+"."+u.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(u+="."),u+=At(r))),u}function Un(e,t){var n=e[0];for(t*=ee;n>=10;n/=10)t++;return t}function In(e,t,n){if(t>ns)throw ie=!0,n&&(e.precision=n),Error(Li);return J(new e(Sn),t,1,!0)}function mt(e,t,n){if(t>rr)throw Error(Li);return J(new e(Tn),t,n,!0)}function Wi(e){var t=e.length-1,n=t*ee+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function At(e){for(var t="";e--;)t+="0";return t}function Zi(e,t,n,r){var i,u=new e(1),o=Math.ceil(r/ee+4);for(ie=!1;;){if(n%2&&(u=u.times(t),Rr(u.d,o)&&(i=!0)),n=Ke(n/2),n===0){n=u.d.length-1,i&&u.d[n]===0&&++u.d[n];break}t=t.times(t),Rr(t.d,o)}return ie=!0,u}function Pr(e){return e.d[e.d.length-1]&1}function Hi(e,t,n){for(var r,i,u=new e(t[0]),o=0;++o<t.length;){if(i=new e(t[o]),!i.s){u=i;break}r=u.cmp(i),(r===n||r===0&&u.s===n)&&(u=i)}return u}function ir(e,t){var n,r,i,u,o,a,f,l=0,d=0,c=0,p=e.constructor,h=p.rounding,v=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ie=!1,f=v):f=t,a=new p(.03125);e.e>-2;)e=e.times(a),c+=5;for(r=Math.log($e(2,c))/Math.LN10*2+5|0,f+=r,n=u=o=new p(1),p.precision=f;;){if(u=J(u.times(e),f,1),n=n.times(++d),a=o.plus(Ee(u,n,f,1)),Ze(a.d).slice(0,f)===Ze(o.d).slice(0,f)){for(i=c;i--;)o=J(o.times(o),f,1);if(t==null)if(l<3&&fn(o.d,f-r,h,l))p.precision=f+=10,n=u=a=new p(1),d=0,l++;else return J(o,p.precision=v,h,ie=!0);else return p.precision=v,o}o=a}}function Bt(e,t){var n,r,i,u,o,a,f,l,d,c,p,h=1,v=10,s=e,g=s.d,E=s.constructor,C=E.rounding,w=E.precision;if(s.s<0||!g||!g[0]||!s.e&&g[0]==1&&g.length==1)return new E(g&&!g[0]?-1/0:s.s!=1?NaN:g?0:s);if(t==null?(ie=!1,d=w):d=t,E.precision=d+=v,n=Ze(g),r=n.charAt(0),Math.abs(u=s.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)s=s.times(e),n=Ze(s.d),r=n.charAt(0),h++;u=s.e,r>1?(s=new E("0."+n),u++):s=new E(r+"."+n.slice(1))}else return l=In(E,d+2,w).times(u+""),s=Bt(new E(r+"."+n.slice(1)),d-v).plus(l),E.precision=w,t==null?J(s,w,C,ie=!0):s;for(c=s,f=o=s=Ee(s.minus(1),s.plus(1),d,1),p=J(s.times(s),d,1),i=3;;){if(o=J(o.times(p),d,1),l=f.plus(Ee(o,new E(i),d,1)),Ze(l.d).slice(0,d)===Ze(f.d).slice(0,d))if(f=f.times(2),u!==0&&(f=f.plus(In(E,d+2,w).times(u+""))),f=Ee(f,new E(h),d,1),t==null)if(fn(f.d,d-v,C,a))E.precision=d+=v,l=o=s=Ee(c.minus(1),c.plus(1),d,1),p=J(s.times(s),d,1),i=a=1;else return J(f,E.precision=w,C,ie=!0);else return E.precision=w,f;f=l,i+=2}}function ji(e){return String(e.s*e.s/0)}function An(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%ee,n<0&&(r+=ee),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ee;r<i;)e.d.push(+t.slice(r,r+=ee));t=t.slice(r),r=ee-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),ie&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function is(e,t){var n,r,i,u,o,a,f,l,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Vi.test(t))return An(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Qa.test(t))n=16,t=t.toLowerCase();else if(Xa.test(t))n=2;else if(es.test(t))n=8;else throw Error(Tt+t);for(u=t.search(/p/i),u>0?(f=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),o=u>=0,r=e.constructor,o&&(t=t.replace(".",""),a=t.length,u=a-u,i=Zi(r,new r(n),u,u*2)),l=Fn(t,n,ht),d=l.length-1,u=d;l[u]===0;--u)l.pop();return u<0?new r(e.s*0):(e.e=Un(l,d),e.d=l,ie=!1,o&&(e=Ee(e,i,a*4)),f&&(e=e.times(Math.abs(f)<54?$e(2,f):Qt.pow(2,f))),ie=!0,e)}function us(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Xt(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/qn(5,n)),t=Xt(e,2,t,t);for(var i,u=new e(5),o=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(u.plus(i.times(o.times(i).minus(a))));return t}function Xt(e,t,n,r,i){var u,o,a,f,l=e.precision,d=Math.ceil(l/ee);for(ie=!1,f=n.times(n),a=new e(r);;){if(o=Ee(a.times(f),new e(t++*t++),l,1),a=i?r.plus(o):r.minus(o),r=Ee(o.times(f),new e(t++*t++),l,1),o=a.plus(r),o.d[d]!==void 0){for(u=d;o.d[u]===a.d[u]&&u--;);if(u==-1)break}u=a,a=r,r=o,o=u}return ie=!0,o.d.length=d+1,o}function qn(e,t){for(var n=e;--t;)n*=e;return n}function Ki(e,t){var n,r=t.s<0,i=mt(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return bt=r?4:1,t;if(n=t.divToInt(i),n.isZero())bt=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(u))return bt=Pr(n)?r?2:3:r?4:1,t;bt=Pr(n)?r?1:4:r?3:2}return t.minus(i).abs()}function gr(e,t,n,r){var i,u,o,a,f,l,d,c,p,h=e.constructor,v=n!==void 0;if(v?(et(n,1,kt),r===void 0?r=h.rounding:et(r,0,8)):(n=h.precision,r=h.rounding),!e.isFinite())d=ji(e);else{for(d=Dt(e),o=d.indexOf("."),v?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,o>=0&&(d=d.replace(".",""),p=new h(1),p.e=d.length-o,p.d=Fn(Dt(p),10,i),p.e=p.d.length),c=Fn(d,10,i),u=f=c.length;c[--f]==0;)c.pop();if(!c[0])d=v?"0p+0":"0";else{if(o<0?u--:(e=new h(e),e.d=c,e.e=u,e=Ee(e,p,n,r,0,i),c=e.d,u=e.e,l=$i),o=c[n],a=i/2,l=l||c[n+1]!==void 0,l=r<4?(o!==void 0||l)&&(r===0||r===(e.s<0?3:2)):o>a||o===a&&(r===4||l||r===6&&c[n-1]&1||r===(e.s<0?8:7)),c.length=n,l)for(;++c[--n]>i-1;)c[n]=0,n||(++u,c.unshift(1));for(f=c.length;!c[f-1];--f);for(o=0,d="";o<f;o++)d+=tr.charAt(c[o]);if(v){if(f>1)if(t==16||t==8){for(o=t==16?4:3,--f;f%o;f++)d+="0";for(c=Fn(d,i,t),f=c.length;!c[f-1];--f);for(o=1,d="1.";o<f;o++)d+=tr.charAt(c[o])}else d=d.charAt(0)+"."+d.slice(1);d=d+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)d="0"+d;d="0."+d}else if(++u>f)for(u-=f;u--;)d+="0";else u<f&&(d=d.slice(0,u)+"."+d.slice(u))}d=(t==16?"0x":t==2?"0b":t==8?"0o":"")+d}return e.s<0?"-"+d:d}function Rr(e,t){if(e.length>t)return e.length=t,!0}function os(e){return new this(e).abs()}function as(e){return new this(e).acos()}function ss(e){return new this(e).acosh()}function ls(e,t){return new this(e).plus(t)}function cs(e){return new this(e).asin()}function fs(e){return new this(e).asinh()}function ds(e){return new this(e).atan()}function hs(e){return new this(e).atanh()}function ps(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,u=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=mt(this,u,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?mt(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=mt(this,u,1).times(.5),n.s=e.s):t.s<0?(this.precision=u,this.rounding=1,n=this.atan(Ee(e,t,u,1)),t=mt(this,u,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Ee(e,t,u,1)),n}function vs(e){return new this(e).cbrt()}function gs(e){return J(e=new this(e),e.e+1,2)}function ms(e,t,n){return new this(e).clamp(t,n)}function Ds(e){if(!e||typeof e!="object")throw Error(Ln+"Object expected");var t,n,r,i=e.defaults===!0,u=["precision",1,kt,"rounding",0,8,"toExpNeg",-jt,0,"toExpPos",0,jt,"maxE",0,jt,"minE",-jt,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(n=u[t],i&&(this[n]=nr[n]),(r=e[n])!==void 0)if(Ke(r)===r&&r>=u[t+1]&&r<=u[t+2])this[n]=r;else throw Error(Tt+n+": "+r);if(n="crypto",i&&(this[n]=nr[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Ui);else this[n]=!1;else throw Error(Tt+n+": "+r);return this}function ws(e){return new this(e).cos()}function ys(e){return new this(e).cosh()}function Gi(e){var t,n,r;function i(u){var o,a,f,l=this;if(!(l instanceof i))return new i(u);if(l.constructor=i,zr(u)){l.s=u.s,ie?!u.d||u.e>i.maxE?(l.e=NaN,l.d=null):u.e<i.minE?(l.e=0,l.d=[0]):(l.e=u.e,l.d=u.d.slice()):(l.e=u.e,l.d=u.d?u.d.slice():u.d);return}if(f=typeof u,f==="number"){if(u===0){l.s=1/u<0?-1:1,l.e=0,l.d=[0];return}if(u<0?(u=-u,l.s=-1):l.s=1,u===~~u&&u<1e7){for(o=0,a=u;a>=10;a/=10)o++;ie?o>i.maxE?(l.e=NaN,l.d=null):o<i.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[u]):(l.e=o,l.d=[u]);return}if(u*0!==0){u||(l.s=NaN),l.e=NaN,l.d=null;return}return An(l,u.toString())}if(f==="string")return(a=u.charCodeAt(0))===45?(u=u.slice(1),l.s=-1):(a===43&&(u=u.slice(1)),l.s=1),Vi.test(u)?An(l,u):is(l,u);if(f==="bigint")return u<0?(u=-u,l.s=-1):l.s=1,An(l,u.toString());throw Error(Tt+u)}if(i.prototype=I,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Ds,i.clone=Gi,i.isDecimal=zr,i.abs=os,i.acos=as,i.acosh=ss,i.add=ls,i.asin=cs,i.asinh=fs,i.atan=ds,i.atanh=hs,i.atan2=ps,i.cbrt=vs,i.ceil=gs,i.clamp=ms,i.cos=ws,i.cosh=ys,i.div=Es,i.exp=bs,i.floor=Cs,i.hypot=Fs,i.ln=As,i.log=_s,i.log10=xs,i.log2=Bs,i.max=Ns,i.min=Ms,i.mod=Ss,i.mul=Ts,i.pow=Is,i.random=ks,i.round=Os,i.sign=Ps,i.sin=Rs,i.sinh=zs,i.sqrt=$s,i.sub=Ls,i.sum=Us,i.tan=qs,i.tanh=Vs,i.trunc=Ws,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Es(e,t){return new this(e).div(t)}function bs(e){return new this(e).exp()}function Cs(e){return J(e=new this(e),e.e+1,3)}function Fs(){var e,t,n=new this(0);for(ie=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ie=!0,new this(1/0);n=t}return ie=!0,n.sqrt()}function zr(e){return e instanceof Qt||e&&e.toStringTag===qi||!1}function As(e){return new this(e).ln()}function _s(e,t){return new this(e).log(t)}function Bs(e){return new this(e).log(2)}function xs(e){return new this(e).log(10)}function Ns(){return Hi(this,arguments,-1)}function Ms(){return Hi(this,arguments,1)}function Ss(e,t){return new this(e).mod(t)}function Ts(e,t){return new this(e).mul(t)}function Is(e,t){return new this(e).pow(t)}function ks(e){var t,n,r,i,u=0,o=new this(1),a=[];if(e===void 0?e=this.precision:et(e,1,kt),r=Math.ceil(e/ee),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));u<r;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:a[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);u<r;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(a.push(i%1e7),u+=4);u=r/4}else throw Error(Ui);else for(;u<r;)a[u++]=Math.random()*1e7|0;for(r=a[--u],e%=ee,r&&e&&(i=$e(10,ee-e),a[u]=(r/i|0)*i);a[u]===0;u--)a.pop();if(u<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=ee)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<ee&&(n-=ee-r)}return o.e=n,o.d=a,o}function Os(e){return J(e=new this(e),e.e+1,this.rounding)}function Ps(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Rs(e){return new this(e).sin()}function zs(e){return new this(e).sinh()}function $s(e){return new this(e).sqrt()}function Ls(e,t){return new this(e).sub(t)}function Us(){var e=0,t=arguments,n=new this(t[e]);for(ie=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return ie=!0,J(n,this.precision,this.rounding)}function qs(e){return new this(e).tan()}function Vs(e){return new this(e).tanh()}function Ws(e){return J(e=new this(e),e.e+1,1)}I[Symbol.for("nodejs.util.inspect.custom")]=I.toString;I[Symbol.toStringTag]="Decimal";var Qt=I.constructor=Gi(nr);Sn=new Qt(Sn);Tn=new Qt(Tn);var Zs="BigNumber",Hs=["?on","config"],js=le(Zs,Hs,e=>{var{on:t,config:n}=e,r=Qt.clone({precision:n.precision,modulo:Qt.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const je=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},st=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Ks=e=>{const t=Math.sin(.5*e);return-2*t*t},Jn=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Vt=function(){throw SyntaxError("Invalid Param")};function Xn(e,t){const n=Math.abs(e),r=Math.abs(t);return e===0?Math.log(r):t===0?Math.log(n):n<3e3&&r<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const Gs={re:0,im:0},Ot=function(e,t){const n=Gs;if(e==null)n.re=n.im=0;else if(t!==void 0)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return x.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return x.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else e.length===2?(n.re=e[0],n.im=e[1]):Vt();break;case"string":n.im=n.re=0;const r=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;r===null&&Vt();for(let o=0;o<r.length;o++){const a=r[o];a===" "||a==="	"||a===`
`||(a==="+"?i++:a==="-"?u++:a==="i"||a==="I"?(i+u===0&&Vt(),r[o+1]!==" "&&!isNaN(r[o+1])?(n.im+=parseFloat((u%2?"-":"")+r[o+1]),o++):n.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(a))&&Vt(),r[o+1]==="i"||r[o+1]==="I"?(n.im+=parseFloat((u%2?"-":"")+a),o++):n.re+=parseFloat((u%2?"-":"")+a),i=u=0))}i+u>0&&Vt();break;case"number":n.im=0,n.re=e;break;default:Vt()}return isNaN(n.re)||isNaN(n.im),n};function x(e,t){if(!(this instanceof x))return new x(e,t);const n=Ot(e,t);this.re=n.re,this.im=n.im}x.prototype={re:0,im:0,sign:function(){const e=Jn(this.re,this.im);return new x(this.re/e,this.im/e)},add:function(e,t){const n=Ot(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?x.NAN:x.INFINITY:new x(this.re+n.re,this.im+n.im)},sub:function(e,t){const n=Ot(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?x.NAN:x.INFINITY:new x(this.re-n.re,this.im-n.im)},mul:function(e,t){const n=Ot(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;return r&&o||i&&u?x.NAN:r||i?x.INFINITY:n.im===0&&this.im===0?new x(this.re*n.re,0):new x(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){const n=Ot(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;if(u&&o||r&&i)return x.NAN;if(o||r)return x.INFINITY;if(u||i)return x.ZERO;if(n.im===0)return new x(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const a=n.re/n.im,f=n.re*a+n.im;return new x((this.re*a+this.im)/f,(this.im*a-this.re)/f)}else{const a=n.im/n.re,f=n.im*a+n.re;return new x((this.re+this.im*a)/f,(this.im-this.re*a)/f)}},pow:function(e,t){const n=Ot(e,t),r=this.re===0&&this.im===0;if(n.re===0&&n.im===0)return x.ONE;if(n.im===0){if(this.im===0&&this.re>0)return new x(Math.pow(this.re,n.re),0);if(this.re===0)switch((n.re%4+4)%4){case 0:return new x(Math.pow(this.im,n.re),0);case 1:return new x(0,Math.pow(this.im,n.re));case 2:return new x(-Math.pow(this.im,n.re),0);case 3:return new x(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return x.ZERO;const u=Math.atan2(this.im,this.re),o=Xn(this.re,this.im);let a=Math.exp(n.re*o-n.im*u),f=n.im*o+n.re*u;return new x(a*Math.cos(f),a*Math.sin(f))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new x(Math.sqrt(e),0):new x(0,Math.sqrt(-e));const n=Jn(e,t);let r=Math.sqrt(.5*(n+Math.abs(e))),i=Math.abs(t)/(2*r);return e>=0?new x(r,t<0?-i:i):new x(i,t<0?-r:r)},exp:function(){const e=Math.exp(this.re);return this.im===0?new x(e,0):new x(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new x(Math.expm1(e)*Math.cos(t)+Ks(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new x(Math.log(e),0):new x(Xn(e,t),Math.atan2(t,e))},abs:function(){return Jn(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new x(Math.sin(e)*je(t),Math.cos(e)*st(t))},cos:function(){const e=this.re,t=this.im;return new x(Math.cos(e)*je(t),-Math.sin(e)*st(t))},tan:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)+je(t);return new x(Math.sin(e)/n,st(t)/n)},cot:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)-je(t);return new x(-Math.sin(e)/n,st(t)/n)},sec:function(){const e=this.re,t=this.im,n=.5*je(2*t)+.5*Math.cos(2*e);return new x(Math.cos(e)*je(t)/n,Math.sin(e)*st(t)/n)},csc:function(){const e=this.re,t=this.im,n=.5*je(2*t)-.5*Math.cos(2*e);return new x(Math.sin(e)*je(t)/n,-Math.cos(e)*st(t)/n)},asin:function(){const e=this.re,t=this.im,n=new x(t*t-e*e+1,-2*e*t).sqrt(),r=new x(n.re-t,n.im+e).log();return new x(r.im,-r.re)},acos:function(){const e=this.re,t=this.im,n=new x(t*t-e*e+1,-2*e*t).sqrt(),r=new x(n.re-t,n.im+e).log();return new x(Math.PI/2-r.im,r.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new x(0,1/0);if(t===-1)return new x(0,-1/0)}const n=e*e+(1-t)*(1-t),r=new x((1-t*t-e*e)/n,-2*e/n).log();return new x(-.5*r.im,.5*r.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new x(Math.atan2(1,e),0);const n=e*e+t*t;return n!==0?new x(e/n,-t/n).atan():new x(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new x(0,1/0);const n=e*e+t*t;return n!==0?new x(e/n,-t/n).acos():new x(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new x(Math.PI/2,1/0);const n=e*e+t*t;return n!==0?new x(e/n,-t/n).asin():new x(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new x(st(e)*Math.cos(t),je(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new x(je(e)*Math.cos(t),st(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,n=je(e)+Math.cos(t);return new x(st(e)/n,Math.sin(t)/n)},coth:function(){const e=2*this.re,t=2*this.im,n=je(e)-Math.cos(t);return new x(st(e)/n,-Math.sin(t)/n)},csch:function(){const e=this.re,t=this.im,n=Math.cos(2*t)-je(2*e);return new x(-2*st(e)*Math.cos(t)/n,2*je(e)*Math.sin(t)/n)},sech:function(){const e=this.re,t=this.im,n=Math.cos(2*t)+je(2*e);return new x(2*je(e)*Math.cos(t)/n,-2*st(e)*Math.sin(t)/n)},asinh:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new x(0,0);const u=Math.abs(e),o=Math.log(u+Math.sqrt(u*u+1));return new x(e<0?-o:o,0)}const n=e*e-t*t+1,r=2*e*t,i=new x(n,r).sqrt();return new x(e+i.re,t+i.im).log()},acosh:function(){const e=this.re,t=this.im;if(t===0){if(e>1)return new x(Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1)),0);if(e<-1){const i=Math.sqrt(e*e-1);return new x(Math.log(-e+i),Math.PI)}return new x(0,Math.acos(e))}const n=new x(e-1,t).sqrt(),r=new x(e+1,t).sqrt();return new x(e+n.re*r.re-n.im*r.im,t+n.re*r.im+n.im*r.re).log()},atanh:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new x(0,0);if(e===1)return new x(1/0,0);if(e===-1)return new x(-1/0,0);if(-1<e&&e<1)return new x(.5*Math.log((1+e)/(1-e)),0);if(e>1){const f=(e+1)/(e-1);return new x(.5*Math.log(f),-Math.PI/2)}const a=(1+e)/(1-e);return new x(.5*Math.log(-a),Math.PI/2)}const n=1-e,r=1+e,i=n*n+t*t;if(i===0)return new x(e!==-1?e/0:0,t!==0?t/0:0);const u=(r*n-t*t)/i,o=(t*n+r*t)/i;return new x(Xn(u,o)/2,Math.atan2(o,u)/2)},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new x(0,Math.PI/2);const n=e*e+t*t;return n!==0?new x(e/n,-t/n).atanh():new x(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new x(1/0,0);const r=1/e;return new x(Math.log(r+Math.sqrt(r*r+1)),0)}const n=e*e+t*t;return n!==0?new x(e/n,-t/n).asinh():new x(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return x.INFINITY;const n=e*e+t*t;return n!==0?new x(e/n,-t/n).acosh():new x(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return x.INFINITY;if(this.isInfinite())return x.ZERO;const e=this.re,t=this.im,n=e*e+t*t;return new x(e/n,-t/n)},conjugate:function(){return new x(this.re,-this.im)},neg:function(){return new x(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new x(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new x(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new x(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const n=Ot(e,t);return Math.abs(n.re-this.re)<=x.EPSILON&&Math.abs(n.im-this.im)<=x.EPSILON},clone:function(){return new x(this.re,this.im)},toString:function(){let e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<x.EPSILON&&(e=0),Math.abs(t)<x.EPSILON&&(t=0),t===0?n+e:(e!==0?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),t!==1&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};x.ZERO=new x(0,0);x.ONE=new x(1,0);x.I=new x(0,1);x.PI=new x(Math.PI,0);x.E=new x(Math.E,0);x.INFINITY=new x(1/0,1/0);x.NAN=new x(NaN,NaN);x.EPSILON=1e-15;var Ys="Complex",Js=[],Xs=le(Ys,Js,()=>(Object.defineProperty(x,"name",{value:"Complex"}),x.prototype.constructor=x,x.prototype.type="Complex",x.prototype.isComplex=!0,x.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},x.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},x.prototype.format=function(e){var t="",n=this.im,r=this.re,i=er(this.re,e),u=er(this.im,e),o=pe(e)?e:e?e.precision:null;if(o!==null){var a=Math.pow(10,-o);Math.abs(r/n)<a&&(r=0),Math.abs(n/r)<a&&(n=0)}return n===0?t=i:r===0?n===1?t="i":n===-1?t="-i":t=u+"i":n<0?n===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":n===1?t=i+" + i":t=i+" + "+u+"i",t},x.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return x(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(pe(n)){if(Ii(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),pe(r))return new x({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},x.prototype.valueOf=x.prototype.toString,x.fromJSON=function(e){return new x(e)},x.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},x),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const K=BigInt(0),se=BigInt(1),qe=BigInt(2),an=BigInt(3),Kt=BigInt(5),Qe=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const Qs=2e3,V={s:se,n:K,d:se};function Et(e,t){try{e=BigInt(e)}catch{throw Ft()}return e*t}function dt(e){return typeof e=="bigint"?e:Math.floor(e)}function Ce(e,t){if(t===K)throw mr();const n=Object.create(lt.prototype);n.s=e<K?-se:se,e=e<K?-e:e;const r=Pt(e,t);return n.n=e/r,n.d=t/r,n}const el=[qe*qe,qe,qe*qe,qe,qe*qe,qe*an,qe,qe*an];function Wt(e){const t=Object.create(null);if(e<=se)return t[e]=se,t;const n=r=>{t[r]=(t[r]||K)+se};for(;e%qe===K;)n(qe),e/=qe;for(;e%an===K;)n(an),e/=an;for(;e%Kt===K;)n(Kt),e/=Kt;for(let r=0,i=qe+Kt;i*i<=e;){for(;e%i===K;)n(i),e/=i;i+=el[r],r=r+1&7}return e>se&&n(e),t}const Ue=function(e,t){let n=K,r=se,i=se;if(e!=null)if(t!==void 0){if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Ft();if(e%1!==0)throw $r();n=BigInt(e)}if(typeof t=="bigint")r=t;else{if(isNaN(t))throw Ft();if(t%1!==0)throw $r();r=BigInt(t)}i=n*r}else if(typeof e=="object"){if("d"in e&&"n"in e)n=BigInt(e.n),r=BigInt(e.d),"s"in e&&(n*=BigInt(e.s));else if(0 in e)n=BigInt(e[0]),1 in e&&(r=BigInt(e[1]));else if(typeof e=="bigint")n=e;else throw Ft();i=n*r}else if(typeof e=="number"){if(isNaN(e))throw Ft();if(e<0&&(i=-se,e=-e),e%1===0)n=BigInt(e);else{let u=1,o=0,a=1,f=1,l=1,d=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);a<=d&&l<=d;){let c=(o+f)/(a+l);if(e===c){a+l<=d?(n=o+f,r=a+l):l>a?(n=f,r=l):(n=o,r=a);break}else e>c?(o+=f,a+=l):(f+=o,l+=a),a>d?(n=f,r=l):(n=o,r=a)}n=BigInt(n)*BigInt(u),r=BigInt(r)}}else if(typeof e=="string"){let u=0,o=K,a=K,f=K,l=se,d=se,c=e.replace(/_/g,"").match(/\d+|./g);if(c===null)throw Ft();if(c[u]==="-"?(i=-se,u++):c[u]==="+"&&u++,c.length===u+1?a=Et(c[u++],i):c[u+1]==="."||c[u]==="."?(c[u]!=="."&&(o=Et(c[u++],i)),u++,(u+1===c.length||c[u+1]==="("&&c[u+3]===")"||c[u+1]==="'"&&c[u+3]==="'")&&(a=Et(c[u],i),l=Qe**BigInt(c[u].length),u++),(c[u]==="("&&c[u+2]===")"||c[u]==="'"&&c[u+2]==="'")&&(f=Et(c[u+1],i),d=Qe**BigInt(c[u+1].length)-se,u+=3)):c[u+1]==="/"||c[u+1]===":"?(a=Et(c[u],i),l=Et(c[u+2],se),u+=3):c[u+3]==="/"&&c[u+1]===" "&&(o=Et(c[u],i),a=Et(c[u+2],i),l=Et(c[u+4],se),u+=5),c.length<=u)r=l*d,i=n=f+r*o+d*a;else throw Ft()}else if(typeof e=="bigint")n=e,i=e,r=se;else throw Ft();if(r===K)throw mr();V.s=i<K?-se:se,V.n=n<K?-n:n,V.d=r<K?-r:r};function tl(e,t,n){let r=se;for(;t>K;e=e*e%n,t>>=se)t&se&&(r=r*e%n);return r}function nl(e,t){for(;t%qe===K;t/=qe);for(;t%Kt===K;t/=Kt);if(t===se)return K;let n=Qe%t,r=1;for(;n!==se;r++)if(n=n*Qe%t,r>Qs)return K;return BigInt(r)}function rl(e,t,n){let r=se,i=tl(Qe,n,t);for(let u=0;u<300;u++){if(r===i)return BigInt(u);r=r*Qe%t,i=i*Qe%t}return 0}function Pt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function lt(e,t){if(Ue(e,t),this instanceof lt)e=Pt(V.d,V.n),this.s=V.s,this.n=V.n/e,this.d=V.d/e;else return Ce(V.s*V.n,V.d)}const mr=function(){return new Error("Division by Zero")},Ft=function(){return new Error("Invalid argument")},$r=function(){return new Error("Parameters must be integer")};lt.prototype={s:se,n:K,d:se,abs:function(){return Ce(this.n,this.d)},neg:function(){return Ce(-this.s*this.n,this.d)},add:function(e,t){return Ue(e,t),Ce(this.s*this.n*V.d+V.s*this.d*V.n,this.d*V.d)},sub:function(e,t){return Ue(e,t),Ce(this.s*this.n*V.d-V.s*this.d*V.n,this.d*V.d)},mul:function(e,t){return Ue(e,t),Ce(this.s*V.s*this.n*V.n,this.d*V.d)},div:function(e,t){return Ue(e,t),Ce(this.s*V.s*this.n*V.d,this.d*V.n)},clone:function(){return Ce(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Ce(this.s*this.n%this.d,se);if(Ue(e,t),K===V.n*this.d)throw mr();return Ce(this.s*(V.d*this.n)%(V.n*this.d),V.d*this.d)},gcd:function(e,t){return Ue(e,t),Ce(Pt(V.n,this.n)*Pt(V.d,this.d),V.d*this.d)},lcm:function(e,t){return Ue(e,t),V.n===K&&this.n===K?Ce(K,se):Ce(V.n*this.n,Pt(V.n,this.n)*Pt(V.d,this.d))},inverse:function(){return Ce(this.s*this.d,this.n)},pow:function(e,t){if(Ue(e,t),V.d===se)return V.s<K?Ce((this.s*this.d)**V.n,this.n**V.n):Ce((this.s*this.n)**V.n,this.d**V.n);if(this.s<K)return null;let n=Wt(this.n),r=Wt(this.d),i=se,u=se;for(let o in n)if(o!=="1"){if(o==="0"){i=K;break}if(n[o]*=V.n,n[o]%V.d===K)n[o]/=V.d;else return null;i*=BigInt(o)**n[o]}for(let o in r)if(o!=="1"){if(r[o]*=V.n,r[o]%V.d===K)r[o]/=V.d;else return null;u*=BigInt(o)**r[o]}return V.s<K?Ce(u,i):Ce(i,u)},log:function(e,t){if(Ue(e,t),this.s<=K||V.s<=K)return null;const n=Object.create(null),r=Wt(V.n),i=Wt(V.d),u=Wt(this.n),o=Wt(this.d);for(const l in i)r[l]=(r[l]||K)-i[l];for(const l in o)u[l]=(u[l]||K)-o[l];for(const l in r)l!=="1"&&(n[l]=!0);for(const l in u)l!=="1"&&(n[l]=!0);let a=null,f=null;for(const l in n){const d=r[l]||K,c=u[l]||K;if(d===K){if(c!==K)return null;continue}let p=c,h=d;const v=Pt(p,h);if(p/=v,h/=v,a===null&&f===null)a=p,f=h;else if(p*f!==a*h)return null}return a!==null&&f!==null?Ce(a,f):null},equals:function(e,t){return Ue(e,t),this.s*this.n*V.d===V.s*V.n*this.d},lt:function(e,t){return Ue(e,t),this.s*this.n*V.d<V.s*V.n*this.d},lte:function(e,t){return Ue(e,t),this.s*this.n*V.d<=V.s*V.n*this.d},gt:function(e,t){return Ue(e,t),this.s*this.n*V.d>V.s*V.n*this.d},gte:function(e,t){return Ue(e,t),this.s*this.n*V.d>=V.s*V.n*this.d},compare:function(e,t){Ue(e,t);let n=this.s*this.n*V.d-V.s*V.n*this.d;return(K<n)-(n<K)},ceil:function(e){return e=Qe**BigInt(e||0),Ce(dt(this.s*e*this.n/this.d)+(e*this.n%this.d>K&&this.s>=K?se:K),e)},floor:function(e){return e=Qe**BigInt(e||0),Ce(dt(this.s*e*this.n/this.d)-(e*this.n%this.d>K&&this.s<K?se:K),e)},round:function(e){return e=Qe**BigInt(e||0),Ce(dt(this.s*e*this.n/this.d)+this.s*((this.s>=K?se:K)+qe*(e*this.n%this.d)>this.d?se:K),e)},roundTo:function(e,t){Ue(e,t);const n=this.n*V.d,r=this.d*V.n,i=n%r;let u=dt(n/r);return i+i>=r&&u++,Ce(this.s*u*V.n,V.d)},divisible:function(e,t){return Ue(e,t),V.n===K?!1:this.n*V.d%(V.n*this.d)===K},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e=15){let t=this.n,n=this.d,r=nl(t,n),i=rl(t,n,r),u=this.s<K?"-":"";if(u+=dt(t/n),t%=n,t*=Qe,t&&(u+="."),r){for(let o=i;o--;)u+=dt(t/n),t%=n,t*=Qe;u+="(";for(let o=r;o--;)u+=dt(t/n),t%=n,t*=Qe;u+=")"}else for(let o=e;t&&o--;)u+=dt(t/n),t%=n,t*=Qe;return u},toFraction:function(e=!1){let t=this.n,n=this.d,r=this.s<K?"-":"";if(n===se)r+=t;else{const i=dt(t/n);e&&i>K&&(r+=i,r+=" ",t%=n),r+=t,r+="/",r+=n}return r},toLatex:function(e=!1){let t=this.n,n=this.d,r=this.s<K?"-":"";if(n===se)r+=t;else{const i=dt(t/n);e&&i>K&&(r+=i,t%=n),r+="\\frac{",r+=t,r+="}{",r+=n,r+="}"}return r},toContinued:function(){let e=this.n,t=this.d;const n=[];for(;t;){n.push(dt(e/t));const r=e%t;e=t,t=r}return n},simplify:function(e=.001){const t=BigInt(Math.ceil(1/e)),n=this.abs(),r=n.toContinued();for(let i=1;i<r.length;i++){let u=Ce(r[i-1],se);for(let a=i-2;a>=0;a--)u=u.inverse().add(r[a]);let o=u.sub(n);if(o.n*t<o.d)return u.mul(this.s)}return this}};var il="Fraction",ul=[],ol=le(il,ul,()=>(Object.defineProperty(lt,"name",{value:"Fraction"}),lt.prototype.constructor=lt,lt.prototype.type="Fraction",lt.prototype.isFraction=!0,lt.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},lt.fromJSON=function(e){return new lt(e)},lt),{isClass:!0}),al="Matrix",sl=[],ll=le(al,sl,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Qn(e,t,n){var r=e.constructor,i=new r(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Fe(n))throw new Error("size must be an integer");if(e.greaterThan(i.pow(n-1).sub(1))||e.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(n))),u="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function cl(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=Oi(t);switch(n){case"fixed":return dl(e,r);case"exponential":return Lr(e,r);case"engineering":return fl(e,r);case"bin":return Qn(e,2,i);case"oct":return Qn(e,8,i);case"hex":return Qn(e,16,i);case"auto":{var u=Ur(t?.lowerExp,-3),o=Ur(t?.upperExp,5);if(e.isZero())return"0";var a,f=e.toSignificantDigits(r),l=f.e;return l>=u&&l<o?a=f.toFixed():a=Lr(e,r),a.replace(/((\.\d*?)(0+))($|e)/,function(){var d=arguments[2],c=arguments[4];return d!=="."?d+c:c})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function fl(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),u=i.toPrecision(t);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(n>=0?"+":"")+r.toString()}function Lr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function dl(e,t){return e.toFixed(t)}function Ur(e,t){return pe(e)?e:Ie(e)?e.toNumber():t}function Pe(e,t){var n=hl(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function hl(e,t){if(typeof e=="number")return er(e,t);if(Ie(e))return cl(e,t);if(pl(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Yi(e,t);if(gt(e))return qr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(r=>qr(r)+": "+Pe(e[r],t));return"{"+n.join(", ")+"}"}return String(e)}function qr(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in Vr?Vr[i]:i,r++}return'"'+n+'"'}var Vr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Yi(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=Yi(e[i],t);return n+="]",n}else return Pe(e,t)}function pl(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function Ae(e,t,n){if(!(this instanceof Ae))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Ae.prototype=new RangeError;Ae.prototype.constructor=RangeError;Ae.prototype.name="DimensionError";Ae.prototype.isDimensionError=!0;function tn(e,t,n){if(!(this instanceof tn))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}tn.prototype=new RangeError;tn.prototype.constructor=RangeError;tn.prototype.name="IndexError";tn.prototype.isIndexError=!0;function Ye(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ji(e,t,n){var r,i=e.length;if(i!==t[n])throw new Ae(i,t[n]);if(n<t.length-1){var u=n+1;for(r=0;r<i;r++){var o=e[r];if(!Array.isArray(o))throw new Ae(t.length-1,t.length,"<");Ji(e[r],t,u)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new Ae(t.length+1,t.length,">")}function Wr(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new Ae(e.length,0)}else Ji(e,t,0)}function xe(e,t){if(e!==void 0){if(!pe(e)||!Fe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new tn(e,t)}}function kn(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!pe(i)||!Fe(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Pe(t)+")")}),(pe(e)||Ie(e))&&(e=[e]);var r=n!==void 0?n:0;return ur(e,t,0,r),e}function ur(e,t,n,r){var i,u,o=e.length,a=t[n],f=Math.min(o,a);if(e.length=a,n<t.length-1){var l=n+1;for(i=0;i<f;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),ur(u,t,l,r);for(i=f;i<a;i++)u=[],e[i]=u,ur(u,t,l,r)}else{for(i=0;i<f;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=f;i<a;i++)e[i]=r}}function Xi(e,t){var n=gl(e,!0),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Ae(0,r,"!=");t=Dr(t,r);var i=Qi(t);if(r!==i)throw new Ae(i,r,"!=");try{return vl(n,t)}catch(u){throw u instanceof Ae?new Ae(i,r,"!="):u}}function Dr(e,t){var n=Qi(e),r=e.slice(),i=-1,u=e.indexOf(i),o=e.indexOf(i,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var a=u>=0,f=t%n===0;if(a)if(f)r[u]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return r}function Qi(e){return e.reduce((t,n)=>t*n,1)}function vl(e,t){for(var n=e,r,i=t.length-1;i>0;i--){var u=t[i];r=[];for(var o=n.length/u,a=0;a<o;a++)r.push(n.slice(a*u,(a+1)*u));n=r}return n}function eu(e,t,n,r){var i=r||Ye(e);if(n)for(var u=0;u<n;u++)e=[e],i.unshift(1);for(e=tu(e,t,0);i.length<t;)i.push(1);return e}function tu(e,t,n){var r,i;if(Array.isArray(e)){var u=n+1;for(r=0,i=e.length;r<i;r++)e[r]=tu(e[r],t,u)}else for(var o=n;o<t;o++)e=[e];return e}function gl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var n=[];return t?i(e):r(e),n;function r(u){for(var o=0;o<u.length;o++){var a=u[o];Array.isArray(a)?r(a):n.push(a)}}function i(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)i(u[o]);else for(var a=0;a<u.length;a++)n.push(u[a])}}function wr(e,t){for(var n,r=0,i=0;i<e.length;i++){var u=e[i],o=Array.isArray(u);if(i===0&&o&&(r=u.length),o&&u.length!==r)return;var a=o?wr(u,t):t(u);if(n===void 0)n=a;else if(n!==a)return"mixed"}return n}function nu(e,t,n,r){if(r<n){if(e.length!==t.length)throw new Ae(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=nu(e[u],t[u],n,r+1);return i}else return e.concat(t)}function ml(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,r){return nu(n,r,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Dl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(p=>p.length),i=Math.max(...r),u=new Array(i).fill(null),o=0;o<t.length;o++)for(var a=t[o],f=r[o],l=0;l<f;l++){var d=i-f+l;a[l]>u[d]&&(u[d]=a[l])}for(var c=0;c<t.length;c++)ru(t[c],u);return u}function ru(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var u=n-r+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[u]))}}function Zr(e,t){var n=Ye(e);if(Yt(n,t))return e;ru(n,t);var r=Dl(n,t),i=r.length,u=[...Array(i-n.length).fill(1),...n],o=yl(e);n.length<i&&(o=Xi(o,u),n=Ye(o));for(var a=0;a<i;a++)n[a]<r[a]&&(o=wl(o,r[a],a),n=Ye(o));return o}function wl(e,t,n){return ml(...Array(t).fill(e),n)}function iu(e,t){if(!Array.isArray(e))throw new Error("Array expected");var n=Ye(e);if(t.length!==n.length)throw new Ae(t.length,n.length);for(var r=0;r<t.length;r++)xe(t[r],n[r]);return t.reduce((i,u)=>i[u],e)}function Hr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(n)return u(e);var r=[];return i(e,0);function i(o,a){if(Array.isArray(o)){for(var f=o.length,l=Array(f),d=0;d<f;d++)r[a]=d,l[d]=i(o[d],a+1);return l}else return t(o,r.slice(0,a),e)}function u(o){if(Array.isArray(o)){for(var a=o.length,f=Array(a),l=0;l<a;l++)f[l]=u(o[l]);return f}else return t(o)}}function yl(e){return _n([],e)}function On(e,t,n,r){if(Mn.isTypedFunction(e)){var i;if(r)i=1;else{var u=t.isMatrix?t.size():Ye(t),o=u.length?u[u.length-1]===0:!0;if(o)return{isUnary:r,fn:e};var a=u.map(()=>0),f=t.isMatrix?t.get(a):iu(t,a);i=Cl(e,f,a,t)}var l;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var d=El(e,i);l=d!==void 0?d:e}else l=e;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var p=arguments.length,h=new Array(p),v=0;v<p;v++)h[v]=arguments[v];return jr(l,h.slice(0,i),n,e.name)}}:{isUnary:!1,fn:function(){for(var p=arguments.length,h=new Array(p),v=0;v<p;v++)h[v]=arguments[v];return jr(l,h,n,e.name)}}}return r===void 0?{isUnary:bl(e),fn:e}:{isUnary:r,fn:e}}function El(e,t){var n=[];if(Object.entries(e.signatures).forEach(r=>{var[i,u]=r;i.split(",").length===t&&n.push(u)}),n.length===1)return n[0]}function bl(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var n=t.match(/\(.*?\)/);return!/\.\.\./.test(n)}function Cl(e,t,n,r){for(var i=[t,n,r],u=3;u>0;u--){var o=i.slice(0,u);if(Mn.resolve(e,o)!==null)return u}}function jr(e,t,n,r){try{return e(...t)}catch(i){Fl(i,t,n,r)}}function Fl(e,t,n,r){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(Nt(t[0]))),t.length>=2&&u.push("index: ".concat(Nt(t[1]))),t.length>=3&&u.push("array: ".concat(Nt(t[2]))),new TypeError("Function ".concat(n," cannot apply callback arguments ")+"".concat(r,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(n," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(e.message))}var Al="DenseMatrix",_l=["Matrix","config"],Bl=le(Al,_l,e=>{var{Matrix:t,config:n}=e;function r(c,p){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!gt(p))throw new Error("Invalid datatype: "+p);if(Re(c))c.type==="DenseMatrix"?(this._data=Te(c._data),this._size=Te(c._size),this._datatype=p||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=p||c._datatype);else if(c&&ze(c.data)&&ze(c.size))this._data=c.data,this._size=c.size,Wr(this._data,this._size),this._datatype=p||c.datatype;else if(ze(c))this._data=d(c),this._size=Ye(this._data),Wr(this._data,this._size),this._datatype=p;else{if(c)throw new TypeError("Unsupported type of data ("+Nt(c)+")");this._data=[],this._size=[0],this._datatype=p}}r.prototype=new t,r.prototype.createDenseMatrix=function(c,p){return new r(c,p)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return wr(this._data,Nt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,p){return new r(c,p)},r.prototype.subset=function(c,p,h){switch(arguments.length){case 1:return i(this,c);case 2:case 3:return o(this,c,p,h);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){return iu(this._data,c)},r.prototype.set=function(c,p,h){if(!ze(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Ae(c.length,this._size.length,"<");var v,s,g,E=c.map(function(w){return w+1});l(this,E,h);var C=this._data;for(v=0,s=c.length-1;v<s;v++)g=c[v],xe(g,C.length),C=C[g];return g=c[c.length-1],xe(g,C.length),C[g]=p,this};function i(c,p){if(!pr(p))throw new TypeError("Invalid index");var h=n.legacySubset?p.size().every(m=>m===1):p.isScalar();if(h)return c.get(p.min());var v=p.size();if(v.length!==c._size.length)throw new Ae(v.length,c._size.length);for(var s=p.min(),g=p.max(),E=0,C=c._size.length;E<C;E++)xe(s[E],c._size[E]),xe(g[E],c._size[E]);var w=new r,y=u(c._data,p);return w._size=y.size,w._datatype=c._datatype,w._data=y.data,n.legacySubset?w.reshape(p.size()):w}function u(c,p){var h=p.size().length-1,v=Array(h);return{data:s(c),size:v.filter(g=>g!==null)};function s(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=p.dimension(E);function w(y,m){return pe(y)?m(y):y.map(m).valueOf()}return pe(C)?v[E]=null:v[E]=C.size()[0],E<h?w(C,y=>(xe(y,g.length),s(g[y],E+1))):w(C,y=>(xe(y,g.length),g[y]))}}function o(c,p,h,v){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var s=p.size(),g=p.isScalar(),E;if(Re(h)?(E=h.size(),h=h.valueOf()):E=Ye(h),g){if(E.length!==0)throw new TypeError("Scalar expected");c.set(p.min(),h,v)}else{if(!Yt(E,s)){if(E.length===0)h=Zr([h],s);else try{h=Zr(h,s)}catch{}E=Ye(h)}if(s.length<c._size.length)throw new Ae(s.length,c._size.length,"<");if(E.length<s.length){for(var C=0,w=0;s[C]===1&&E[C]===1;)C++;for(;s[C]===1;)w++,C++;h=eu(h,s.length,w,E)}if(!Yt(s,E))throw new Ae(s,E,">");var y=p.max().map(function(m){return m+1});l(c,y,v),a(c._data,p,h)}return c}function a(c,p,h){var v=p.size().length-1;s(c,h);function s(g,E){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=p.dimension(C),y=(D,F)=>{xe(D,g.length),s(g[D],E[F[0]],C+1)},m=(D,F)=>{xe(D,g.length),g[D]=E[F[0]]};C<v?pe(w)?y(w,[0]):w.forEach(y):pe(w)?m(w,[0]):w.forEach(m)}}r.prototype.resize=function(c,p,h){if(!xn(c))throw new TypeError("Array or Matrix expected");var v=c.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),s=h?this.clone():this;return f(s,v,p)};function f(c,p,h){if(p.length===0){for(var v=c._data;ze(v);)v=v[0];return v}return c._size=p.slice(0),c._data=kn(c._data,c._size,h),c}r.prototype.reshape=function(c,p){var h=p?this.clone():this;h._data=Xi(h._data,c);var v=h._size.reduce((s,g)=>s*g);return h._size=Dr(c,v),h};function l(c,p,h){for(var v=c._size.slice(0),s=!1;v.length<p.length;)v.push(0),s=!0;for(var g=0,E=p.length;g<E;g++)p[g]>v[g]&&(v[g]=p[g],s=!0);s&&f(c,v,h)}r.prototype.clone=function(){var c=new r({data:Te(this._data),size:Te(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this,v=h._size.length-1;if(v<0)return h.clone();var s=On(c,h,"map",p),g=s.fn,E=h.create(void 0,h._datatype);if(E._size=h._size,p||s.isUnary)return E._data=F(h._data),E;if(v===0){for(var C=h.valueOf(),w=Array(C.length),y=0;y<C.length;y++)w[y]=g(C[y],[y],h);return E._data=w,E}var m=[];return E._data=D(h._data),E;function D(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=Array(A.length);if(_<v)for(var k=0;k<A.length;k++)m[_]=k,M[k]=D(A[k],_+1);else for(var z=0;z<A.length;z++)m[_]=z,M[z]=g(A[z],m.slice(),h);return M}function F(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=Array(A.length);if(_<v)for(var k=0;k<A.length;k++)M[k]=F(A[k],_+1);else for(var z=0;z<A.length;z++)M[z]=g(A[z]);return M}},r.prototype.forEach=function(c){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this,v=h._size.length-1;if(v<0)return;var s=On(c,h,"map",p),g=s.fn;if(p||s.isUnary){y(h._data);return}if(v===0){for(var E=0;E<h._data.length;E++)g(h._data[E],[E],h);return}var C=[];w(h._data);function w(m){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(D<v)for(var F=0;F<m.length;F++)C[D]=F,w(m[F],D+1);else for(var A=0;A<m.length;A++)C[D]=A,g(m[A],C.slice(),h)}function y(m){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(D<v)for(var F=0;F<m.length;F++)y(m[F],D+1);else for(var A=0;A<m.length;A++)g(m[A])}},r.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var p=0;p<this._data.length;p++)yield{value:this._data[p],index:[p]};return}for(var h=Array(c+1).fill(0),v=this._size.reduce((w,y)=>w*y,1),s=0;s<v;s++){for(var g=this._data,E=0;E<c;E++)g=g[h[E]];yield{value:g[h[c]],index:h.slice()};for(var C=c;C>=0&&(h[C]++,!(h[C]<this._size[C]));C--)h[C]=0}}},r.prototype.rows=function(){var c=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var v of h)c.push(new r([v],this._datatype));return c},r.prototype.columns=function(){var c=this,p=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,s=function(C){var w=v.map(y=>[y[C]]);p.push(new r(w,c._datatype))},g=0;g<h[1];g++)s(g);return p},r.prototype.toArray=function(){return Te(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return Pe(this._data,c)},r.prototype.toString=function(){return Pe(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(Ie(c)&&(c=c.toNumber()),!pe(c)||!Fe(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var p=c>0?c:0,h=c<0?-c:0,v=this._size[0],s=this._size[1],g=Math.min(v-h,s-p),E=[],C=0;C<g;C++)E[C]=this._data[C+h][C+p];return new r({data:E,size:[g],datatype:this._datatype})},r.diagonal=function(c,p,h,v){if(!ze(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(A){if(Ie(A)&&(A=A.toNumber()),!pe(A)||!Fe(A)||A<1)throw new Error("Size values must be positive integers");return A}),h){if(Ie(h)&&(h=h.toNumber()),!pe(h)||!Fe(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var s=h>0?h:0,g=h<0?-h:0,E=c[0],C=c[1],w=Math.min(E-g,C-s),y;if(ze(p)){if(p.length!==w)throw new Error("Invalid value array length");y=function(_){return p[_]}}else if(Re(p)){var m=p.size();if(m.length!==1||m[0]!==w)throw new Error("Invalid matrix length");y=function(_){return p.get([_])}}else y=function(){return p};v||(v=Ie(y(0))?y(0).mul(0):0);var D=[];if(c.length>0){D=kn(D,c,v);for(var F=0;F<w;F++)D[F+g][F+s]=y(F)}return new r({data:D,size:[E,C]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,p){if(!pe(c)||!Fe(c)||!pe(p)||!Fe(p))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return xe(c,this._size[0]),xe(p,this._size[0]),r._swapRows(c,p,this._data),this},r._swapRows=function(c,p,h){var v=h[c];h[c]=h[p],h[p]=v};function d(c){return Re(c)?d(c.valueOf()):ze(c)?c.map(d):c}return r},{isClass:!0});function Ct(e,t,n){if(!n)return Re(e)?e.map(i=>t(i),!1,!0):Hr(e,t,!0);var r=i=>i===0?i:t(i);return Re(e)?e.map(i=>r(i),!1,!0):Hr(e,r,!0)}var uu="number",Vn="number, number";function ou(e){return Math.abs(e)}ou.signature=uu;function au(e,t){return e+t}au.signature=Vn;function su(e,t){return e-t}su.signature=Vn;function lu(e,t){return e*t}lu.signature=Vn;function cu(e){return-e}cu.signature=uu;function fu(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}fu.signature=Vn;function on(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Fe(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Pi(e,t))}function or(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(n),r))}var Kr="isZero",xl=["typed","equalScalar"],Nl=le(Kr,xl,e=>{var{typed:t,equalScalar:n}=e;return t(Kr,{"number | BigNumber | Complex | Fraction":r=>n(r,0),bigint:r=>r===0n,Unit:t.referToSelf(r=>i=>t.find(r,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(r=>i=>Ct(i,r))})});function Ml(e,t,n,r){return Jt(e.re,t.re,n,r)&&Jt(e.im,t.im,n,r)}var Sl=le("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),Pn="equalScalar",Tl=["typed","config"],Il=le(Pn,Tl,e=>{var{typed:t,config:n}=e,r=Sl({typed:t});return t(Pn,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return Jt(u,o,n.relTol,n.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||or(u,o,n.relTol,n.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return Ml(u,o,n.relTol,n.absTol)}},r)});le(Pn,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Pn,{"number, number":function(i,u){return Jt(i,u,n.relTol,n.absTol)}})});var kl="SparseMatrix",Ol=["typed","equalScalar","Matrix"],Pl=le(kl,Ol,e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(s,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!gt(g))throw new Error("Invalid datatype: "+g);if(Re(s))u(this,s,g);else if(s&&ze(s.index)&&ze(s.ptr)&&ze(s.size))this._values=s.values,this._index=s.index,this._ptr=s.ptr,this._size=s.size,this._datatype=g||s.datatype;else if(ze(s))o(this,s,g);else{if(s)throw new TypeError("Unsupported type of data ("+Nt(s)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function u(s,g,E){g.type==="SparseMatrix"?(s._values=g._values?Te(g._values):void 0,s._index=Te(g._index),s._ptr=Te(g._ptr),s._size=Te(g._size),s._datatype=E||g._datatype):o(s,g.valueOf(),E||g._datatype)}function o(s,g,E){s._values=[],s._index=[],s._ptr=[],s._datatype=E;var C=g.length,w=0,y=n,m=0;if(gt(E)&&(y=t.find(n,[E,E])||n,m=t.convert(0,E)),C>0){var D=0;do{s._ptr.push(s._index.length);for(var F=0;F<C;F++){var A=g[F];if(ze(A)){if(D===0&&w<A.length&&(w=A.length),D<A.length){var _=A[D];y(_,m)||(s._values.push(_),s._index.push(F))}}else D===0&&w<1&&(w=1),y(A,m)||(s._values.push(A),s._index.push(F))}D++}while(D<w)}for(;s._ptr.length<=w;)s._ptr.push(s._index.length);s._size=[C,w]}i.prototype=new r,i.prototype.createSparseMatrix=function(s,g){return new i(s,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return wr(this._values,Nt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(s,g){return new i(s,g)},i.prototype.density=function(){var s=this._size[0],g=this._size[1];return s!==0&&g!==0?this._index.length/(s*g):0},i.prototype.subset=function(s,g,E){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,s);case 2:case 3:return f(this,s,g,E);default:throw new SyntaxError("Wrong number of arguments")}};function a(s,g){if(!pr(g))throw new TypeError("Invalid index");var E=g.isScalar();if(E)return s.get(g.min());var C=g.size();if(C.length!==s._size.length)throw new Ae(C.length,s._size.length);var w,y,m,D,F=g.min(),A=g.max();for(w=0,y=s._size.length;w<y;w++)xe(F[w],s._size[w]),xe(A[w],s._size[w]);var _=s._values,M=s._index,k=s._ptr,z=g.dimension(0),j=g.dimension(1),Y=[],W=[];function L(ce,fe){W[ce]=fe[0],Y[ce]=!0}Number.isInteger(z)?L(z,[0]):z.forEach(L);var te=_?[]:void 0,Q=[],ne=[];function oe(ce){for(ne.push(Q.length),m=k[ce],D=k[ce+1];m<D;m++)w=M[m],Y[w]===!0&&(Q.push(W[w]),te&&te.push(_[m]))}return Number.isInteger(j)?oe(j):j.forEach(oe),ne.push(Q.length),new i({values:te,index:Q,ptr:ne,size:C,datatype:s._datatype})}function f(s,g,E,C){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var w=g.size(),y=g.isScalar(),m;if(Re(E)?(m=E.size(),E=E.toArray()):m=Ye(E),y){if(m.length!==0)throw new TypeError("Scalar expected");s.set(g.min(),E,C)}else{if(w.length!==1&&w.length!==2)throw new Ae(w.length,s._size.length,"<");if(m.length<w.length){for(var D=0,F=0;w[D]===1&&m[D]===1;)D++;for(;w[D]===1;)F++,D++;E=eu(E,w.length,F,m)}if(!Yt(w,m))throw new Ae(w,m,">");if(w.length===1){var A=g.dimension(0);k(A,(z,j)=>{xe(z),s.set([z,0],E[j[0]],C)})}else{var _=g.dimension(0),M=g.dimension(1);k(_,(z,j)=>{xe(z),k(M,(Y,W)=>{xe(Y),s.set([z,Y],E[j[0]][W[0]],C)})})}}return s;function k(z,j){pe(z)?j(z,[0]):z.forEach(j)}}i.prototype.get=function(s){if(!ze(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new Ae(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=s[0],E=s[1];xe(g,this._size[0]),xe(E,this._size[1]);var C=l(g,this._ptr[E],this._ptr[E+1],this._index);return C<this._ptr[E+1]&&this._index[C]===g?this._values[C]:0},i.prototype.set=function(s,g,E){if(!ze(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new Ae(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=s[0],w=s[1],y=this._size[0],m=this._size[1],D=n,F=0;gt(this._datatype)&&(D=t.find(n,[this._datatype,this._datatype])||n,F=t.convert(0,this._datatype)),(C>y-1||w>m-1)&&(p(this,Math.max(C+1,y),Math.max(w+1,m),E),y=this._size[0],m=this._size[1]),xe(C,y),xe(w,m);var A=l(C,this._ptr[w],this._ptr[w+1],this._index);return A<this._ptr[w+1]&&this._index[A]===C?D(g,F)?d(A,w,this._values,this._index,this._ptr):this._values[A]=g:D(g,F)||c(A,C,w,g,this._values,this._index,this._ptr),this};function l(s,g,E,C){if(E-g===0)return E;for(var w=g;w<E;w++)if(C[w]===s)return w;return g}function d(s,g,E,C,w){E.splice(s,1),C.splice(s,1);for(var y=g+1;y<w.length;y++)w[y]--}function c(s,g,E,C,w,y,m){w.splice(s,0,C),y.splice(s,0,g);for(var D=E+1;D<m.length;D++)m[D]++}i.prototype.resize=function(s,g,E){if(!xn(s))throw new TypeError("Array or Matrix expected");var C=s.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(y){if(!pe(y)||!Fe(y)||y<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Pe(C)+")")});var w=E?this.clone():this;return p(w,C[0],C[1],g)};function p(s,g,E,C){var w=C||0,y=n,m=0;gt(s._datatype)&&(y=t.find(n,[s._datatype,s._datatype])||n,m=t.convert(0,s._datatype),w=t.convert(w,s._datatype));var D=!y(w,m),F=s._size[0],A=s._size[1],_,M,k;if(E>A){for(M=A;M<E;M++)if(s._ptr[M]=s._values.length,D)for(_=0;_<F;_++)s._values.push(w),s._index.push(_);s._ptr[E]=s._values.length}else E<A&&(s._ptr.splice(E+1,A-E),s._values.splice(s._ptr[E],s._values.length),s._index.splice(s._ptr[E],s._index.length));if(A=E,g>F){if(D){var z=0;for(M=0;M<A;M++){s._ptr[M]=s._ptr[M]+z,k=s._ptr[M+1]+z;var j=0;for(_=F;_<g;_++,j++)s._values.splice(k+j,0,w),s._index.splice(k+j,0,_),z++}s._ptr[A]=s._values.length}}else if(g<F){var Y=0;for(M=0;M<A;M++){s._ptr[M]=s._ptr[M]-Y;var W=s._ptr[M],L=s._ptr[M+1]-Y;for(k=W;k<L;k++)_=s._index[k],_>g-1&&(s._values.splice(k,1),s._index.splice(k,1),Y++)}s._ptr[M]=s._values.length}return s._size[0]=g,s._size[1]=E,s}i.prototype.reshape=function(s,g){if(!ze(s))throw new TypeError("Array expected");if(s.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");s.forEach(function(ne){if(!pe(ne)||!Fe(ne)||ne<=-2||ne===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Pe(s)+")")});var E=this._size[0]*this._size[1];s=Dr(s,E);var C=s[0]*s[1];if(E!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=g?this.clone():this;if(this._size[0]===s[0]&&this._size[1]===s[1])return w;for(var y=[],m=0;m<w._ptr.length;m++)for(var D=0;D<w._ptr[m+1]-w._ptr[m];D++)y.push(m);for(var F=w._values.slice(),A=w._index.slice(),_=0;_<w._index.length;_++){var M=A[_],k=y[_],z=M*w._size[1]+k;y[_]=z%s[1],A[_]=Math.floor(z/s[1])}w._values.length=0,w._index.length=0,w._ptr.length=s[1]+1,w._size=s.slice();for(var j=0;j<w._ptr.length;j++)w._ptr[j]=0;for(var Y=0;Y<F.length;Y++){var W=A[Y],L=y[Y],te=F[Y],Q=l(W,w._ptr[L],w._ptr[L+1],w._index);c(Q,W,L,te,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){var s=new i({values:this._values?Te(this._values):void 0,index:Te(this._index),ptr:Te(this._ptr),size:Te(this._size),datatype:this._datatype});return s},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(s,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var E=this,C=this._size[0],w=this._size[1],y=On(s,E,"map"),m=function(F,A,_){return y.fn(F,[A,_],E)};return h(this,0,C-1,0,w-1,m,g)};function h(s,g,E,C,w,y,m){var D=[],F=[],A=[],_=n,M=0;gt(s._datatype)&&(_=t.find(n,[s._datatype,s._datatype])||n,M=t.convert(0,s._datatype));for(var k=function(me,ke,Se){var Be=y(me,ke,Se);_(Be,M)||(D.push(Be),F.push(ke))},z=C;z<=w;z++){A.push(D.length);var j=s._ptr[z],Y=s._ptr[z+1];if(m)for(var W=j;W<Y;W++){var L=s._index[W];L>=g&&L<=E&&k(s._values[W],L-g,z-C)}else{for(var te={},Q=j;Q<Y;Q++){var ne=s._index[Q];te[ne]=s._values[Q]}for(var oe=g;oe<=E;oe++){var ce=oe in te?te[oe]:0;k(ce,oe-g,z-C)}}}return A.push(D.length),new i({values:D,index:F,ptr:A,size:[E-g+1,w-C+1]})}i.prototype.forEach=function(s,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var E=this,C=this._size[0],w=this._size[1],y=On(s,E,"forEach"),m=0;m<w;m++){var D=this._ptr[m],F=this._ptr[m+1];if(g)for(var A=D;A<F;A++){var _=this._index[A];y.fn(this._values[A],[_,m],E)}else{for(var M={},k=D;k<F;k++){var z=this._index[k];M[z]=this._values[k]}for(var j=0;j<C;j++){var Y=j in M?M[j]:0;y.fn(Y,[j,m],E)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var s=this._size[1],g=0;g<s;g++)for(var E=this._ptr[g],C=this._ptr[g+1],w=E;w<C;w++){var y=this._index[w];yield{value:this._values[w],index:[y,g]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(s,g,E,C,w){var y=C[0],m=C[1],D=[],F,A;for(F=0;F<y;F++)for(D[F]=[],A=0;A<m;A++)D[F][A]=0;for(A=0;A<m;A++)for(var _=E[A],M=E[A+1],k=_;k<M;k++)F=g[k],D[F][A]=s?w?Te(s[k]):s[k]:1;return D}return i.prototype.format=function(s){for(var g=this._size[0],E=this._size[1],C=this.density(),w="Sparse Matrix ["+Pe(g,s)+" x "+Pe(E,s)+"] density: "+Pe(C,s)+`
`,y=0;y<E;y++)for(var m=this._ptr[y],D=this._ptr[y+1],F=m;F<D;F++){var A=this._index[F];w+=`
    (`+Pe(A,s)+", "+Pe(y,s)+") ==> "+(this._values?Pe(this._values[F],s):"X")}return w},i.prototype.toString=function(){return Pe(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(s){if(s){if(Ie(s)&&(s=s.toNumber()),!pe(s)||!Fe(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var g=s>0?s:0,E=s<0?-s:0,C=this._size[0],w=this._size[1],y=Math.min(C-E,w-g),m=[],D=[],F=[];F[0]=0;for(var A=g;A<w&&m.length<y;A++)for(var _=this._ptr[A],M=this._ptr[A+1],k=_;k<M;k++){var z=this._index[k];if(z===A-g+E){m.push(this._values[k]),D[m.length-1]=z-E;break}}return F.push(m.length),new i({values:m,index:D,ptr:F,size:[y,1]})},i.fromJSON=function(s){return new i(s)},i.diagonal=function(s,g,E,C,w){if(!ze(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(ne){if(Ie(ne)&&(ne=ne.toNumber()),!pe(ne)||!Fe(ne)||ne<1)throw new Error("Size values must be positive integers");return ne}),E){if(Ie(E)&&(E=E.toNumber()),!pe(E)||!Fe(E))throw new TypeError("The parameter k must be an integer number")}else E=0;var y=n,m=0;gt(w)&&(y=t.find(n,[w,w])||n,m=t.convert(0,w));var D=E>0?E:0,F=E<0?-E:0,A=s[0],_=s[1],M=Math.min(A-F,_-D),k;if(ze(g)){if(g.length!==M)throw new Error("Invalid value array length");k=function(oe){return g[oe]}}else if(Re(g)){var z=g.size();if(z.length!==1||z[0]!==M)throw new Error("Invalid matrix length");k=function(oe){return g.get([oe])}}else k=function(){return g};for(var j=[],Y=[],W=[],L=0;L<_;L++){W.push(j.length);var te=L-D;if(te>=0&&te<M){var Q=k(te);y(Q,m)||(Y.push(te+F),j.push(Q))}}return W.push(j.length),new i({values:j,index:Y,ptr:W,size:[A,_]})},i.prototype.swapRows=function(s,g){if(!pe(s)||!Fe(s)||!pe(g)||!Fe(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return xe(s,this._size[0]),xe(g,this._size[0]),i._swapRows(s,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(s,g,E,C,w){for(var y=C[s],m=C[s+1],D=y;D<m;D++)w(E[D],g[D])},i._swapRows=function(s,g,E,C,w,y){for(var m=0;m<E;m++){var D=y[m],F=y[m+1],A=l(s,D,F,w),_=l(g,D,F,w);if(A<F&&_<F&&w[A]===s&&w[_]===g){if(C){var M=C[A];C[A]=C[_],C[_]=M}continue}if(A<F&&w[A]===s&&(_>=F||w[_]!==g)){var k=C?C[A]:void 0;w.splice(_,0,g),C&&C.splice(_,0,k),w.splice(_<=A?A+1:A,1),C&&C.splice(_<=A?A+1:A,1);continue}if(_<F&&w[_]===g&&(A>=F||w[A]!==s)){var z=C?C[_]:void 0;w.splice(A,0,s),C&&C.splice(A,0,z),w.splice(A<=_?_+1:_,1),C&&C.splice(A<=_?_+1:_,1)}}},i},{isClass:!0}),Rl="number",zl=["typed"];function $l(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var n={"0b":2,"0o":8,"0x":16}[t[1]],r=t[2],i=t[3];return{input:e,radix:n,integerPart:r,fractionalPart:i}}else return null}function Ll(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++){var i=parseInt(e.fractionalPart[r],e.radix);n+=i/Math.pow(e.radix,r+1)}var u=t+n;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var Ul=le(Rl,zl,e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=$l(i);if(u)return Ll(u);var o=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),i=a[1]);var f=Number(i);if(isNaN(f))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(f>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));f>=2**(o-1)&&(f=f-2**o)}return f},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":t.referToSelf(r=>i=>Ct(i,r))});return n.fromJSON=function(r){return parseFloat(r.value)},n}),ql="bignumber",Vl=["typed","BigNumber"],Wl=le(ql,Vl,e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],a=n(u[1]),f=new n(2).pow(Number(o));if(a.gt(f.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var l=new n(2).pow(Number(o)-1);return a.gte(l)?a.sub(f):a}return new n(i)},BigNumber:function(i){return i},bigint:function(i){return new n(i.toString())},Unit:t.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Fraction:function(i){return new n(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new n(0)},"Array | Matrix":t.referToSelf(r=>i=>Ct(i,r))})}),Zl="fraction",Hl=["typed","Fraction"],jl=le(Zl,Hl,e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(i){if(!Number.isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,u){return new n(i,u)},"bigint, bigint":function(i,u){return new n(i,u)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},bigint:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(r=>i=>{var u=i.clone();return u.value=r(i.value),u}),Object:function(i){return new n(i)},"Array | Matrix":t.referToSelf(r=>i=>Ct(i,r))})}),Gr="matrix",Kl=["typed","Matrix","DenseMatrix","SparseMatrix"],Gl=le(Gr,Kl,e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(Gr,{"":function(){return u([])},string:function(a){return u([],a)},"string, string":function(a,f){return u([],a,f)},Array:function(a){return u(a)},Matrix:function(a){return u(a,a.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,a,f){if(a==="dense"||a==="default"||a===void 0)return new r(o,f);if(a==="sparse")return new i(o,f);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),Yr="unaryMinus",Yl=["typed"],Jl=le(Yr,Yl,e=>{var{typed:t}=e;return t(Yr,{number:cu,"Complex | BigNumber | Fraction":n=>n.neg(),bigint:n=>-n,Unit:t.referToSelf(n=>r=>{var i=r.clone();return i.value=t.find(n,i.valueType())(r.value),i}),"Array | Matrix":t.referToSelf(n=>r=>Ct(r,n,!0))})}),Jr="abs",Xl=["typed"],Ql=le(Jr,Xl,e=>{var{typed:t}=e;return t(Jr,{number:ou,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),bigint:n=>n<0n?-n:n,"Array | Matrix":t.referToSelf(n=>r=>Ct(r,n,!0))})}),Xr="addScalar",ec=["typed"],tc=le(Xr,ec,e=>{var{typed:t}=e;return t(Xr,{"number, number":au,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=t.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Qr="subtractScalar",nc=["typed"],rc=le(Qr,nc,e=>{var{typed:t}=e;return t(Qr,{"number, number":su,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var u=r.clone();return u.value=t.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),ic="matAlgo11xS0s",uc=["typed","equalScalar"],du=le(ic,uc,e=>{var{typed:t,equalScalar:n}=e;return function(i,u,o,a){var f=i._values,l=i._index,d=i._ptr,c=i._size,p=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],v=c[1],s,g=n,E=0,C=o;typeof p=="string"&&(s=p,g=t.find(n,[s,s]),E=t.convert(0,s),u=t.convert(u,s),C=t.find(o,[s,s]));for(var w=[],y=[],m=[],D=0;D<v;D++){m[D]=y.length;for(var F=d[D],A=d[D+1],_=F;_<A;_++){var M=l[_],k=a?C(u,f[_]):C(f[_],u);g(k,E)||(y.push(M),w.push(k))}}return m[v]=y.length,i.createSparseMatrix({values:w,index:y,ptr:m,size:[h,v],datatype:s})}}),oc="matAlgo12xSfs",ac=["typed","DenseMatrix"],sc=le(oc,ac,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,u,o,a){var f=i._values,l=i._index,d=i._ptr,c=i._size,p=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],v=c[1],s,g=o;typeof p=="string"&&(s=p,u=t.convert(u,s),g=t.find(o,[s,s]));for(var E=[],C=[],w=[],y=0;y<v;y++){for(var m=y+1,D=d[y],F=d[y+1],A=D;A<F;A++){var _=l[A];C[_]=f[A],w[_]=m}for(var M=0;M<h;M++)y===0&&(E[M]=[]),w[M]===m?E[M][y]=a?g(u,C[M]):g(C[M],u):E[M][y]=a?g(u,0):g(0,u)}return new n({data:E,size:[h,v],datatype:s})}}),lc="matAlgo14xDs",cc=["typed"],hu=le(lc,cc,e=>{var{typed:t}=e;return function(i,u,o,a){var f=i._data,l=i._size,d=i._datatype,c,p=o;typeof d=="string"&&(c=d,u=t.convert(u,c),p=t.find(o,[c,c]));var h=l.length>0?n(p,0,l,l[0],f,u,a):[];return i.createDenseMatrix({data:h,size:Te(l),datatype:c})};function n(r,i,u,o,a,f,l){var d=[];if(i===u.length-1)for(var c=0;c<o;c++)d[c]=l?r(f,a[c]):r(a[c],f);else for(var p=0;p<o;p++)d[p]=n(r,i+1,u,u[i+1],a[p],f,l);return d}}),fc="multiplyScalar",dc=["typed"],hc=le(fc,dc,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":lu,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),ei="multiply",pc=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],vc=le(ei,pc,e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:u,dot:o}=e,a=du({typed:t,equalScalar:u}),f=hu({typed:t});function l(m,D){switch(m.length){case 1:switch(D.length){case 1:if(m[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(m[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+D[0]+")");break;case 2:if(m[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function d(m,D,F){if(F===0)throw new Error("Cannot multiply two empty vectors");return o(m,D)}function c(m,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(m,D)}function p(m,D){var F=m._data,A=m._size,_=m._datatype||m.getDataType(),M=D._data,k=D._size,z=D._datatype||D.getDataType(),j=A[0],Y=k[1],W,L=r,te=i;_&&z&&_===z&&typeof _=="string"&&_!=="mixed"&&(W=_,L=t.find(r,[W,W]),te=t.find(i,[W,W]));for(var Q=[],ne=0;ne<Y;ne++){for(var oe=te(F[0],M[0][ne]),ce=1;ce<j;ce++)oe=L(oe,te(F[ce],M[ce][ne]));Q[ne]=oe}return m.createDenseMatrix({data:Q,size:[Y],datatype:_===m._datatype&&z===D._datatype?W:void 0})}var h=t("_multiplyMatrixVector",{"DenseMatrix, any":s,"SparseMatrix, any":C}),v=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":E,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":y});function s(m,D){var F=m._data,A=m._size,_=m._datatype||m.getDataType(),M=D._data,k=D._datatype||D.getDataType(),z=A[0],j=A[1],Y,W=r,L=i;_&&k&&_===k&&typeof _=="string"&&_!=="mixed"&&(Y=_,W=t.find(r,[Y,Y]),L=t.find(i,[Y,Y]));for(var te=[],Q=0;Q<z;Q++){for(var ne=F[Q],oe=L(ne[0],M[0]),ce=1;ce<j;ce++)oe=W(oe,L(ne[ce],M[ce]));te[Q]=oe}return m.createDenseMatrix({data:te,size:[z],datatype:_===m._datatype&&k===D._datatype?Y:void 0})}function g(m,D){var F=m._data,A=m._size,_=m._datatype||m.getDataType(),M=D._data,k=D._size,z=D._datatype||D.getDataType(),j=A[0],Y=A[1],W=k[1],L,te=r,Q=i;_&&z&&_===z&&typeof _=="string"&&_!=="mixed"&&_!=="mixed"&&(L=_,te=t.find(r,[L,L]),Q=t.find(i,[L,L]));for(var ne=[],oe=0;oe<j;oe++){var ce=F[oe];ne[oe]=[];for(var fe=0;fe<W;fe++){for(var me=Q(ce[0],M[0][fe]),ke=1;ke<Y;ke++)me=te(me,Q(ce[ke],M[ke][fe]));ne[oe][fe]=me}}return m.createDenseMatrix({data:ne,size:[j,W],datatype:_===m._datatype&&z===D._datatype?L:void 0})}function E(m,D){var F=m._data,A=m._size,_=m._datatype||m.getDataType(),M=D._values,k=D._index,z=D._ptr,j=D._size,Y=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var W=A[0],L=j[1],te,Q=r,ne=i,oe=u,ce=0;_&&Y&&_===Y&&typeof _=="string"&&_!=="mixed"&&(te=_,Q=t.find(r,[te,te]),ne=t.find(i,[te,te]),oe=t.find(u,[te,te]),ce=t.convert(0,te));for(var fe=[],me=[],ke=[],Se=D.createSparseMatrix({values:fe,index:me,ptr:ke,size:[W,L],datatype:_===m._datatype&&Y===D._datatype?te:void 0}),Be=0;Be<L;Be++){ke[Be]=me.length;var be=z[Be],Ge=z[Be+1];if(Ge>be)for(var De=0,ge=0;ge<W;ge++){for(var rt=ge+1,Ve=void 0,we=be;we<Ge;we++){var Le=k[we];De!==rt?(Ve=ne(F[ge][Le],M[we]),De=rt):Ve=Q(Ve,ne(F[ge][Le],M[we]))}De===rt&&!oe(Ve,ce)&&(me.push(ge),fe.push(Ve))}}return ke[L]=me.length,Se}function C(m,D){var F=m._values,A=m._index,_=m._ptr,M=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=D._data,z=D._datatype||D.getDataType(),j=m._size[0],Y=D._size[0],W=[],L=[],te=[],Q,ne=r,oe=i,ce=u,fe=0;M&&z&&M===z&&typeof M=="string"&&M!=="mixed"&&(Q=M,ne=t.find(r,[Q,Q]),oe=t.find(i,[Q,Q]),ce=t.find(u,[Q,Q]),fe=t.convert(0,Q));var me=[],ke=[];te[0]=0;for(var Se=0;Se<Y;Se++){var Be=k[Se];if(!ce(Be,fe))for(var be=_[Se],Ge=_[Se+1],De=be;De<Ge;De++){var ge=A[De];ke[ge]?me[ge]=ne(me[ge],oe(Be,F[De])):(ke[ge]=!0,L.push(ge),me[ge]=oe(Be,F[De]))}}for(var rt=L.length,Ve=0;Ve<rt;Ve++){var we=L[Ve];W[Ve]=me[we]}return te[1]=L.length,m.createSparseMatrix({values:W,index:L,ptr:te,size:[j,1],datatype:M===m._datatype&&z===D._datatype?Q:void 0})}function w(m,D){var F=m._values,A=m._index,_=m._ptr,M=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=D._data,z=D._datatype||D.getDataType(),j=m._size[0],Y=D._size[0],W=D._size[1],L,te=r,Q=i,ne=u,oe=0;M&&z&&M===z&&typeof M=="string"&&M!=="mixed"&&(L=M,te=t.find(r,[L,L]),Q=t.find(i,[L,L]),ne=t.find(u,[L,L]),oe=t.convert(0,L));for(var ce=[],fe=[],me=[],ke=m.createSparseMatrix({values:ce,index:fe,ptr:me,size:[j,W],datatype:M===m._datatype&&z===D._datatype?L:void 0}),Se=[],Be=[],be=0;be<W;be++){me[be]=fe.length;for(var Ge=be+1,De=0;De<Y;De++){var ge=k[De][be];if(!ne(ge,oe))for(var rt=_[De],Ve=_[De+1],we=rt;we<Ve;we++){var Le=A[we];Be[Le]!==Ge?(Be[Le]=Ge,fe.push(Le),Se[Le]=Q(ge,F[we])):Se[Le]=te(Se[Le],Q(ge,F[we]))}}for(var it=me[be],wt=fe.length,yt=it;yt<wt;yt++){var zt=fe[yt];ce[yt]=Se[zt]}}return me[W]=fe.length,ke}function y(m,D){var F=m._values,A=m._index,_=m._ptr,M=m._datatype||m._data===void 0?m._datatype:m.getDataType(),k=D._values,z=D._index,j=D._ptr,Y=D._datatype||D._data===void 0?D._datatype:D.getDataType(),W=m._size[0],L=D._size[1],te=F&&k,Q,ne=r,oe=i;M&&Y&&M===Y&&typeof M=="string"&&M!=="mixed"&&(Q=M,ne=t.find(r,[Q,Q]),oe=t.find(i,[Q,Q]));for(var ce=te?[]:void 0,fe=[],me=[],ke=m.createSparseMatrix({values:ce,index:fe,ptr:me,size:[W,L],datatype:M===m._datatype&&Y===D._datatype?Q:void 0}),Se=te?[]:void 0,Be=[],be,Ge,De,ge,rt,Ve,we,Le,it=0;it<L;it++){me[it]=fe.length;var wt=it+1;for(rt=j[it],Ve=j[it+1],ge=rt;ge<Ve;ge++)if(Le=z[ge],te)for(Ge=_[Le],De=_[Le+1],be=Ge;be<De;be++)we=A[be],Be[we]!==wt?(Be[we]=wt,fe.push(we),Se[we]=oe(k[ge],F[be])):Se[we]=ne(Se[we],oe(k[ge],F[be]));else for(Ge=_[Le],De=_[Le+1],be=Ge;be<De;be++)we=A[be],Be[we]!==wt&&(Be[we]=wt,fe.push(we));if(te)for(var yt=me[it],zt=fe.length,$t=yt;$t<zt;$t++){var Hn=fe[$t];ce[$t]=Se[Hn]}}return me[L]=fe.length,ke}return t(ei,i,{"Array, Array":t.referTo("Matrix, Matrix",m=>(D,F)=>{l(Ye(D),Ye(F));var A=m(n(D),n(F));return Re(A)?A.valueOf():A}),"Matrix, Matrix":function(D,F){var A=D.size(),_=F.size();return l(A,_),A.length===1?_.length===1?d(D,F,A[0]):c(D,F):_.length===1?h(D,F):v(D,F)},"Matrix, Array":t.referTo("Matrix,Matrix",m=>(D,F)=>m(D,n(F))),"Array, Matrix":t.referToSelf(m=>(D,F)=>m(n(D,F.storage()),F)),"SparseMatrix, any":function(D,F){return a(D,F,i,!1)},"DenseMatrix, any":function(D,F){return f(D,F,i,!1)},"any, SparseMatrix":function(D,F){return a(F,D,i,!0)},"any, DenseMatrix":function(D,F){return f(F,D,i,!0)},"Array, any":function(D,F){return f(n(D),F,i,!1).valueOf()},"any, Array":function(D,F){return f(n(F),D,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(m=>(D,F,A)=>{for(var _=m(D,F),M=0;M<A.length;M++)_=m(_,A[M]);return _})})}),ti="conj",gc=["typed"],mc=le(ti,gc,e=>{var{typed:t}=e;return t(ti,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),Unit:t.referToSelf(n=>r=>new r.constructor(n(r.toNumeric()),r.formatUnits())),"Array | Matrix":t.referToSelf(n=>r=>Ct(r,n))})}),ni="identity",Dc=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],wc=le(ni,Dc,e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:u,SparseMatrix:o}=e;return t(ni,{"":function(){return n.matrix==="Matrix"?r([]):[]},string:function(d){return r(d)},"number | BigNumber":function(d){return f(d,d,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(d,c){return f(d,d,c)},"number | BigNumber, number | BigNumber":function(d,c){return f(d,c,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(d,c,p){return f(d,c,p)},Array:function(d){return a(d)},"Array, string":function(d,c){return a(d,c)},Matrix:function(d){return a(d.valueOf(),d.storage())},"Matrix, string":function(d,c){return a(d.valueOf(),c)}});function a(l,d){switch(l.length){case 0:return d?r(d):[];case 1:return f(l[0],l[0],d);case 2:return f(l[0],l[1],d);default:throw new Error("Vector containing two values expected")}}function f(l,d,c){var p=Ie(l)||Ie(d)?i:null;if(Ie(l)&&(l=l.toNumber()),Ie(d)&&(d=d.toNumber()),!Fe(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Fe(d)||d<1)throw new Error("Parameters in function identity must be positive integers");var h=p?new i(1):1,v=p?new p(0):0,s=[l,d];if(c){if(c==="sparse")return o.diagonal(s,h,0,v);if(c==="dense")return u.diagonal(s,h,0,v);throw new TypeError('Unknown matrix type "'.concat(c,'"'))}for(var g=kn([],s,v),E=l<d?l:d,C=0;C<E;C++)g[C][C]=h;return g}});function yc(){throw new Error('No "bignumber" implementation available')}function Ec(){throw new Error('No "fraction" implementation available')}var ri="size",bc=["typed"],Cc=le(ri,bc,e=>{var{typed:t}=e;return t(ri,{Matrix:n=>n.size(),Array:Ye,string:n=>[n.length],"number | Complex | BigNumber | Unit | boolean | null":n=>[]})}),ii="zeros",Fc=["typed","config","matrix","BigNumber"],Ac=le(ii,Fc,e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(ii,{"":function(){return n.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(l){var d=l[l.length-1];if(typeof d=="string"){var c=l.pop();return u(l,c)}else return n.matrix==="Array"?u(l):u(l,"default")},Array:u,Matrix:function(l){var d=l.storage();return u(l.valueOf(),d)},"Array | Matrix, string":function(l,d){return u(l.valueOf(),d)}});function u(f,l){var d=o(f),c=d?new i(0):0;if(a(f),l){var p=r(l);return f.length>0?p.resize(f,c):p}else{var h=[];return f.length>0?kn(h,f,c):h}}function o(f){var l=!1;return f.forEach(function(d,c,p){Ie(d)&&(l=!0,p[c]=d.toNumber())}),l}function a(f){f.forEach(function(l){if(typeof l!="number"||!Fe(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}}),_c="numeric",Bc=["number","?bignumber","?fraction"],xc=le(_c,Bc,e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>t(o),BigNumber:n?o=>n(o):yc,bigint:o=>BigInt(o),Fraction:r?o=>r(o):Ec};return function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var d=Nt(a);if(!(d in i))throw new TypeError("Cannot convert "+a+' of type "'+d+'"; valid input types are '+Object.keys(i).join(", "));if(!(f in u))throw new TypeError("Cannot convert "+a+' to type "'+f+'"; valid output types are '+Object.keys(u).join(", "));return f===d?a:u[f](a)}}),ui="divideScalar",Nc=["typed","numeric"],Mc=le(ui,Nc,e=>{var{typed:t,numeric:n}=e;return t(ui,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),oi="pow",Sc=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Tc=le(oi,Sc,e=>{var{typed:t,config:n,identity:r,multiply:i,matrix:u,inv:o,number:a,fraction:f,Complex:l}=e;return t(oi,{"number, number":d,"Complex, Complex":function(v,s){return v.pow(s)},"BigNumber, BigNumber":function(v,s){return s.isInteger()||v>=0||n.predictable?v.pow(s):new l(v.toNumber(),0).pow(s.toNumber(),0)},"bigint, bigint":(h,v)=>h**v,"Fraction, Fraction":function(v,s){var g=v.pow(s);if(g!=null)return g;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return d(v.valueOf(),s.valueOf())},"Array, number":c,"Array, BigNumber":function(v,s){return c(v,s.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(v,s){return p(v,s.toNumber())},"Unit, number | BigNumber":function(v,s){return v.pow(s)}});function d(h,v){if(n.predictable&&!Fe(v)&&h<0)try{var s=f(v),g=a(s);if((v===g||Math.abs((v-g)/v)<1e-14)&&s.d%2n===1n)return(s.n%2n===0n?1:-1)*Math.pow(-h,v)}catch{}return n.predictable&&(h<-1&&v===1/0||h>-1&&h<0&&v===-1/0)?NaN:Fe(v)||h>=0||n.predictable?fu(h,v):h*h<1&&v===1/0||h*h>1&&v===-1/0?0:new l(h,0).pow(v,0)}function c(h,v){if(!Fe(v))throw new TypeError("For A^b, b must be an integer (value is "+v+")");var s=Ye(h);if(s.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+s.length+" dimensions)");if(s[0]!==s[1])throw new Error("For A^b, A must be square (size is "+s[0]+"x"+s[1]+")");if(v<0)try{return c(o(h),-v)}catch(C){throw C.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+v+")"):C}for(var g=r(s[0]).valueOf(),E=h;v>=1;)(v&1)===1&&(g=i(E,g)),v>>=1,E=i(E,E);return g}function p(h,v){return u(c(h.valueOf(),v))}}),Zt="Number of decimals in function round must be an integer",ai="round",Ic=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],kc=le(ai,Ic,e=>{var{typed:t,config:n,matrix:r,equalScalar:i,zeros:u,BigNumber:o,DenseMatrix:a}=e,f=du({typed:t,equalScalar:i}),l=sc({typed:t,DenseMatrix:a}),d=hu({typed:t});function c(p){return Math.abs(pn(p).exponent)}return t(ai,{number:function(h){var v=on(h,c(n.relTol)),s=Jt(h,v,n.relTol,n.absTol)?v:h;return on(s)},"number, number":function(h,v){var s=c(n.relTol);if(v>=s)return on(h,v);var g=on(h,s),E=Jt(h,g,n.relTol,n.absTol)?g:h;return on(E,v)},"number, BigNumber":function(h,v){if(!v.isInteger())throw new TypeError(Zt);return new o(h).toDecimalPlaces(v.toNumber())},Complex:function(h){return h.round()},"Complex, number":function(h,v){if(v%1)throw new TypeError(Zt);return h.round(v)},"Complex, BigNumber":function(h,v){if(!v.isInteger())throw new TypeError(Zt);var s=v.toNumber();return h.round(s)},BigNumber:function(h){var v=new o(h).toDecimalPlaces(c(n.relTol)),s=or(h,v,n.relTol,n.absTol)?v:h;return s.toDecimalPlaces(0)},"BigNumber, BigNumber":function(h,v){if(!v.isInteger())throw new TypeError(Zt);var s=c(n.relTol);if(v>=s)return h.toDecimalPlaces(v.toNumber());var g=h.toDecimalPlaces(s),E=or(h,g,n.relTol,n.absTol)?g:h;return E.toDecimalPlaces(v.toNumber())},bigint:p=>p,"bigint, number":(p,h)=>p,"bigint, BigNumber":(p,h)=>p,Fraction:function(h){return h.round()},"Fraction, number":function(h,v){if(v%1)throw new TypeError(Zt);return h.round(v)},"Fraction, BigNumber":function(h,v){if(!v.isInteger())throw new TypeError(Zt);return h.round(v.toNumber())},"Unit, number, Unit":t.referToSelf(p=>function(h,v,s){var g=h.toNumeric(s);return s.multiply(p(g,v))}),"Unit, BigNumber, Unit":t.referToSelf(p=>(h,v,s)=>p(h,v.toNumber(),s)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(p=>(h,v,s)=>Ct(h,g=>p(g,v,s),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(p=>(h,v)=>p(h,0,v)),"Array | Matrix":t.referToSelf(p=>h=>Ct(h,p,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(p=>(h,v)=>f(h,v,p,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(p=>(h,v)=>d(h,v,p,!1)),"Array, number | BigNumber":t.referToSelf(p=>(h,v)=>d(r(h),v,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(p=>(h,v)=>i(h,0)?u(v.size(),v.storage()):l(v,h,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(p=>(h,v)=>i(h,0)?u(v.size(),v.storage()):d(v,h,p,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(p=>(h,v)=>d(r(v),h,p,!0).valueOf())})}),si="dot",Oc=["typed","addScalar","multiplyScalar","conj","size"],Pc=le(si,Oc,e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:u}=e;return t(si,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":f});function o(l,d){var c=u(l),p=u(d),h,v;if(c.length===1)h=c[0];else if(c.length===2&&c[1]===1)h=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h!==v)throw new RangeError("Vectors must have equal length ("+h+" != "+v+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function a(l,d){var c=o(l,d),p=Re(l)?l._data:l,h=Re(l)?l._datatype||l.getDataType():void 0,v=Re(d)?d._data:d,s=Re(d)?d._datatype||d.getDataType():void 0,g=u(l).length===2,E=u(d).length===2,C=n,w=r;if(h&&s&&h===s&&typeof h=="string"&&h!=="mixed"){var y=h;C=t.find(n,[y,y]),w=t.find(r,[y,y])}if(!g&&!E){for(var m=w(i(p[0]),v[0]),D=1;D<c;D++)m=C(m,w(i(p[D]),v[D]));return m}if(!g&&E){for(var F=w(i(p[0]),v[0][0]),A=1;A<c;A++)F=C(F,w(i(p[A]),v[A][0]));return F}if(g&&!E){for(var _=w(i(p[0][0]),v[0]),M=1;M<c;M++)_=C(_,w(i(p[M][0]),v[M]));return _}if(g&&E){for(var k=w(i(p[0][0]),v[0][0]),z=1;z<c;z++)k=C(k,w(i(p[z][0]),v[z][0]));return k}}function f(l,d){o(l,d);for(var c=l._index,p=l._values,h=d._index,v=d._values,s=0,g=n,E=r,C=0,w=0;C<c.length&&w<h.length;){var y=c[C],m=h[w];if(y<m){C++;continue}if(y>m){w++;continue}y===m&&(s=g(s,E(p[C],v[w])),C++,w++)}return s}}),li="det",Rc=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],zc=le(li,Rc,e=>{var{typed:t,matrix:n,subtractScalar:r,multiply:i,divideScalar:u,isZero:o,unaryMinus:a}=e;return t(li,{any:function(d){return Te(d)},"Array | Matrix":function(d){var c;switch(Re(d)?c=d.size():Array.isArray(d)?(d=n(d),c=d.size()):c=[],c.length){case 0:return Te(d);case 1:if(c[0]===1)return Te(d.valueOf()[0]);if(c[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Pe(c)+")");case 2:{var p=c[0],h=c[1];if(p===h)return f(d.clone().valueOf(),p);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+Pe(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Pe(c)+")")}}});function f(l,d,c){if(d===1)return Te(l[0][0]);if(d===2)return r(i(l[0][0],l[1][1]),i(l[1][0],l[0][1]));for(var p=!1,h=new Array(d).fill(0).map((F,A)=>A),v=0;v<d;v++){var s=h[v];if(o(l[s][v])){var g=void 0;for(g=v+1;g<d;g++)if(!o(l[h[g]][v])){s=h[g],h[g]=h[v],h[v]=s,p=!p;break}if(g===d)return l[s][v]}for(var E=l[s][v],C=v===0?1:l[h[v-1]][v-1],w=v+1;w<d;w++)for(var y=h[w],m=v+1;m<d;m++)l[y][m]=u(r(i(l[y][m],E),i(l[y][v],l[s][m])),C)}var D=l[h[d-1]][d-1];return p?a(D):D}}),ci="inv",$c=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Lc=le(ci,$c,e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:u,unaryMinus:o,det:a,identity:f,abs:l}=e;return t(ci,{"Array | Matrix":function(p){var h=Re(p)?p.size():Ye(p);switch(h.length){case 1:if(h[0]===1)return Re(p)?n([r(1,p.valueOf()[0])]):[r(1,p[0])];throw new RangeError("Matrix must be square (size: "+Pe(h)+")");case 2:{var v=h[0],s=h[1];if(v===s)return Re(p)?n(d(p.valueOf(),v,s),p.storage()):d(p,v,s);throw new RangeError("Matrix must be square (size: "+Pe(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Pe(h)+")")}},any:function(p){return r(1,p)}});function d(c,p,h){var v,s,g,E,C;if(p===1){if(E=c[0][0],E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,E)]]}else if(p===2){var w=a(c);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(c[1][1],w),r(o(c[0][1]),w)],[r(o(c[1][0]),w),r(c[0][0],w)]]}else{var y=c.concat();for(v=0;v<p;v++)y[v]=y[v].concat();for(var m=f(p).valueOf(),D=0;D<h;D++){var F=l(y[D][D]),A=D;for(v=D+1;v<p;)l(y[v][D])>F&&(F=l(y[v][D]),A=v),v++;if(F===0)throw Error("Cannot calculate inverse, determinant is zero");v=A,v!==D&&(C=y[D],y[D]=y[v],y[v]=C,C=m[D],m[D]=m[v],m[v]=C);var _=y[D],M=m[D];for(v=0;v<p;v++){var k=y[v],z=m[v];if(v!==D){if(k[D]!==0){for(g=r(o(k[D]),_[D]),s=D;s<h;s++)k[s]=i(k[s],u(g,_[s]));for(s=0;s<h;s++)z[s]=i(z[s],u(g,M[s]))}}else{for(g=_[D],s=D;s<h;s++)k[s]=r(k[s],g);for(s=0;s<h;s++)z[s]=r(z[s],g)}}}return m}}}),vn=js({config:It}),pu=Xs({}),vu=ol({}),yr=ll({}),Wn=Bl({Matrix:yr,config:It}),_e=Ya({BigNumber:vn,Complex:pu,DenseMatrix:Wn,Fraction:vu}),Uc=Ql({typed:_e}),Er=tc({typed:_e}),qc=mc({typed:_e}),Zn=Il({config:It,typed:_e}),gu=hc({typed:_e}),mu=Ul({typed:_e}),Vc=Cc({typed:_e}),Du=Pl({Matrix:yr,equalScalar:Zn,typed:_e}),Wc=rc({typed:_e}),Zc=Wl({BigNumber:vn,typed:_e}),Hc=Pc({addScalar:Er,conj:qc,multiplyScalar:gu,size:Vc,typed:_e}),jc=Nl({equalScalar:Zn,typed:_e}),Rt=Gl({DenseMatrix:Wn,Matrix:yr,SparseMatrix:Du,typed:_e}),br=vc({addScalar:Er,dot:Hc,equalScalar:Zn,matrix:Rt,multiplyScalar:gu,typed:_e}),Kc=Ac({BigNumber:vn,config:It,matrix:Rt,typed:_e}),wu=jl({Fraction:vu,typed:_e}),yu=wc({BigNumber:vn,DenseMatrix:Wn,SparseMatrix:Du,config:It,matrix:Rt,typed:_e}),Gc=xc({bignumber:Zc,fraction:wu,number:mu}),En=kc({BigNumber:vn,DenseMatrix:Wn,config:It,equalScalar:Zn,matrix:Rt,typed:_e,zeros:Kc}),Eu=Jl({typed:_e}),bu=Mc({numeric:Gc,typed:_e}),Yc=zc({divideScalar:bu,isZero:jc,matrix:Rt,multiply:br,subtractScalar:Wc,typed:_e,unaryMinus:Eu}),Jc=Lc({abs:Uc,addScalar:Er,det:Yc,divideScalar:bu,identity:yu,matrix:Rt,multiply:br,typed:_e,unaryMinus:Eu}),Xc=Tc({Complex:pu,config:It,fraction:wu,identity:yu,inv:Jc,matrix:Rt,multiply:br,number:mu,typed:_e});const Qc={class:"relative w-full h-full"},ef={key:0,class:"relative"},fi=ft({__name:"GradualBlur",props:{position:{default:"bottom"},strength:{default:2},height:{default:"6rem"},width:{},divCount:{default:5},exponential:{type:Boolean,default:!1},zIndex:{default:1e3},animated:{type:[Boolean,String],default:!1},duration:{default:"0.3s"},easing:{default:"ease-out"},opacity:{default:1},curve:{default:"linear"},responsive:{type:Boolean,default:!1},mobileHeight:{},tabletHeight:{},desktopHeight:{},mobileWidth:{},tabletWidth:{},desktopWidth:{},preset:{},gpuOptimized:{type:Boolean},hoverIntensity:{},target:{default:"parent"},onAnimationComplete:{},className:{default:""},style:{}},setup(e){const t=e,n={position:"bottom",strength:2,height:"6rem",divCount:5,exponential:!1,zIndex:1e3,animated:!1,duration:"0.3s",easing:"ease-out",opacity:1,curve:"linear",responsive:!1,target:"parent",className:"",style:{}},r={top:{position:"top",height:"6rem"},bottom:{position:"bottom",height:"6rem"},left:{position:"left",height:"6rem"},right:{position:"right",height:"6rem"},subtle:{height:"4rem",strength:1,opacity:.8,divCount:3},intense:{height:"10rem",strength:4,divCount:8,exponential:!0},smooth:{height:"8rem",curve:"bezier",divCount:10},sharp:{height:"5rem",curve:"linear",divCount:4},header:{position:"top",height:"8rem",curve:"ease-out"},footer:{position:"bottom",height:"8rem",curve:"ease-out"},sidebar:{position:"left",height:"6rem",strength:2.5},"page-header":{position:"top",height:"10rem",target:"page",strength:3},"page-footer":{position:"bottom",height:"10rem",target:"page",strength:3}},i={linear:y=>y,bezier:y=>y*y*(3-2*y),"ease-in":y=>y*y,"ease-out":y=>1-Math.pow(1-y,2),"ease-in-out":y=>y<.5?2*y*y:1-Math.pow(-2*y+2,2)/2},u=ue(null),o=ue(!1),a=ue(!0),f=ue(t.height),l=ue(t.width),d=G(()=>{const y=t.preset&&r[t.preset]?r[t.preset]:{};return{...n,...y,...t}}),c=y=>({top:"to top",bottom:"to bottom",left:"to left",right:"to right"})[y]||"to bottom",p=(y,m)=>{let D;return(...F)=>{clearTimeout(D),D=setTimeout(()=>y(...F),m)}},h=()=>{if(!d.value.responsive)return;const y=window.innerWidth,m=d.value;let D=m.height;y<=480&&m.mobileHeight?D=m.mobileHeight:y<=768&&m.tabletHeight?D=m.tabletHeight:y<=1024&&m.desktopHeight&&(D=m.desktopHeight),f.value=D;let F=m.width;y<=480&&m.mobileWidth?F=m.mobileWidth:y<=768&&m.tabletWidth?F=m.tabletWidth:y<=1024&&m.desktopWidth&&(F=m.desktopWidth),l.value=F};let v=null;const s=()=>{d.value.animated!=="scroll"||!u.value||(v=new IntersectionObserver(([y])=>{a.value=y.isIntersecting},{threshold:.1}),v.observe(u.value))},g=G(()=>{const y=[],m=100/d.value.divCount,D=o.value&&d.value.hoverIntensity?d.value.strength*d.value.hoverIntensity:d.value.strength,F=i[d.value.curve]||i.linear;for(let A=1;A<=d.value.divCount;A++){let _=A/d.value.divCount;_=F(_);let M;d.value.exponential?M=Number(Xc(2,_*4))*.0625*D:M=.0625*(_*d.value.divCount+1)*D;const k=En((m*A-m)*10)/10,z=En(m*A*10)/10,j=En((m*A+m)*10)/10,Y=En((m*A+m*2)*10)/10;let W=`transparent ${k}%, black ${z}%`;j<=100&&(W+=`, black ${j}%`),Y<=100&&(W+=`, transparent ${Y}%`);const L=c(d.value.position),te={maskImage:`linear-gradient(${L}, ${W})`,WebkitMaskImage:`linear-gradient(${L}, ${W})`,backdropFilter:`blur(${M.toFixed(3)}rem)`,opacity:d.value.opacity,transition:d.value.animated&&d.value.animated!=="scroll"?`backdrop-filter ${d.value.duration} ${d.value.easing}`:void 0};y.push({style:te})}return y}),E=G(()=>{const y=["top","bottom"].includes(d.value.position),m=["left","right"].includes(d.value.position),D=d.value.target==="page",F={position:D?"fixed":"absolute",pointerEvents:d.value.hoverIntensity?"auto":"none",opacity:a.value?1:0,transition:d.value.animated?`opacity ${d.value.duration} ${d.value.easing}`:void 0,zIndex:D?d.value.zIndex+100:d.value.zIndex,...d.value.style};return y?(F.height=f.value,F.width=l.value||"100%",F[d.value.position]="0",F.left="0",F.right="0"):m&&(F.width=l.value||f.value,F.height="100%",F[d.value.position]="0",F.top="0",F.bottom="0"),F}),C=p(h,100);pt(()=>{d.value.responsive&&(h(),window.addEventListener("resize",C)),d.value.animated==="scroll"&&(a.value=!1,s()),w()}),vt(()=>{d.value.responsive&&window.removeEventListener("resize",C),v&&v.disconnect()}),Mt(()=>a.value,y=>{if(y&&d.value.animated==="scroll"&&t.onAnimationComplete){const m=setTimeout(()=>{t.onAnimationComplete&&t.onAnimationComplete()},parseFloat(d.value.duration)*1e3);return()=>clearTimeout(m)}});const w=()=>{if(typeof document>"u")return;const y="gradual-blur-styles";if(document.getElementById(y))return;const m=document.createElement("style");m.id=y,m.textContent=".gradual-blur{pointer-events:none;transition:opacity .3s ease-out}.gradual-blur-inner{pointer-events:none}",document.head.appendChild(m)};return(y,m)=>(U(),H("div",{ref_key:"containerRef",ref:u,class:ye(["gradual-blur relative isolate",d.value.target==="page"?"gradual-blur-page":"gradual-blur-parent",d.value.className]),style:St(E.value),onMouseenter:m[0]||(m[0]=D=>e.hoverIntensity?o.value=!0:null),onMouseleave:m[1]||(m[1]=D=>e.hoverIntensity?o.value=!1:null)},[R("div",Qc,[(U(!0),H(We,null,ct(g.value,(D,F)=>(U(),H("div",{key:F,class:"absolute inset-0",style:St(D.style)},null,4))),128))]),y.$slots.default?(U(),H("div",ef,[ar(y.$slots,"default")])):he("",!0)],38))}}),tf={class:"p-3"},nf={key:0,class:"text-sm"},rf={key:0,class:"px-3 pb-3"},uf={class:"relative"},of={class:"px-2 pb-3"},af={key:0,class:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-5 bg-green-500 rounded-r-full"},sf={key:1,class:"text-sm font-medium"},lf={class:"flex-1 overflow-y-auto px-2 py-3 space-y-4 relative scrollbar-hide"},cf={key:1},ff={key:0,class:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider"},df={class:"space-y-1"},hf=["onClick"],pf={key:1,class:"space-y-1 mt-1"},vf={key:2},gf={key:0,class:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider"},mf={class:"space-y-1"},Df={key:3},wf={key:0,class:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider"},yf={class:"space-y-1"},Ef={key:0,class:"text-sm text-gray-300 truncate"},bf={class:"p-3 border-t border-white/5"},di=ft({__name:"AppSidebar",props:{collapsed:{type:Boolean}},setup(e){const t=dn(),n=lr(),r=en(),{peers:i,isOnline:u}=Jo(),{isGradualBlurEnabled:o}=dr(),a=ue(""),f=ue(new Set),l=G(()=>r.profiles.filter(C=>C.tags.includes("favorite"))),d=G(()=>r.folders),c=G(()=>r.profiles.filter(C=>!C.folder&&!C.tags.includes("favorite"))),p=[{path:"/dashboard",icon:Fi,label:"Dashboard"},{path:"/connections",icon:cn,label:"Connections"},{path:"/p2p",icon:Ai,label:"P2P Network"},{path:"/settings",icon:ln,label:"Settings"}];function h(C){return r.profiles.filter(w=>w.folder===C)}function v(C){f.value.has(C)?f.value.delete(C):f.value.add(C)}function s(C){return f.value.has(C)}function g(C){return n.path===C||n.path.startsWith(C+"/")}function E(C){return C.peerId||"unknown"}return(C,w)=>{const y=sr("router-link");return U(),H("aside",{class:ye(["h-full bg-gray-950/50 backdrop-blur-glass border-r border-white/5 flex flex-col transition-all duration-300 relative",e.collapsed?"w-[72px]":"w-[280px]"])},[R("div",tf,[R("button",{onClick:w[0]||(w[0]=m=>X(t).push("/connections/new")),class:ye(["w-full flex items-center justify-center gap-2 py-2.5 rounded-xl font-medium transition-all","bg-gradient-to-r from-green-500 to-emerald-500 text-black","hover:from-green-400 hover:to-emerald-400 hover:shadow-lg hover:shadow-green-500/25",e.collapsed?"px-2":"px-4"])},[ae(X(fr),{class:"w-5 h-5"}),e.collapsed?he("",!0):(U(),H("span",nf,"New Connection"))],2)]),e.collapsed?he("",!0):(U(),H("div",rf,[R("div",uf,[ae(X(cr),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),wi(R("input",{"onUpdate:modelValue":w[1]||(w[1]=m=>a.value=m),type:"text",placeholder:"Filter...",class:"w-full pl-9 pr-3 py-2 bg-white/5 border border-white/5 rounded-lg text-sm text-white placeholder-gray-500 focus:border-green-500/30 focus:bg-white/[0.07] focus:outline-none transition-all"},null,512),[[yi,a.value]])])])),R("nav",of,[(U(),H(We,null,ct(p,m=>R("div",{key:m.path},[ae(y,{to:m.path,class:ye(["flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all relative group",g(m.path)?"bg-green-500/10 text-green-400":"text-gray-400 hover:bg-white/5 hover:text-white"])},{default:_t(()=>[g(m.path)?(U(),H("div",af)):he("",!0),(U(),Ne(xt(m.icon),{class:"w-5 h-5 flex-shrink-0"})),e.collapsed?he("",!0):(U(),H("span",sf,Me(m.label),1))]),_:2},1032,["to","class"])])),64))]),w[5]||(w[5]=R("div",{class:"divider mx-3"},null,-1)),R("div",lf,[X(o)&&!e.collapsed?(U(),Ne(fi,{key:0,position:"top",height:"2rem",strength:1.5,"div-count":3,"z-index":10})):he("",!0),l.value.length>0?(U(),H("div",cf,[e.collapsed?he("",!0):(U(),H("div",ff,[ae(X(po),{class:"w-3.5 h-3.5 text-yellow-500"}),w[2]||(w[2]=Ht(" Favorites ",-1))])),R("div",df,[(U(!0),H(We,null,ct(l.value,m=>(U(),Ne(Gn,{key:m.id,profile:m,collapsed:e.collapsed},null,8,["profile","collapsed"]))),128))])])):he("",!0),(U(!0),H(We,null,ct(d.value,m=>(U(),H("div",{key:m},[e.collapsed?he("",!0):(U(),H("button",{key:0,onClick:D=>v(m),class:"w-full flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider hover:text-gray-300 transition-colors"},[(U(),Ne(xt(s(m)?X(vo):X(go)),{class:"w-3.5 h-3.5"})),(U(),Ne(xt(s(m)?X(mo):X(Do)),{class:"w-3.5 h-3.5 text-blue-400"})),Ht(" "+Me(m),1)],8,hf)),s(m)||e.collapsed?(U(),H("div",pf,[(U(!0),H(We,null,ct(h(m),D=>(U(),Ne(Gn,{key:D.id,profile:D,collapsed:e.collapsed},null,8,["profile","collapsed"]))),128))])):he("",!0)]))),128)),c.value.length>0?(U(),H("div",vf,[e.collapsed?he("",!0):(U(),H("div",gf,[ae(X(cn),{class:"w-3.5 h-3.5 text-gray-400"}),w[3]||(w[3]=Ht(" Servers ",-1))])),R("div",mf,[(U(!0),H(We,null,ct(c.value,m=>(U(),Ne(Gn,{key:m.id,profile:m,collapsed:e.collapsed},null,8,["profile","collapsed"]))),128))])])):he("",!0),X(i).length>0?(U(),H("div",Df,[e.collapsed?he("",!0):(U(),H("div",wf,[ae(X(Ci),{class:"w-3.5 h-3.5 text-purple-400"}),w[4]||(w[4]=Ht(" P2P Peers ",-1))])),R("div",yf,[(U(!0),H(We,null,ct(X(i),m=>(U(),H("div",{key:E(m),class:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 cursor-pointer transition-colors"},[ae(X(wo),{class:"w-2 h-2 text-green-500 fill-green-500"}),e.collapsed?he("",!0):(U(),H("span",Ef,Me(E(m).slice(0,8))+"... ",1))]))),128))])])):he("",!0),X(o)&&!e.collapsed?(U(),Ne(fi,{key:4,position:"bottom",height:"2rem",strength:1.5,"div-count":3,"z-index":10})):he("",!0)]),R("div",bf,[R("div",{class:ye(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm",X(u)?"bg-green-500/10":"bg-white/5"])},[R("div",{class:ye(["w-2 h-2 rounded-full",X(u)?"bg-green-500 shadow-lg shadow-green-500/50":"bg-gray-500"])},null,2),e.collapsed?he("",!0):(U(),H("span",{key:0,class:ye(X(u)?"text-green-400":"text-gray-500")},Me(X(u)?"P2P Online":"P2P Offline"),3))],2)])],2)}}}),Cf={class:"p-4 border-b border-white/5"},Ff={class:"flex items-center gap-3"},Af={class:"max-h-[50vh] overflow-y-auto scrollbar-hide"},_f={key:0,class:"p-2"},Bf=["onClick","onMouseenter"],xf={class:"flex-1 min-w-0"},Nf={class:"text-xs text-gray-500"},Mf={key:1,class:"p-2 border-t border-white/5"},Sf=["onClick","onMouseenter"],Tf={class:"flex-1 min-w-0"},If={class:"text-xs text-gray-500 truncate"},kf={key:2,class:"p-8 text-center"},Of={class:"text-gray-500 mb-2"},Pf={class:"px-4 py-3 border-t border-white/5 flex items-center justify-between text-xs text-gray-500"},Rf={class:"flex items-center gap-1"},zf=ft({__name:"CommandPalette",setup(e){const t=dn(),n=en(),{isDark:r,toggleTheme:i}=_i(),u=ue(!1),o=ue(""),a=ue(0),f=ue(null),l=[{id:"new-connection",label:"New Connection",desc:"Create SSH profile",icon:fr,action:()=>t.push("/connections/new")},{id:"quick-connect",label:"Quick Connect",desc:"One-time session",icon:Ci,action:()=>t.push("/connections?quick=true")},{id:"settings",label:"Settings",desc:"App preferences",icon:ln,action:()=>t.push("/settings")},{id:"toggle-theme",label:"Toggle Theme",desc:r.value?"Switch to light":"Switch to dark",icon:r.value?yo:Eo,action:()=>i()},{id:"shortcuts",label:"Keyboard Shortcuts",desc:"View all shortcuts",icon:bo,action:()=>t.push("/settings?tab=keyboard")},{id:"p2p",label:"P2P Network",desc:"Connect via NAT",icon:cn,action:()=>t.push("/p2p")}],d=G(()=>{if(!o.value)return l.slice(0,5);const w=o.value.toLowerCase();return l.filter(y=>y.label.toLowerCase().includes(w)||y.desc.toLowerCase().includes(w))}),c=G(()=>{if(!o.value)return[];const w=o.value.toLowerCase();return n.profiles.filter(y=>y.name.toLowerCase().includes(w)||y.host.toLowerCase().includes(w)||y.username.toLowerCase().includes(w)).slice(0,5).map(y=>({id:y.id,label:y.name,desc:`${y.username}@${y.host}`,icon:Ei,color:y.color,action:()=>n.connect(y.id)}))}),p=G(()=>[...d.value,...c.value]),h=G(()=>p.value.length>0);function v(){u.value=!0,o.value="",a.value=0,mi(()=>f.value?.focus())}function s(){u.value=!1}function g(w){switch(w.key){case"ArrowDown":w.preventDefault(),a.value=(a.value+1)%p.value.length;break;case"ArrowUp":w.preventDefault(),a.value=(a.value-1+p.value.length)%p.value.length;break;case"Enter":w.preventDefault(),C();break;case"Escape":s();break}}function E(w){w.action(),s()}function C(){const w=p.value[a.value];w&&E(w)}return Mt(o,()=>{a.value=0}),pt(()=>{document.addEventListener("open-command-palette",v)}),vt(()=>{document.removeEventListener("open-command-palette",v)}),(w,y)=>(U(),Ne(to,{to:"body"},[ae(eo,{name:"fade"},{default:_t(()=>[u.value?(U(),H("div",{key:0,class:"fixed inset-0 z-[100] flex items-start justify-center pt-[15vh]",onClick:Di(s,["self"])},[y[7]||(y[7]=R("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm"},null,-1)),R("div",{class:"relative w-full max-w-xl mx-4 glass-card overflow-hidden animate-scale-in",style:{background:"rgba(15, 15, 20, 0.95)","border-color":"rgba(255,255,255,0.1)"},onKeydown:g},[R("div",Cf,[R("div",Ff,[ae(X(cr),{class:"w-5 h-5 text-gray-500"}),wi(R("input",{ref_key:"inputRef",ref:f,"onUpdate:modelValue":y[0]||(y[0]=m=>o.value=m),type:"text",placeholder:"Search commands, connections...",class:"flex-1 bg-transparent outline-none text-base text-white placeholder-gray-500"},null,512),[[yi,o.value]]),y[1]||(y[1]=R("div",{class:"flex items-center gap-1"},[R("kbd",{class:"px-1.5 py-0.5 bg-white/5 border border-white/10 rounded text-xs text-gray-500"}," ESC ")],-1))])]),R("div",Af,[d.value.length?(U(),H("div",_f,[y[2]||(y[2]=R("div",{class:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Actions ",-1)),(U(!0),H(We,null,ct(d.value,(m,D)=>(U(),H("button",{key:m.id,onClick:F=>E(m),onMouseenter:F=>a.value=D,class:ye(["w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-left transition-all group",a.value===D?"bg-green-500/10 border border-green-500/20":"border border-transparent hover:bg-white/5"])},[R("div",{class:ye(["w-9 h-9 rounded-lg flex items-center justify-center transition-colors",a.value===D?"bg-green-500/20":"bg-white/5"])},[(U(),Ne(xt(m.icon),{class:ye(["w-4 h-4",a.value===D?"text-green-400":"text-gray-400"])},null,8,["class"]))],2),R("div",xf,[R("div",{class:ye(a.value===D?"text-green-400":"text-white")},Me(m.label),3),R("div",Nf,Me(m.desc),1)]),ae(X(_r),{class:ye(["w-4 h-4 transition-all",a.value===D?"text-green-400 translate-x-0 opacity-100":"text-gray-600 -translate-x-2 opacity-0"])},null,8,["class"])],42,Bf))),128))])):he("",!0),c.value.length?(U(),H("div",Mf,[y[3]||(y[3]=R("div",{class:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Connections ",-1)),(U(!0),H(We,null,ct(c.value,(m,D)=>(U(),H("button",{key:m.id,onClick:F=>E(m),onMouseenter:F=>a.value=d.value.length+D,class:ye(["w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-left transition-all group",a.value===d.value.length+D?"bg-green-500/10 border border-green-500/20":"border border-transparent hover:bg-white/5"])},[R("div",{class:"w-9 h-9 rounded-lg flex items-center justify-center",style:St({backgroundColor:(m.color||"#6b7280")+"20"})},[(U(),Ne(xt(m.icon),{class:"w-4 h-4",style:St({color:m.color||"#6b7280"})},null,8,["style"]))],4),R("div",Tf,[R("div",{class:ye(a.value===d.value.length+D?"text-green-400":"text-white")},Me(m.label),3),R("div",If,Me(m.desc),1)]),ae(X(_r),{class:ye(["w-4 h-4 transition-all",a.value===d.value.length+D?"text-green-400 translate-x-0 opacity-100":"text-gray-600 -translate-x-2 opacity-0"])},null,8,["class"])],42,Sf))),128))])):he("",!0),!h.value&&o.value?(U(),H("div",kf,[R("div",Of,'No results for "'+Me(o.value)+'"',1),y[4]||(y[4]=R("div",{class:"text-xs text-gray-600"},"Try searching for connections or commands",-1))])):he("",!0)]),R("div",Pf,[y[6]||(y[6]=R("div",{class:"flex items-center gap-4"},[R("span",{class:"flex items-center gap-1"},[R("kbd",{class:"px-1 py-0.5 bg-white/5 rounded"},"↑↓"),Ht(" Navigate ")]),R("span",{class:"flex items-center gap-1"},[R("kbd",{class:"px-1 py-0.5 bg-white/5 rounded"},"↵"),Ht(" Select ")])],-1)),R("div",Rf,[ae(X(bi),{class:"w-3 h-3"}),y[5]||(y[5]=R("span",null,"K to open",-1))])])],32)])):he("",!0)]),_:1})]))}}),Cu=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},hi=Cu(zf,[["__scopeId","data-v-1536d509"]]),$f={class:"fixed bottom-4 right-4 z-50 space-y-2 max-w-sm"},Lf={class:"flex-1 min-w-0"},Uf={class:"font-medium"},qf={class:"text-sm opacity-80"},Vf=["onClick"],Wf=["onClick"],Zf=ft({__name:"NotificationContainer",setup(e){const t=hr(),n=G(()=>t.notifications.filter(a=>!a.read).slice(0,5));function r(a){switch(a){case"success":return Bo;case"error":return _o;case"warning":return Ao;default:return Fo}}function i(a){switch(a){case"success":return"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200";case"error":return"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200";case"warning":return"bg-yellow-50 dark:bg-yellow-900/30 border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-200";default:return"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"}}function u(a){switch(a){case"success":return"text-green-500";case"error":return"text-red-500";case"warning":return"text-yellow-500";default:return"text-blue-500"}}function o(a){t.markAsRead(a)}return(a,f)=>(U(),H("div",$f,[ae(no,{name:"notification"},{default:_t(()=>[(U(!0),H(We,null,ct(n.value,l=>(U(),H("div",{key:l.id,class:ye(["flex items-start gap-3 p-4 rounded-lg border shadow-lg",i(l.type)])},[(U(),Ne(xt(r(l.type)),{class:ye(["w-5 h-5 flex-shrink-0",u(l.type)])},null,8,["class"])),R("div",Lf,[R("div",Uf,Me(l.title),1),R("div",qf,Me(l.message),1),l.action?(U(),H("button",{key:0,onClick:d=>{l.action.handler(),o(l.id)},class:"mt-2 text-sm font-medium underline hover:no-underline"},Me(l.action.label),9,Vf)):he("",!0)]),R("button",{onClick:d=>o(l.id),class:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded"},[ae(X(Co),{class:"w-4 h-4"})],8,Wf)],2))),128))]),_:1})]))}}),pi=Cu(Zf,[["__scopeId","data-v-ee9c3228"]]),Hf={class:"fixed bottom-0 left-0 right-0 z-50 bg-gray-950/90 backdrop-blur-glass border-t border-white/5 safe-area-bottom"},jf={class:"flex items-center justify-around h-16 px-2"},Kf=["onClick"],Gf={key:0,class:"absolute top-0 w-12 h-0.5 bg-green-500 rounded-full"},Yf={key:0,class:"absolute top-1 right-1/4 w-4 h-4 bg-green-500 text-black text-[10px] font-bold rounded-full flex items-center justify-center"},vi=ft({__name:"MobileNavigation",setup(e){const t=dn(),n=lr(),r=en(),i=G(()=>r.connectedProfiles.length),u=[{path:"/dashboard",icon:Fi,label:"Home"},{path:"/connections",icon:cn,label:"Servers"},{path:"/p2p",icon:Ai,label:"P2P"},{path:"/settings",icon:ln,label:"Settings"}];function o(f){return f==="/dashboard"?n.path==="/dashboard"||n.path==="/":n.path.startsWith(f)}function a(f){t.push(f)}return(f,l)=>(U(),H("nav",Hf,[l[1]||(l[1]=R("div",{class:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-green-500/30 to-transparent"},null,-1)),R("div",jf,[(U(),H(We,null,ct(u,d=>R("button",{key:d.path,onClick:c=>a(d.path),class:ye(["relative flex flex-col items-center justify-center flex-1 h-full transition-all",o(d.path)?"text-green-400":"text-gray-500 active:text-gray-300"])},[o(d.path)?(U(),H("div",Gf)):he("",!0),R("div",{class:ye(["w-10 h-10 rounded-xl flex items-center justify-center transition-all",o(d.path)?"bg-green-500/10":""])},[(U(),Ne(xt(d.icon),{class:"w-5 h-5"})),d.path==="/connections"&&i.value>0?(U(),H("span",Yf,Me(i.value>9?"9+":i.value),1)):he("",!0)],2),R("span",{class:ye(["text-[10px] font-medium mt-0.5 transition-all",o(d.path)?"opacity-100":"opacity-70"])},Me(d.label),3)],10,Kf)),64)),R("button",{onClick:l[0]||(l[0]=d=>a("/connections/new")),class:"absolute left-1/2 -translate-x-1/2 -top-5 w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg shadow-green-500/30 active:scale-95 transition-transform"},[ae(X(fr),{class:"w-7 h-7 text-black"})])])]))}}),Jf=ft({__name:"ClickSpark",props:{sparkColor:{default:"#fff"},sparkSize:{default:10},sparkRadius:{default:15},sparkCount:{default:8},duration:{default:400},easing:{default:"ease-out"},extraScale:{default:1}},setup(e){const t=e,n=sn("containerRef"),r=sn("canvasRef"),i=ue([]),u=ue(null),o=ue(null),a=G(()=>v=>{switch(t.easing){case"linear":return v;case"ease-in":return v*v;case"ease-in-out":return v<.5?2*v*v:-1+(4-2*v)*v;default:return v*(2-v)}}),f=v=>{const s=r.value;if(!s)return;const g=s.getBoundingClientRect(),E=v.clientX-g.left,C=v.clientY-g.top,w=performance.now(),y=Array.from({length:t.sparkCount},(m,D)=>({x:E,y:C,angle:2*Math.PI*D/t.sparkCount,startTime:w}));i.value.push(...y)},l=v=>{u.value||(u.value=v);const s=r.value,g=s?.getContext("2d");!g||!s||(g.clearRect(0,0,s.width,s.height),i.value=i.value.filter(E=>{const C=v-E.startTime;if(C>=t.duration)return!1;const w=C/t.duration,y=a.value(w),m=y*t.sparkRadius*t.extraScale,D=t.sparkSize*(1-y),F=E.x+m*Math.cos(E.angle),A=E.y+m*Math.sin(E.angle),_=E.x+(m+D)*Math.cos(E.angle),M=E.y+(m+D)*Math.sin(E.angle);return g.strokeStyle=t.sparkColor,g.lineWidth=2,g.beginPath(),g.moveTo(F,A),g.lineTo(_,M),g.stroke(),!0}),o.value=requestAnimationFrame(l))},d=()=>{const v=r.value;if(!v)return;const s=v.parentElement;if(!s)return;const{width:g,height:E}=s.getBoundingClientRect();(v.width!==g||v.height!==E)&&(v.width=g,v.height=E)};let c;const p=()=>{clearTimeout(c),c=setTimeout(d,100)};let h=null;return pt(()=>{const v=r.value;if(!v)return;const s=v.parentElement;s&&(h=new ResizeObserver(p),h.observe(s),d(),o.value=requestAnimationFrame(l))}),vt(()=>{h&&h.disconnect(),clearTimeout(c),o.value&&cancelAnimationFrame(o.value)}),Mt([()=>t.sparkColor,()=>t.sparkSize,()=>t.sparkRadius,()=>t.sparkCount,()=>t.duration,a,()=>t.extraScale],()=>{o.value&&cancelAnimationFrame(o.value),o.value=requestAnimationFrame(l)}),(v,s)=>(U(),H("div",{ref_key:"containerRef",ref:n,class:"relative w-full h-full",onClick:f},[R("canvas",{ref_key:"canvasRef",ref:r,class:"absolute inset-0 pointer-events-none"},null,512),ar(v.$slots,"default")],512))}}),bn=1024,gi=ft({__name:"Noise",props:{patternRefreshInterval:{default:2},patternAlpha:{default:10},mixBlendMode:{default:"normal"}},setup(e){const t=e,n=sn("grainRef");let r=0,i=0;const u=()=>{const c=n.value;c&&(c.width=bn,c.height=bn,c.style.width="100vw",c.style.height="100vh")};let o,a;const f=c=>{o=c.createImageData(bn,bn),a=new Uint32Array(o.data.buffer)},l=()=>{const c=t.patternAlpha<<24;for(let p=0;p<a.length;p++){const h=Math.random()*255|0;a[p]=c|h<<16|h<<8|h}},d=c=>{i%Math.max(1,Math.round(t.patternRefreshInterval))===0&&(l(),c.putImageData(o,0,0)),i++,r=requestAnimationFrame(()=>d(c))};return pt(()=>{const c=n.value;if(!c)return;const p=c.getContext("2d",{alpha:!0});p&&(u(),f(p),l(),p.putImageData(o,0,0),d(p),window.addEventListener("resize",u))}),ro(()=>{window.removeEventListener("resize",u),cancelAnimationFrame(r)}),(c,p)=>(U(),H("canvas",{ref_key:"grainRef",ref:n,class:"pointer-events-none absolute top-0 left-0 h-screen w-screen",style:St(`image-rendering: pixelated; mix-blend-mode: ${t.mixBlendMode}`)},null,4))}}),Xf={class:"h-full flex flex-col bg-gray-950 text-gray-100 overflow-hidden"},Qf={class:"flex-1 flex overflow-hidden relative z-10"},e0={class:"flex-1 overflow-auto"},t0={class:"flex-1 overflow-auto pb-20 relative z-10"},n0={key:1,class:"h-screen flex flex-col bg-gray-950 text-gray-100 overflow-hidden"},r0={class:"flex-1 flex overflow-hidden relative z-10"},i0={class:"flex-1 overflow-auto"},u0={class:"flex-1 overflow-auto pb-20 relative z-10"},o0=ft({__name:"App",setup(e){const t=lr(),n=zn(),r=en();_i();const{isMobile:i}=Bi(),{isClickSparkEnabled:u,isNoiseEnabled:o,visualEffects:a,accentColor:f}=dr();Mo();const l=ue(!1),d=typeof window<"u"&&"__TAURI__"in window,c=G(()=>t.name==="home"&&!d),p=G(()=>a.value.clickSpark.color||f.value||"#27FF64");function h(){l.value=!l.value}return pt(async()=>{document.addEventListener("toggle-sidebar",h),await n.loadSettings(),await r.loadProfiles()}),vt(()=>{document.removeEventListener("toggle-sidebar",h)}),(v,s)=>{const g=sr("router-view");return c.value?(U(),Ne(g,{key:0})):(U(),H(We,{key:1},[X(u)?(U(),Ne(Jf,{key:0,"spark-color":p.value,"spark-count":X(a).clickSpark.sparkCount,"spark-size":X(a).clickSpark.sparkSize,"spark-radius":X(a).clickSpark.sparkRadius,duration:X(a).clickSpark.duration,easing:"ease-out",class:"h-screen"},{default:_t(()=>[R("div",Xf,[s[0]||(s[0]=R("div",{class:"fixed inset-0 pointer-events-none"},[R("div",{class:"absolute inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950"}),R("div",{class:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-green-500/5 rounded-full blur-[120px]"}),R("div",{class:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-emerald-500/5 rounded-full blur-[100px]"})],-1)),X(o)?(U(),Ne(gi,{key:0,"pattern-alpha":X(a).noise.alpha,"pattern-refresh-interval":X(a).noise.refreshInterval,"mix-blend-mode":X(a).noise.mixBlendMode,class:"fixed inset-0 pointer-events-none z-[1000]"},null,8,["pattern-alpha","pattern-refresh-interval","mix-blend-mode"])):he("",!0),X(i)?(U(),H(We,{key:2},[R("main",t0,[ae(g)]),ae(vi)],64)):(U(),H(We,{key:1},[ae(Nr,{onToggleSidebar:h}),R("div",Qf,[ae(di,{collapsed:l.value},null,8,["collapsed"]),R("main",e0,[ae(g)])])],64)),ae(hi),ae(pi)])]),_:1},8,["spark-color","spark-count","spark-size","spark-radius","duration"])):(U(),H("div",n0,[s[1]||(s[1]=R("div",{class:"fixed inset-0 pointer-events-none"},[R("div",{class:"absolute inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950"}),R("div",{class:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-green-500/5 rounded-full blur-[120px]"}),R("div",{class:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-emerald-500/5 rounded-full blur-[100px]"})],-1)),X(o)?(U(),Ne(gi,{key:0,"pattern-alpha":X(a).noise.alpha,"pattern-refresh-interval":X(a).noise.refreshInterval,"mix-blend-mode":X(a).noise.mixBlendMode,class:"fixed inset-0 pointer-events-none z-[1000]"},null,8,["pattern-alpha","pattern-refresh-interval","mix-blend-mode"])):he("",!0),X(i)?(U(),H(We,{key:2},[R("main",u0,[ae(g)]),ae(vi)],64)):(U(),H(We,{key:1},[ae(Nr,{onToggleSidebar:h}),R("div",r0,[ae(di,{collapsed:l.value},null,8,["collapsed"]),R("main",i0,[ae(g)])])],64)),ae(hi),ae(pi)]))],64))}}}),a0=[{path:"/",name:"home",component:()=>tt(()=>import("./DashboardView-Dy_FWyqM.js"),__vite__mapDeps([3,1,4,5,2]))},{path:"/dashboard",name:"dashboard",component:()=>tt(()=>import("./DashboardView-Dy_FWyqM.js"),__vite__mapDeps([3,1,4,5,2]))},{path:"/connections",name:"connections",component:()=>tt(()=>import("./ConnectionsView-KZ5OM5g6.js"),__vite__mapDeps([6,1,7,2]))},{path:"/connections/new",name:"new-connection",component:()=>tt(()=>import("./NewConnectionView-BNoWWNH7.js"),__vite__mapDeps([8,1,9,2]))},{path:"/connections/:id/edit",name:"edit-connection",component:()=>tt(()=>import("./EditConnectionView-JcR8f1K9.js"),__vite__mapDeps([10,1,9,2])),props:!0},{path:"/terminal/:sessionId?",name:"terminal",component:()=>tt(()=>import("./TerminalView-CdE3--dd.js"),__vite__mapDeps([11,1,12,13,2,14,15,16])),props:!0},{path:"/files/:sessionId?",name:"files",component:()=>tt(()=>import("./FilesView-G6GBWqdJ.js"),__vite__mapDeps([17,1,2])),props:!0},{path:"/settings",name:"settings",component:()=>tt(()=>import("./SettingsView-Dly9MkQe.js"),__vite__mapDeps([18,1,13,2]))},{path:"/p2p",name:"p2p",component:()=>tt(()=>import("./P2PView-CLubDVn4.js"),__vite__mapDeps([19,1,2,14,15,7,4,5]))},{path:"/p2p/terminal",name:"p2p-terminal",component:()=>tt(()=>import("./P2PTerminalView-dcp0toIm.js"),__vite__mapDeps([20,1,2,14,15,21]))},{path:"/streaming",name:"streaming",component:()=>tt(()=>import("./StreamingView-CVbLoVdl.js"),__vite__mapDeps([22,1,2]))}],s0=io({history:uo(),routes:a0}),Cr=oo(o0);Cr.use(ao());Cr.use(s0);Cr.mount("#app");export{h0 as R,d0 as S,Mr as T,Oo as _,dr as a,Bi as b,xr as c,Gn as d,hr as e,zn as f,fi as g,No as h,Cu as i,_i as j,Jo as k,Ni as l,hn as m,v0 as n,p0 as o,Kn as p,g0 as q,en as u};
