import{M as x,_ as E}from"./animation-vendor-B1HzE2Z-.js";import{d as F,k as V,c as j,w as $,o as z,a as G,b as y,K as d,m as H,f,E as J,J as K,F as N,D as I,B as p,G as C,H as k,L as Q,Q as R,e as i}from"./vue-vendor-DDhLe2KT.js";const U={class:"sr-only"},W={key:0,class:"whitespace-pre"},X=F({__name:"RotatingText",props:{texts:{},transition:{default:()=>({type:"spring",damping:25,stiffness:300})},initial:{type:[Boolean,Object,String],default:()=>({y:"100%",opacity:0})},animate:{default:()=>({y:0,opacity:1})},exit:{default:()=>({y:"-120%",opacity:0})},animatePresenceMode:{default:"wait"},animatePresenceInitial:{type:Boolean,default:!1},rotationInterval:{default:2e3},staggerDuration:{default:0},staggerFrom:{default:"first"},loop:{type:Boolean,default:!0},auto:{type:Boolean,default:!0},splitBy:{default:"characters"},onNext:{},mainClassName:{},splitLevelClassName:{},elementLevelClassName:{}},setup(r,{expose:L}){const c=(...t)=>t.filter(Boolean).join(" "),s=r,l=V(0);let u=null;const b=t=>{if(typeof Intl<"u"&&"Segmenter"in Intl){const e=Intl;return[...new e.Segmenter("en",{granularity:"grapheme"}).segment(t)].map(({segment:n})=>n)}return[...t]},g=j(()=>{const t=s.texts[l.value];switch(s.splitBy){case"characters":{const e=t.split(" ");return e.map((a,n)=>({characters:b(a),needsSpace:n!==e.length-1}))}case"words":{const e=t.split(" ");return e.map((a,n)=>({characters:[a],needsSpace:n!==e.length-1}))}case"lines":{const e=t.split(`
`);return e.map((a,n)=>({characters:[a],needsSpace:n!==e.length-1}))}default:{const e=t.split(s.splitBy);return e.map((a,n)=>({characters:[a],needsSpace:n!==e.length-1}))}}}),D=(t,e)=>{const{staggerDuration:a,staggerFrom:n}=s;switch(n){case"first":return t*a;case"last":return(e-1-t)*a;case"center":{const o=Math.floor(e/2);return Math.abs(o-t)*a}case"random":{const o=Math.floor(Math.random()*e);return Math.abs(o-t)*a}default:return Math.abs(n-t)*a}},m=t=>{l.value=t,s.onNext?.(t)},w=()=>{const e=l.value===s.texts.length-1?s.loop?0:l.value:l.value+1;e!==l.value&&m(e)},P=()=>{const e=l.value===0?s.loop?s.texts.length-1:l.value:l.value-1;e!==l.value&&m(e)},T=t=>{const e=Math.max(0,Math.min(t,s.texts.length-1));e!==l.value&&m(e)},A=()=>{l.value!==0&&m(0)},B=()=>{u&&(clearInterval(u),u=null)},M=()=>{s.auto&&(u=setInterval(w,s.rotationInterval))};return L({next:w,previous:P,jumpTo:T,reset:A}),$(()=>[s.auto,s.rotationInterval],()=>{B(),M()}),z(()=>{M()}),G(()=>{B()}),(t,e)=>(i(),y(d(x),H({tag:"span",class:c("flex flex-wrap whitespace-pre-wrap relative",r.mainClassName)},t.$attrs,{transition:r.transition,layout:""}),{default:f(()=>[J("span",U,N(r.texts[l.value]),1),K(d(E),{mode:r.animatePresenceMode,initial:r.animatePresenceInitial},{default:f(()=>[(i(),y(d(x),{key:l.value,tag:"span",class:I(c(r.splitBy==="lines"?"flex flex-col w-full":"flex flex-wrap whitespace-pre-wrap relative")),"aria-hidden":"true",layout:""},{default:f(()=>[(i(!0),p(C,null,k(g.value,(a,n)=>(i(),p("span",{key:n,class:I(c("inline-flex",r.splitLevelClassName))},[(i(!0),p(C,null,k(a.characters,(o,S)=>(i(),y(d(x),{key:S,tag:"span",initial:r.initial,animate:r.animate,exit:r.exit,transition:{...r.transition,delay:D(g.value.slice(0,n).reduce((h,v)=>h+v.characters.length,0)+S,g.value.reduce((h,v)=>h+v.characters.length,0))},class:I(c("inline-block",r.elementLevelClassName))},{default:f(()=>[R(N(o),1)]),_:2},1032,["initial","animate","exit","transition","class"]))),128)),a.needsSpace?(i(),p("span",W)):Q("",!0)],2))),128))]),_:1},8,["class"]))]),_:1},8,["mode","initial"])]),_:1},16,["class","transition"]))}});export{X as _};
