import{k as I,c as P,a as ce,d as L,B as i,E as l,Q as O,b as w,L as D,K as v,G as K,H as A,N as E,D as U,g as G,F as B,e as t,R as de,I as te,J as z,o as ue,w as ge,m as pe,S as fe}from"./vue-vendor-CW4dY-Mk.js";import{invoke as R}from"@tauri-apps/api/core";import{e as ve,p as H,l as he}from"./index-C_UVHTrk.js";import{_ as J,C as V,F as se,$ as ae,a0 as ye,a1 as xe,a2 as me,a3 as be,f as re,k as ke,D as oe,v as we,R as _e,a4 as $e,N as Ce,E as De,w as Fe,a5 as X,a6 as ne,a7 as Ie,a8 as ze,a9 as le,aa as Be,u as ee,X as Se,i as Te,ab as Pe,ac as Ne,H as je,z as Ee,y as Ue}from"./ui-vendor-BiLQkvZj.js";import"./animation-vendor-BhxYwKto.js";function Le(){const h=ve(),n=I([]),m=I(!1),p=I(null);let u=null;const _=P(()=>n.value.filter(e=>e.status==="transferring"||e.status==="pending")),d=P(()=>n.value.filter(e=>e.status==="completed"));async function b(){u=await he("transfer-progress",e=>{const s=e.payload,r=n.value.findIndex(f=>f.id===s.transferId);if(r!==-1){const f=s.totalBytes||1;n.value[r]={...n.value[r],transferred:s.bytesTransferred,size:s.totalBytes,progress:Math.round(s.bytesTransferred/f*100),speed:s.speedBps,status:s.bytesTransferred>=s.totalBytes?"completed":"transferring"},s.bytesTransferred>=s.totalBytes&&h.success("Transfer Complete",`${s.filename} transferred successfully`)}})}async function y(e,s){m.value=!0,p.value=null;try{return(await R("file_list",{sessionId:e,path:s})).map(f=>({...f,isDirectory:f.isDir??f.isDirectory}))}catch(r){const f=H(r);throw p.value=f.message,r}finally{m.value=!1}}async function a(e,s,r){const f=crypto.randomUUID();n.value.push({id:f,direction:"upload",name:r.name,remotePath:`${s}/${r.name}`,status:"pending",transferred:0,size:r.size,progress:0});try{const S=await r.arrayBuffer();await R("file_upload",{sessionId:e,remotePath:`${s}/${r.name}`,data:Array.from(new Uint8Array(S))});const C=n.value.findIndex(j=>j.id===f);return C!==-1&&(n.value[C].status="completed",n.value[C].progress=100,n.value[C].transferred=r.size),f}catch(S){const C=n.value.findIndex(j=>j.id===f);throw C!==-1&&(n.value[C].status="failed",n.value[C].error=String(S)),S}}async function $(e,s,r){const f=crypto.randomUUID();n.value.push({id:f,direction:"download",name:r,remotePath:s,status:"pending",transferred:0,size:0,progress:0});try{await R("file_download",{sessionId:e,remotePath:s,filename:r});const S=n.value.findIndex(C=>C.id===f);S!==-1&&(n.value[S].status="completed",n.value[S].progress=100)}catch(S){const C=n.value.findIndex(j=>j.id===f);throw C!==-1&&(n.value[C].status="failed",n.value[C].error=String(S)),S}}async function o(e,s){try{await R("file_delete",{sessionId:e,path:s}),h.success("Deleted",`${s} deleted successfully`)}catch(r){const f=H(r);throw h.error("Delete Failed",f.message),r}}async function x(e,s){try{await R("file_mkdir",{sessionId:e,path:s}),h.success("Created","Directory created successfully")}catch(r){const f=H(r);throw h.error("Create Failed",f.message),r}}function F(e){const s=n.value.findIndex(r=>r.id===e);s!==-1&&(n.value[s].status="cancelled")}function N(){n.value=n.value.filter(e=>e.status!=="completed"&&e.status!=="cancelled")}function c(){u?.()}return ce(c),{transfers:n,isLoading:m,error:p,activeTransfers:_,completedTransfers:d,initialize:b,listFiles:y,uploadFile:a,downloadFile:$,deleteFile:o,createDirectory:x,cancelTransfer:F,clearCompleted:N,dispose:c}}const Me={class:"file-list flex flex-col h-full"},Re={class:"flex items-center px-3 py-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400"},Ke={key:0,class:"flex-1 flex items-center justify-center"},Oe={key:1,class:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400"},Ve={key:2,class:"flex-1 overflow-auto"},Ae=["onClick","onDblclick","onContextmenu","onDragstart","onDrop"],Ge={class:"flex-1 flex items-center gap-2 min-w-0"},He={class:"truncate text-sm text-gray-700 dark:text-gray-300"},Je={class:"w-24 text-right text-xs text-gray-500 dark:text-gray-400"},Xe={class:"w-40 text-right text-xs text-gray-500 dark:text-gray-400"},qe=L({__name:"FileList",props:{entries:{},selectedPaths:{},loading:{type:Boolean}},emits:["select","open","contextmenu","drop"],setup(h,{emit:n}){const m=h,p=n,u=I("name"),_=I("asc"),d=P(()=>{const c=[...m.entries];return c.sort((e,s)=>{if(e.isDirectory!==s.isDirectory)return e.isDirectory?-1:1;let r=0;switch(u.value){case"name":r=e.name.localeCompare(s.name);break;case"size":r=(e.size||0)-(s.size||0);break;case"modified":r=(e.modified||0)-(s.modified||0);break}return _.value==="asc"?r:-r}),c});function b(c){u.value===c?_.value=_.value==="asc"?"desc":"asc":(u.value=c,_.value="asc")}function y(c){if(c.isDirectory)return se;switch(c.name.split(".").pop()?.toLowerCase()){case"txt":case"md":case"log":return be;case"js":case"ts":case"py":case"rs":case"go":case"java":case"c":case"cpp":case"h":case"vue":case"jsx":case"tsx":return me;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":return xe;case"zip":case"tar":case"gz":case"rar":case"7z":return ye;default:return ae}}function a(c){return c===void 0?"-":c<1024?`${c} B`:c<1024*1024?`${(c/1024).toFixed(1)} KB`:c<1024*1024*1024?`${(c/(1024*1024)).toFixed(1)} MB`:`${(c/(1024*1024*1024)).toFixed(1)} GB`}function $(c){return c?new Date(c*1e3).toLocaleString():"-"}function o(c,e){p("select",e,c.ctrlKey||c.metaKey)}function x(c){p("open",c)}function F(c,e){c.dataTransfer?.setData("application/json",JSON.stringify(e))}function N(c,e){if(!e.isDirectory)return;const s=c.dataTransfer?.getData("application/json");if(s){const r=JSON.parse(s);p("drop",[r],e.path)}}return(c,e)=>(t(),i("div",Me,[l("div",Re,[l("button",{class:"flex-1 flex items-center gap-1 text-left hover:text-gray-700 dark:hover:text-gray-200",onClick:e[0]||(e[0]=s=>b("name"))},[e[4]||(e[4]=O(" Name ",-1)),u.value==="name"&&_.value==="asc"?(t(),w(v(J),{key:0,class:"w-3 h-3"})):u.value==="name"?(t(),w(v(V),{key:1,class:"w-3 h-3"})):D("",!0)]),l("button",{class:"w-24 text-right flex items-center justify-end gap-1 hover:text-gray-700 dark:hover:text-gray-200",onClick:e[1]||(e[1]=s=>b("size"))},[e[5]||(e[5]=O(" Size ",-1)),u.value==="size"&&_.value==="asc"?(t(),w(v(J),{key:0,class:"w-3 h-3"})):u.value==="size"?(t(),w(v(V),{key:1,class:"w-3 h-3"})):D("",!0)]),l("button",{class:"w-40 text-right flex items-center justify-end gap-1 hover:text-gray-700 dark:hover:text-gray-200",onClick:e[2]||(e[2]=s=>b("modified"))},[e[6]||(e[6]=O(" Modified ",-1)),u.value==="modified"&&_.value==="asc"?(t(),w(v(J),{key:0,class:"w-3 h-3"})):u.value==="modified"?(t(),w(v(V),{key:1,class:"w-3 h-3"})):D("",!0)])]),h.loading?(t(),i("div",Ke,[...e[7]||(e[7]=[l("div",{class:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"},null,-1)])])):h.entries.length===0?(t(),i("div",Oe,[...e[8]||(e[8]=[l("p",null,"Empty directory",-1)])])):(t(),i("div",Ve,[(t(!0),i(K,null,A(d.value,s=>(t(),i("div",{key:s.path,class:U(["flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-800",{"bg-blue-50 dark:bg-blue-900/20":h.selectedPaths.includes(s.path)}]),draggable:"true",onClick:r=>o(r,s),onDblclick:r=>x(s),onContextmenu:E(r=>p("contextmenu",r,s),["prevent"]),onDragstart:r=>F(r,s),onDragover:e[3]||(e[3]=E(()=>{},["prevent"])),onDrop:E(r=>N(r,s),["prevent"])},[l("div",Ge,[(t(),w(G(y(s)),{class:U(["w-4 h-4 flex-shrink-0",s.isDirectory?"text-yellow-500":"text-gray-400"])},null,8,["class"])),l("span",He,B(s.name),1)]),l("span",Je,B(s.isDirectory?"-":a(s.size)),1),l("span",Xe,B($(s.modified)),1)],42,Ae))),128))]))]))}}),Qe={class:"file-tree text-sm"},Ye=["onClick","onDblclick"],We=["onClick"],Ze={key:1,class:"w-4"},et={class:"truncate text-gray-700 dark:text-gray-300"},tt=L({__name:"FileTree",props:{entries:{},selectedPath:{}},emits:["select","navigate"],setup(h,{emit:n}){const m=h,p=n,u=I(new Set),_=P(()=>[...m.entries].sort((a,$)=>a.isDirectory!==$.isDirectory?a.isDirectory?-1:1:a.name.localeCompare($.name)));function d(a){a.isDirectory&&(u.value.has(a.path)?u.value.delete(a.path):(u.value.add(a.path),p("navigate",a.path)))}function b(a){p("select",a),a.isDirectory&&d(a)}function y(a){return a.isDirectory?u.value.has(a.path)?ke:se:ae}return(a,$)=>(t(),i("div",Qe,[(t(!0),i(K,null,A(_.value,o=>(t(),i("div",{key:o.path,class:"file-tree-item"},[l("div",{class:U(["flex items-center gap-1 px-2 py-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded",{"bg-blue-100 dark:bg-blue-900/30":h.selectedPath===o.path}]),onClick:x=>b(o),onDblclick:x=>o.isDirectory&&p("navigate",o.path)},[o.isDirectory?(t(),i("button",{key:0,class:"p-0.5",onClick:E(x=>d(o),["stop"])},[u.value.has(o.path)?(t(),w(v(V),{key:0,class:"w-3 h-3 text-gray-500"})):(t(),w(v(re),{key:1,class:"w-3 h-3 text-gray-500"}))],8,We)):(t(),i("span",Ze)),(t(),w(G(y(o)),{class:U(["w-4 h-4",o.isDirectory?"text-yellow-500":"text-gray-400"])},null,8,["class"])),l("span",et,B(o.name),1)],42,Ye)]))),128))]))}}),st={key:0,class:"my-1 border-t border-gray-200 dark:border-gray-700"},at=["onClick"],rt={class:"flex-1 text-left"},ot={key:0,class:"text-xs text-gray-400"},nt=L({__name:"FileContextMenu",props:{visible:{type:Boolean},x:{},y:{},entry:{},hasClipboard:{type:Boolean}},emits:["close","download","upload","delete","rename","copy","cut","paste","newFolder","newFile","refresh","properties","chmod"],setup(h,{emit:n}){const m=h,p=n,u=P(()=>{const d=[];return m.entry?(m.entry.isDirectory||d.push({icon:oe,label:"Download",action:"download"}),d.push({icon:we,label:"Rename",action:"rename",shortcut:"F2"}),d.push({icon:_e,label:"Copy",action:"copy",shortcut:"Ctrl+C"}),d.push({icon:$e,label:"Cut",action:"cut",shortcut:"Ctrl+X"}),d.push({divider:!0}),d.push({icon:Ce,label:"Permissions",action:"chmod"}),d.push({icon:De,label:"Properties",action:"properties"}),d.push({divider:!0}),d.push({icon:Fe,label:"Delete",action:"delete",shortcut:"Del",danger:!0})):(d.push({icon:X,label:"Upload files",action:"upload"}),d.push({icon:ne,label:"New folder",action:"newFolder"}),d.push({icon:Ie,label:"New file",action:"newFile"}),d.push({divider:!0}),m.hasClipboard&&d.push({icon:ze,label:"Paste",action:"paste",shortcut:"Ctrl+V"}),d.push({icon:le,label:"Refresh",action:"refresh",shortcut:"F5"})),d});function _(d){p(d),p("close")}return(d,b)=>(t(),w(de,{to:"body"},[h.visible?(t(),i("div",{key:0,class:"fixed inset-0 z-50",onClick:b[1]||(b[1]=y=>p("close")),onContextmenu:b[2]||(b[2]=E(y=>p("close"),["prevent"]))},[l("div",{class:"absolute bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 min-w-[180px]",style:te({left:`${h.x}px`,top:`${h.y}px`}),onClick:b[0]||(b[0]=E(()=>{},["stop"]))},[(t(!0),i(K,null,A(u.value,(y,a)=>(t(),i(K,{key:a},[y.divider?(t(),i("div",st)):(t(),i("button",{key:1,class:U(["w-full flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",y.danger?"text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300"]),onClick:$=>_(y.action)},[(t(),w(G(y.icon),{class:"w-4 h-4"})),l("span",rt,B(y.label),1),y.shortcut?(t(),i("span",ot,B(y.shortcut),1)):D("",!0)],10,at))],64))),128))],4)],32)):D("",!0)]))}}),lt={class:"file-transfer-queue bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},it={class:"flex items-center justify-between px-3 py-2 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},ct={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},dt={key:0,class:"ml-1 text-blue-500"},ut={key:0,class:"p-4 text-center text-sm text-gray-500 dark:text-gray-400"},gt={key:1,class:"max-h-64 overflow-auto"},pt={class:"flex-shrink-0"},ft={class:"flex-1 min-w-0"},vt={class:"flex items-center gap-2"},ht={class:"text-sm truncate text-gray-700 dark:text-gray-300"},yt={key:0,class:"mt-1"},xt={class:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},mt={class:"flex justify-between mt-0.5 text-xs text-gray-500 dark:text-gray-400"},bt={key:0},kt={key:1,class:"text-xs text-red-500 mt-0.5"},wt={key:2,class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},_t={class:"flex items-center gap-1"},$t=["onClick"],Ct=["onClick"],Dt=["onClick"],Ft=["onClick"],It=L({__name:"FileTransferQueue",props:{transfers:{}},emits:["cancel","pause","resume","retry","clear"],setup(h,{emit:n}){const m=h,p=n,u=P(()=>m.transfers.filter(a=>a.status==="pending"||a.status==="transferring")),_=P(()=>m.transfers.filter(a=>a.status==="completed"||a.status==="failed"));function d(a){return a<1024?`${a} B`:a<1024*1024?`${(a/1024).toFixed(1)} KB`:a<1024*1024*1024?`${(a/(1024*1024)).toFixed(1)} MB`:`${(a/(1024*1024*1024)).toFixed(1)} GB`}function b(a){return`${d(a)}/s`}function y(a){switch(a){case"completed":return Pe;case"failed":return Te;default:return null}}return(a,$)=>(t(),i("div",lt,[l("div",it,[l("h3",ct,[$[1]||($[1]=O(" Transfers ",-1)),u.value.length?(t(),i("span",dt,"("+B(u.value.length)+" active)",1)):D("",!0)]),_.value.length?(t(),i("button",{key:0,onClick:$[0]||($[0]=o=>p("clear")),class:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}," Clear completed ")):D("",!0)]),h.transfers.length===0?(t(),i("div",ut," No transfers ")):(t(),i("div",gt,[(t(!0),i(K,null,A(h.transfers,o=>(t(),i("div",{key:o.id,class:"flex items-center gap-3 px-3 py-2 border-b border-gray-100 dark:border-gray-700 last:border-0"},[l("div",pt,[o.direction==="upload"?(t(),w(v(X),{key:0,class:"w-4 h-4 text-blue-500"})):(t(),w(v(oe),{key:1,class:"w-4 h-4 text-green-500"}))]),l("div",ft,[l("div",vt,[l("span",ht,B(o.name),1),y(o.status)?(t(),w(G(y(o.status)),{key:0,class:U(["w-4 h-4 flex-shrink-0",o.status==="completed"?"text-green-500":"text-red-500"])},null,8,["class"])):D("",!0)]),o.status==="transferring"?(t(),i("div",yt,[l("div",xt,[l("div",{class:"h-full bg-blue-500 transition-all duration-300",style:te({width:`${o.progress}%`})},null,4)]),l("div",mt,[l("span",null,B(d(o.transferred))+" / "+B(d(o.size)),1),o.speed?(t(),i("span",bt,B(b(o.speed)),1)):D("",!0)])])):o.status==="failed"?(t(),i("div",kt,B(o.error||"Transfer failed"),1)):o.status==="completed"?(t(),i("div",wt,B(d(o.size)),1)):D("",!0)]),l("div",_t,[o.status==="transferring"?(t(),i("button",{key:0,onClick:x=>p("pause",o.id),class:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500",title:"Pause"},[z(v(Be),{class:"w-4 h-4"})],8,$t)):D("",!0),o.status==="paused"?(t(),i("button",{key:1,onClick:x=>p("resume",o.id),class:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500",title:"Resume"},[z(v(ee),{class:"w-4 h-4"})],8,Ct)):D("",!0),o.status==="failed"?(t(),i("button",{key:2,onClick:x=>p("retry",o.id),class:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500",title:"Retry"},[z(v(ee),{class:"w-4 h-4"})],8,Dt)):D("",!0),o.status!=="completed"?(t(),i("button",{key:3,onClick:x=>p("cancel",o.id),class:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-red-500",title:"Cancel"},[z(v(Se),{class:"w-4 h-4"})],8,Ft)):D("",!0)])]))),128))]))]))}}),zt={class:"file-browser flex flex-col h-full bg-white dark:bg-gray-900"},Bt={class:"flex items-center gap-2 px-3 py-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},St=["disabled"],Tt=["disabled"],Pt={class:"flex-1 px-3 py-1.5 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded text-sm"},Nt={class:"flex-1 flex overflow-hidden"},jt={key:0,class:"w-48 border-r border-gray-200 dark:border-gray-700 overflow-auto"},Et={key:0,class:"border-t border-gray-200 dark:border-gray-700"},Ut=L({__name:"FileBrowser",props:{sessionId:{},initialPath:{}},setup(h){const n=h,{listFiles:m,uploadFile:p,downloadFile:u,deleteFile:_,createDirectory:d,transfers:b,isLoading:y}=Le(),a=I(n.initialPath||"/"),$=I([]),o=I([]),x=I(["/"]),F=I(0),N=I("list"),c=I(!0),e=I({visible:!1,x:0,y:0,entry:void 0}),s=I(null);async function r(g){try{$.value=await m(n.sessionId,g),a.value=g}catch(k){console.error("Failed to load directory:",k)}}function f(g){F.value<x.value.length-1&&(x.value=x.value.slice(0,F.value+1)),x.value.push(g),F.value=x.value.length-1,r(g)}function S(){F.value>0&&(F.value--,r(x.value[F.value]))}function C(){F.value<x.value.length-1&&(F.value++,r(x.value[F.value]))}function j(){f("/home")}function M(){r(a.value)}function q(g,k){if(k){const T=o.value.indexOf(g.path);T>=0?o.value.splice(T,1):o.value.push(g.path)}else o.value=[g.path]}function Q(g){g.isDirectory?f(g.path):u(n.sessionId,g.path,g.name)}function Y(g,k){e.value={visible:!0,x:g.clientX,y:g.clientY,entry:k}}async function W(){const g=document.createElement("input");g.type="file",g.multiple=!0,g.onchange=async()=>{if(g.files){for(const k of g.files)await p(n.sessionId,a.value,k);M()}},g.click()}async function Z(){const g=prompt("Folder name:");g&&(await d(n.sessionId,`${a.value}/${g}`),M())}async function ie(){e.value.entry&&confirm(`Delete ${e.value.entry.name}?`)&&(await _(n.sessionId,e.value.entry.path),M())}return ue(()=>r(a.value)),ge(()=>n.sessionId,()=>r("/")),(g,k)=>(t(),i("div",zt,[l("div",Bt,[l("button",{onClick:S,disabled:F.value===0,class:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50"},[z(v(Ne),{class:"w-4 h-4"})],8,St),l("button",{onClick:C,disabled:F.value>=x.value.length-1,class:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50"},[z(v(re),{class:"w-4 h-4"})],8,Tt),l("button",{onClick:j,class:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[z(v(je),{class:"w-4 h-4"})]),l("div",Pt,B(a.value),1),l("button",{onClick:M,class:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[z(v(le),{class:U(["w-4 h-4",{"animate-spin":v(y)}])},null,8,["class"])]),l("button",{onClick:W,class:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[z(v(X),{class:"w-4 h-4"})]),l("button",{onClick:Z,class:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[z(v(ne),{class:"w-4 h-4"})]),l("button",{onClick:k[0]||(k[0]=T=>N.value=N.value==="list"?"grid":"list"),class:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[N.value==="list"?(t(),w(v(Ee),{key:0,class:"w-4 h-4"})):(t(),w(v(Ue),{key:1,class:"w-4 h-4"}))])]),l("div",Nt,[c.value?(t(),i("div",jt,[z(tt,{entries:$.value,"selected-path":o.value[0],onSelect:k[1]||(k[1]=T=>q(T,!1)),onNavigate:f},null,8,["entries","selected-path"])])):D("",!0),l("div",{class:"flex-1 overflow-hidden",onContextmenu:k[2]||(k[2]=E(T=>Y(T),["prevent"]))},[z(qe,{entries:$.value,"selected-paths":o.value,loading:v(y),onSelect:q,onOpen:Q,onContextmenu:Y},null,8,["entries","selected-paths","loading"])],32)]),v(b).length?(t(),i("div",Et,[z(It,{transfers:v(b)},null,8,["transfers"])])):D("",!0),z(nt,pe(e.value,{"has-clipboard":!!s.value,onClose:k[3]||(k[3]=T=>e.value.visible=!1),onDownload:k[4]||(k[4]=T=>Q(e.value.entry)),onDelete:ie,onUpload:W,onNewFolder:Z,onRefresh:M}),null,16,["has-clipboard"])]))}}),Lt={class:"h-full"},Mt={key:1,class:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400"},Gt=L({__name:"FilesView",setup(h){const n=fe(),m=P(()=>n.params.sessionId);return(p,u)=>(t(),i("div",Lt,[m.value?(t(),w(Ut,{key:0,"session-id":m.value},null,8,["session-id"])):(t(),i("div",Mt,[...u[0]||(u[0]=[l("div",{class:"text-center"},[l("p",{class:"mb-2"},"No active session"),l("p",{class:"text-sm"},"Connect to a server to browse files")],-1)])]))]))}});export{Gt as default};
